//     Underscore.js 1.5.2
//     http://underscorejs.org
//     (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

/*!
 * jQuery JavaScript Library v1.9.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-2-4
 */

/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */

//     (c) 2010-2011 Jeremy Ashkenas, DocumentCloud Inc.
//     (c) 2011-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

/**
 * Adapted from the official plugin text.js
 *
 * Uses UnderscoreJS micro-templates : http://documentcloud.github.com/underscore/#template
 * @author Julien Cabanès <julien@zeeagency.com>
 * @version 0.2
 * 
 * @license RequireJS text 0.24.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */

// MarionetteJS (Backbone.Marionette)
// ----------------------------------
// v1.1.0
//
// Copyright (c)2013 Derick Bailey, Muted Solutions, LLC.
// Distributed under MIT license
//
// http://marionettejs.com

/*!
 * Includes BabySitter
 * https://github.com/marionettejs/backbone.babysitter/
 *
 * Includes Wreqr
 * https://github.com/marionettejs/backbone.wreqr/
 */

// Backbone.BabySitter
// -------------------
// v0.0.6
//
// Copyright (c)2013 Derick Bailey, Muted Solutions, LLC.
// Distributed under MIT license
//
// http://github.com/babysitterjs/backbone.babysitter

// Backbone.Wreqr (Backbone.Marionette)
// ----------------------------------
// v0.2.0
//
// Copyright (c)2013 Derick Bailey, Muted Solutions, LLC.
// Distributed under MIT license
//
// http://github.com/marionettejs/backbone.wreqr

/**
 * @license Highstock JS v1.3.1 (2013-04-09)
 *
 * (c) 2009-2013 Torstein Hønsi
 *
 * License: www.highcharts.com/license
 */

/** # Semantic UI
* Version: 0.10.1
* http://github.com/jlukic/semantic-ui
*
*
* Copyright 2013 Contributors
* Released under the MIT license
* http://opensource.org/licenses/MIT
*
* Release Date: 12/06/2013
*/

/**
 * Copyright (c) 2011-2013 Felix Gnass
 * Licensed under the MIT license
 */

(function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){if(e instanceof x)return e;if(!(this instanceof x))return new x(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.5.2";var T=x.each=x.forEach=function(e,t,r){if(e==null)return;if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else{var o=x.keys(e);for(var i=0,s=o.length;i<s;i++)if(t.call(r,e[o[i]],o[i],e)===n)return}};x.map=x.collect=function(e,t,n){var r=[];return e==null?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},x.filter=x.select=function(e,t,n){var r=[];return e==null?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&r.push(e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return e==null?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return e==null?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};x.contains=x.include=function(e,t){return e==null?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t,n){return x.isEmpty(t)?n?void 0:[]:x[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},x.findWhere=function(e,t){return x.where(e,t,!0)},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-Infinity;var r={computed:-Infinity,value:-Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>r.computed&&(r={value:e,computed:o})}),r.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return Infinity;var r={computed:Infinity,value:Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r},x.sample=function(e,t,n){return arguments.length<2||n?e[x.random(e.length-1)]:x.shuffle(e).slice(0,Math.max(0,t))};var k=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var r=k(t);return x.pluck(x.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var L=function(e){return function(t,n,r){var i={},s=n==null?x.identity:k(n);return T(t,function(n,o){var u=s.call(r,n,o,t);e(i,u,n)}),i}};x.groupBy=L(function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)}),x.indexBy=L(function(e,t,n){e[t]=n}),x.countBy=L(function(e,t){x.has(e,t)?e[t]++:e[t]=1}),x.sortedIndex=function(e,t,n,r){n=n==null?x.identity:k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return e==null?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:u.call(e,0,t)},x.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},x.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return t&&x.every(e,x.isArray)?a.apply(n,e):(T(e,function(e){x.isArray(e)||x.isArguments(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n)};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){if(t?!r||o[o.length-1]!==n:!x.contains(o,n))o.push(n),s.push(e[r])}),s},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){var e=x.max(x.pluck(arguments,"length").concat(0)),t=new Array(e);for(var n=0;n<e;n++)t[n]=x.pluck(arguments,""+n);return t},x.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var O=function(){};x.bind=function(e,t){var n,r;if(S&&e.bind===S)return S.apply(e,u.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=e.prototype;var i=new O;O.prototype=null;var s=e.apply(i,n.concat(u.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){return e.apply(this,t.concat(u.call(arguments)))}},x.bindAll=function(e){var t=u.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");return T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:new Date,o=null,s=e.apply(r,i)};return function(){var f=new Date;!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0?(clearTimeout(o),o=null,u=f,s=e.apply(r,i)):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},x.debounce=function(e,t,n){var r,i,s,o,u;return function(){s=this,i=arguments,o=new Date;var a=function(){var f=new Date-o;f<t?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i)))},f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i)),u}},x.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},x.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},x.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&t.push(n);return t},x.values=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},x.pairs=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},x.invert=function(e){var t={},n=x.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(u)&&u instanceof u))return!1;n.push(e),r.push(t);var a=0,l=!0;if(i=="[object Array]"){a=e.length,l=a==t.length;if(l)while(a--)if(!(l=M(e[a],t[a],n,r)))break}else{for(var c in e)if(x.has(e,c)){a++;if(!(l=x.has(t,c)&&M(e[c],t[c],n,r)))break}if(l){for(c in t)if(x.has(t,c)&&!(a--))break;l=!a}}return n.pop(),r.pop(),l};x.isEqual=function(e,t){return M(e,t,[],[])},x.isEmpty=function(e){if(e==null)return!0;if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&e.nodeType===1},x.isArray=w||function(e){return f.call(e)=="[object Array]"},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),typeof /./!="function"&&(x.isFunction=function(e){return typeof e=="function"}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"},x.isNull=function(e){return e===null},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};_.unescape=x.invert(_.escape);var D={escape:new RegExp("["+x.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(_.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),x.result=function(e,t){if(e==null)return void 0;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(x,e))}})};var P=0;x.uniqueId=function(e){var t=++P+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(j,function(e){return"\\"+B[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],F.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this),define("underscore",function(e){return function(){var t,n;return t||e._}}(this)),function(e,t){function P(e){var t=e.length,n=b.type(e);return b.isWindow(e)?!1:e.nodeType===1&&t?!0:n==="array"||n!=="function"&&(t===0||typeof t=="number"&&t>0&&t-1 in e)}function B(e){var t=H[e]={};return b.each(e.match(E)||[],function(e,n){t[n]=!0}),t}function I(e,n,r,i){if(!b.acceptData(e))return;var s,o,u=b.expando,a=typeof n=="string",f=e.nodeType,c=f?b.cache:e,h=f?e[u]:e[u]&&u;if((!h||!c[h]||!i&&!c[h].data)&&a&&r===t)return;h||(f?e[u]=h=l.pop()||b.guid++:h=u),c[h]||(c[h]={},f||(c[h].toJSON=b.noop));if(typeof n=="object"||typeof n=="function")i?c[h]=b.extend(c[h],n):c[h].data=b.extend(c[h].data,n);return s=c[h],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[b.camelCase(n)]=r),a?(o=s[n],o==null&&(o=s[b.camelCase(n)])):o=s,o}function q(e,t,n){if(!b.acceptData(e))return;var r,i,s,o=e.nodeType,u=o?b.cache:e,a=o?e[b.expando]:b.expando;if(!u[a])return;if(t){s=n?u[a]:u[a].data;if(s){b.isArray(t)?t=t.concat(b.map(t,b.camelCase)):t in s?t=[t]:(t=b.camelCase(t),t in s?t=[t]:t=t.split(" "));for(r=0,i=t.length;r<i;r++)delete s[t[r]];if(!(n?U:b.isEmptyObject)(s))return}}if(!n){delete u[a].data;if(!U(u[a]))return}o?b.cleanData([e],!0):b.support.deleteExpando||u!=u.window?delete u[a]:u[a]=null}function R(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(F,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:j.test(r)?b.parseJSON(r):r}catch(s){}b.data(e,n,r)}else r=t}return r}function U(e){var t;for(t in e){if(t==="data"&&b.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function it(){return!0}function st(){return!1}function ct(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function ht(e,t,n){t=t||0;if(b.isFunction(t))return b.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return b.grep(e,function(e){return e===t===n});if(typeof t=="string"){var r=b.grep(e,function(e){return e.nodeType===1});if(at.test(t))return b.filter(t,r,!n);t=b.filter(t,r)}return b.grep(e,function(e){return b.inArray(e,t)>=0===n})}function pt(e){var t=dt.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function Mt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function _t(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function Dt(e){var t=Ct.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Pt(e,t){var n,r=0;for(;(n=e[r])!=null;r++)b._data(n,"globalEval",!t||b._data(t[r],"globalEval"))}function Ht(e,t){if(t.nodeType!==1||!b.hasData(e))return;var n,r,i,s=b._data(e),o=b._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)b.event.add(t,n,u[n][r])}o.data&&(o.data=b.extend({},o.data))}function Bt(e,t){var n,r,i;if(t.nodeType!==1)return;n=t.nodeName.toLowerCase();if(!b.support.noCloneEvent&&t[b.expando]){i=b._data(t);for(r in i.events)b.removeEvent(t,r,i.handle);t.removeAttribute(b.expando)}if(n==="script"&&t.text!==e.text)_t(t).text=e.text,Dt(t);else if(n==="object")t.parentNode&&(t.outerHTML=e.outerHTML),b.support.html5Clone&&e.innerHTML&&!b.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML);else if(n==="input"&&xt.test(e.type))t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value);else if(n==="option")t.defaultSelected=t.selected=e.defaultSelected;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}function jt(e,n){var r,s,o=0,u=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!u)for(u=[],r=e.childNodes||e;(s=r[o])!=null;o++)!n||b.nodeName(s,n)?u.push(s):b.merge(u,jt(s,n));return n===t||n&&b.nodeName(e,n)?b.merge([e],u):u}function Ft(e){xt.test(e.type)&&(e.defaultChecked=e.checked)}function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--){t=en[i]+n;if(t in e)return t}return r}function nn(e,t){return e=t||e,b.css(e,"display")==="none"||!b.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,s=[],o=0,u=e.length;for(;o<u;o++){r=e[o];if(!r.style)continue;s[o]=b._data(r,"olddisplay"),n=r.style.display,t?(!s[o]&&n==="none"&&(r.style.display=""),r.style.display===""&&nn(r)&&(s[o]=b._data(r,"olddisplay",an(r.nodeName)))):s[o]||(i=nn(r),(n&&n!=="none"||!i)&&b._data(r,"olddisplay",i?n:b.css(r,"display")))}for(o=0;o<u;o++){r=e[o];if(!r.style)continue;if(!t||r.style.display==="none"||r.style.display==="")r.style.display=t?s[o]||"":"none"}return e}function sn(e,t,n){var r=$t.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function on(e,t,n,r,i){var s=n===(r?"border":"content")?4:t==="width"?1:0,o=0;for(;s<4;s+=2)n==="margin"&&(o+=b.css(e,n+Zt[s],!0,i)),r?(n==="content"&&(o-=b.css(e,"padding"+Zt[s],!0,i)),n!=="margin"&&(o-=b.css(e,"border"+Zt[s]+"Width",!0,i))):(o+=b.css(e,"padding"+Zt[s],!0,i),n!=="padding"&&(o+=b.css(e,"border"+Zt[s]+"Width",!0,i)));return o}function un(e,t,n){var r=!0,i=t==="width"?e.offsetWidth:e.offsetHeight,s=qt(e),o=b.support.boxSizing&&b.css(e,"boxSizing",!1,s)==="border-box";if(i<=0||i==null){i=Rt(e,t,s);if(i<0||i==null)i=e.style[t];if(Jt.test(i))return i;r=o&&(b.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+on(e,t,n||(o?"border":"content"),r,s)+"px"}function an(e){var t=s,n=Qt[e];if(!n){n=fn(e,t);if(n==="none"||!n)It=(It||b("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(It[0].contentWindow||It[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=fn(e,t),It.detach();Qt[e]=n}return n}function fn(e,t){var n=b(t.createElement(e)).appendTo(t.body),r=b.css(n[0],"display");return n.remove(),r}function vn(e,t,n,r){var i;if(b.isArray(t))b.each(t,function(t,i){n||cn.test(e)?r(e,i):vn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&b.type(t)==="object")for(i in t)vn(e+"["+i+"]",t[i],n,r);else r(e,t)}function _n(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(E)||[];if(b.isFunction(n))while(r=s[i++])r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Dn(e,t,n,r){function o(u){var a;return i[u]=!0,b.each(e[u]||[],function(e,u){var f=u(t,n,r);if(typeof f=="string"&&!s&&!i[f])return t.dataTypes.unshift(f),o(f),!1;if(s)return!(a=f)}),a}var i={},s=e===An;return o(t.dataTypes[0])||!i["*"]&&o("*")}function Pn(e,n){var r,i,s=b.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((s[i]?e:r||(r={}))[i]=n[i]);return r&&b.extend(!0,e,r),e}function Hn(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(u in l)u in r&&(n[l[u]]=r[u]);while(f[0]==="*")f.shift(),s===t&&(s=e.mimeType||n.getResponseHeader("Content-Type"));if(s)for(u in a)if(a[u]&&a[u].test(s)){f.unshift(u);break}if(f[0]in r)o=f[0];else{for(u in r){if(!f[0]||e.converters[u+" "+f[0]]){o=u;break}i||(i=u)}o=o||i}if(o)return o!==f[0]&&f.unshift(o),r[o]}function Bn(e,t){var n,r,i,s,o={},u=0,a=e.dataTypes.slice(),f=a[0];e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(a[1])for(i in e.converters)o[i.toLowerCase()]=e.converters[i];for(;r=a[++u];)if(r!=="*"){if(f!=="*"&&f!==r){i=o[f+" "+r]||o["* "+r];if(!i)for(n in o){s=n.split(" ");if(s[1]===r){i=o[f+" "+s[0]]||o["* "+s[0]];if(i){i===!0?i=o[n]:o[n]!==!0&&(r=s[0],a.splice(u--,0,r));break}}}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(l){return{state:"parsererror",error:i?l:"No conversion from "+f+" to "+r}}}f=r}return{state:"success",data:t}}function zn(){try{return new e.XMLHttpRequest}catch(t){}}function Wn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Yn(){return setTimeout(function(){Xn=t}),Xn=b.now()}function Zn(e,t){b.each(t,function(t,n){var r=(Gn[t]||[]).concat(Gn["*"]),i=0,s=r.length;for(;i<s;i++)if(r[i].call(e,t,n))return})}function er(e,t,n){var r,i,s=0,o=Qn.length,u=b.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=Xn||Yn(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Yn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=b.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;i=!0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;tr(l,f.opts.specialEasing);for(;s<o;s++){r=Qn[s].call(f,e,l,f.opts);if(r)return r}return Zn(f,l),b.isFunction(f.opts.start)&&f.opts.start.call(e,f),b.fx.timer(b.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function tr(e,t){var n,r,i,s,o;for(i in e){r=b.camelCase(i),s=t[r],n=e[i],b.isArray(n)&&(s=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),o=b.cssHooks[r];if(o&&"expand"in o){n=o.expand(n),delete e[r];for(i in n)i in e||(e[i]=n[i],t[i]=s)}else t[r]=s}}function nr(e,t,n){var r,i,s,o,u,a,f,l,c,h=this,p=e.style,d={},v=[],m=e.nodeType&&nn(e);n.queue||(l=b._queueHooks(e,"fx"),l.unqueued==null&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,h.always(function(){h.always(function(){l.unqueued--,b.queue(e,"fx").length||l.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],b.css(e,"display")==="inline"&&b.css(e,"float")==="none"&&(!b.support.inlineBlockNeedsLayout||an(e.nodeName)==="inline"?p.display="inline-block":p.zoom=1)),n.overflow&&(p.overflow="hidden",b.support.shrinkWrapBlocks||h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t){o=t[i];if($n.exec(o)){delete t[i],a=a||o==="toggle";if(o===(m?"hide":"show"))continue;v.push(i)}}s=v.length;if(s){u=b._data(e,"fxshow")||b._data(e,"fxshow",{}),"hidden"in u&&(m=u.hidden),a&&(u.hidden=!m),m?b(e).show():h.done(function(){b(e).hide()}),h.done(function(){var t;b._removeData(e,"fxshow");for(t in d)b.style(e,t,d[t])});for(i=0;i<s;i++)r=v[i],f=h.createTween(r,m?u[r]:0),d[r]=u[r]||b.style(e,r),r in u||(u[r]=f.start,m&&(f.end=f.start,f.start=r==="width"||r==="height"?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}function ir(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function sr(e){return b.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n,r,i=typeof t,s=e.document,o=e.location,u=e.jQuery,a=e.$,f={},l=[],c="1.9.1",h=l.concat,p=l.push,d=l.slice,v=l.indexOf,m=f.toString,g=f.hasOwnProperty,y=c.trim,b=function(e,t){return new b.fn.init(e,t,r)},w=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,E=/\S+/g,S=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,x=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,T=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,N=/^[\],:{}\s]*$/,C=/(?:^|:|,)(?:\s*\[)+/g,k=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,L=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,A=/^-ms-/,O=/-([\da-z])/gi,M=function(e,t){return t.toUpperCase()},_=function(e){if(s.addEventListener||e.type==="load"||s.readyState==="complete")D(),b.ready()},D=function(){s.addEventListener?(s.removeEventListener("DOMContentLoaded",_,!1),e.removeEventListener("load",_,!1)):(s.detachEvent("onreadystatechange",_),e.detachEvent("onload",_))};b.fn=b.prototype={jquery:c,constructor:b,init:function(e,n,r){var i,o;if(!e)return this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=x.exec(e);if(i&&(i[1]||!n)){if(i[1]){n=n instanceof b?n[0]:n,b.merge(this,b.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:s,!0));if(T.test(i[1])&&b.isPlainObject(n))for(i in n)b.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}o=s.getElementById(i[2]);if(o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=s,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):b.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),b.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return d.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return b.each(this,e,t)},ready:function(e){return b.ready.promise().done(e),this},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},map:function(e){return this.pushStack(b.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:p,sort:[].sort,splice:[].splice},b.fn.init.prototype=b.fn,b.extend=b.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!b.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((s=arguments[a])!=null)for(i in s){e=u[i],r=s[i];if(u===r)continue;l&&r&&(b.isPlainObject(r)||(n=b.isArray(r)))?(n?(n=!1,o=e&&b.isArray(e)?e:[]):o=e&&b.isPlainObject(e)?e:{},u[i]=b.extend(l,o,r)):r!==t&&(u[i]=r)}return u},b.extend({noConflict:function(t){return e.$===b&&(e.$=a),t&&e.jQuery===b&&(e.jQuery=u),b},isReady:!1,readyWait:1,holdReady:function(e){e?b.readyWait++:b.ready(!0)},ready:function(e){if(e===!0?--b.readyWait:b.isReady)return;if(!s.body)return setTimeout(b.ready);b.isReady=!0;if(e!==!0&&--b.readyWait>0)return;n.resolveWith(s,[b]),b.fn.trigger&&b(s).trigger("ready").off("ready")},isFunction:function(e){return b.type(e)==="function"},isArray:Array.isArray||function(e){return b.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):typeof e=="object"||typeof e=="function"?f[m.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||b.type(e)!=="object"||e.nodeType||b.isWindow(e))return!1;try{if(e.constructor&&!g.call(e,"constructor")&&!g.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||g.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t,t=!1),t=t||s;var r=T.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=b.buildFragment([e],t,i),i&&b(i).remove(),b.merge([],r.childNodes))},parseJSON:function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(t===null)return t;if(typeof t=="string"){t=b.trim(t);if(t&&N.test(t.replace(k,"@").replace(L,"]").replace(C,"")))return(new Function("return "+t))()}b.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&b.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&b.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(A,"ms-").replace(O,M)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=P(e);if(n)if(o)for(;i<s;i++){r=t.apply(e[i],n);if(r===!1)break}else for(i in e){r=t.apply(e[i],n);if(r===!1)break}else if(o)for(;i<s;i++){r=t.call(e[i],i,e[i]);if(r===!1)break}else for(i in e){r=t.call(e[i],i,e[i]);if(r===!1)break}return e},trim:y&&!y.call("﻿ ")?function(e){return e==null?"":y.call(e)}:function(e){return e==null?"":(e+"").replace(S,"")},makeArray:function(e,t){var n=t||[];return e!=null&&(P(Object(e))?b.merge(n,typeof e=="string"?[e]:e):p.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(v)return v.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=P(e),u=[];if(o)for(;i<s;i++)r=t(e[i],i,n),r!=null&&(u[u.length]=r);else for(i in e)r=t(e[i],i,n),r!=null&&(u[u.length]=r);return h.apply([],u)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(s=e[n],n=e,e=s),b.isFunction(e)?(r=d.call(arguments,2),i=function(){return e.apply(n||this,r.concat(d.call(arguments)))},i.guid=e.guid=e.guid||b.guid++,i):t},access:function(e,n,r,i,s,o,u){var a=0,f=e.length,l=r==null;if(b.type(r)==="object"){s=!0;for(a in r)b.access(e,n,a,r[a],!0,o,u)}else if(i!==t){s=!0,b.isFunction(i)||(u=!0),l&&(u?(n.call(e,i),n=null):(l=n,n=function(e,t,n){return l.call(b(e),n)}));if(n)for(;a<f;a++)n(e[a],r,u?i:i.call(e[a],a,n(e[a],r)))}return s?e:l?n.call(e):f?n(e[0],r):o},now:function(){return(new Date).getTime()}}),b.ready.promise=function(t){if(!n){n=b.Deferred();if(s.readyState==="complete")setTimeout(b.ready);else if(s.addEventListener)s.addEventListener("DOMContentLoaded",_,!1),e.addEventListener("load",_,!1);else{s.attachEvent("onreadystatechange",_),e.attachEvent("onload",_);var r=!1;try{r=e.frameElement==null&&s.documentElement}catch(i){}r&&r.doScroll&&function o(){if(!b.isReady){try{r.doScroll("left")}catch(e){return setTimeout(o,50)}D(),b.ready()}}()}}return n.promise(t)},b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){f["[object "+t+"]"]=t.toLowerCase()}),r=b(s);var H={};b.Callbacks=function(e){e=typeof e=="string"?H[e]||B(e):b.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){r=e.memory&&t,i=!0,o=u||0,u=0,s=a.length,n=!0;for(;a&&o<s;o++)if(a[o].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,a&&(f?f.length&&l(f.shift()):r?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function i(t){b.each(t,function(t,n){var r=b.type(n);r==="function"?(!e.unique||!c.has(n))&&a.push(n):n&&n.length&&r!=="string"&&i(n)})})(arguments),n?s=a.length:r&&(u=t,l(r))}return this},remove:function(){return a&&b.each(arguments,function(e,t){var r;while((r=b.inArray(t,a,r))>-1)a.splice(r,1),n&&(r<=s&&s--,r<=o&&o--)}),this},has:function(e){return e?b.inArray(e,a)>-1:!!a&&!!a.length},empty:function(){return a=[],this},disable:function(){return a=f=r=t,this},disabled:function(){return!a},lock:function(){return f=t,r||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],a&&(!i||f)&&(n?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},b.extend({Deferred:function(e){var t=[["resolve","done",b.Callbacks("once memory"),"resolved"],["reject","fail",b.Callbacks("once memory"),"rejected"],["notify","progress",b.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return b.Deferred(function(n){b.each(t,function(t,s){var o=s[0],u=b.isFunction(e[t])&&e[t];i[s[1]](function(){var e=u&&u.apply(this,arguments);e&&b.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n.promise():this,u?[e]:arguments)})}),e=null}).promise()},promise:function(e){return e!=null?b.extend(e,r):r}},i={};return r.pipe=r.then,b.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=d.call(arguments),r=n.length,i=r!==1||e&&b.isFunction(e.promise)?r:0,s=i===1?e:b.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?d.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&b.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),b.support=function(){var t,n,r,o,u,a,f,l,c,h,p=s.createElement("div");p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0];if(!n||!r||!n.length)return{};u=s.createElement("select"),f=u.appendChild(s.createElement("option")),o=p.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:p.className!=="t",leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!o.value,optSelected:f.selected,enctype:!!s.createElement("form").enctype,html5Clone:s.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:s.compatMode==="CSS1Compat",deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,u.disabled=!0,t.optDisabled=!f.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}o=s.createElement("input"),o.setAttribute("value",""),t.input=o.getAttribute("value")==="",o.value="t",o.setAttribute("type","radio"),t.radioValue=o.value==="t",o.setAttribute("checked","t"),o.setAttribute("name","t"),a=s.createDocumentFragment(),a.appendChild(o),t.appendChecked=o.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,p.attachEvent&&(p.attachEvent("onclick",function(){t.noCloneEvent=!1}),p.cloneNode(!0).click());for(h in{submit:!0,change:!0,focusin:!0})p.setAttribute(l="on"+h,"t"),t[h+"Bubbles"]=l in e||p.attributes[l].expando===!1;return p.style.backgroundClip="content-box",p.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle=p.style.backgroundClip==="content-box",b(function(){var n,r,o,u="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=s.getElementsByTagName("body")[0];if(!a)return;n=s.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(p),p.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=p.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",c=o[0].offsetHeight===0,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=c&&o[0].offsetHeight===0,p.innerHTML="",p.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=p.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=a.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(p,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(p,null)||{width:"4px"}).width==="4px",r=p.appendChild(s.createElement("div")),r.style.cssText=p.style.cssText=u,r.style.marginRight=r.style.width="0",p.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof p.style.zoom!==i&&(p.innerHTML="",p.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=p.offsetWidth===3,p.style.display="block",p.innerHTML="<div></div>",p.firstChild.style.width="5px",t.shrinkWrapBlocks=p.offsetWidth!==3,t.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=p=o=r=null}),n=u=a=f=r=o=null,t}();var j=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,F=/([A-Z])/g;b.extend({cache:{},expando:"jQuery"+(c+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?b.cache[e[b.expando]]:e[b.expando],!!e&&!U(e)},data:function(e,t,n){return I(e,t,n)},removeData:function(e,t){return q(e,t)},_data:function(e,t,n){return I(e,t,n,!0)},_removeData:function(e,t){return q(e,t,!0)},acceptData:function(e){if(e.nodeType&&e.nodeType!==1&&e.nodeType!==9)return!1;var t=e.nodeName&&b.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),b.fn.extend({data:function(e,n){var r,i,s=this[0],o=0,u=null;if(e===t){if(this.length){u=b.data(s);if(s.nodeType===1&&!b._data(s,"parsedAttrs")){r=s.attributes;for(;o<r.length;o++)i=r[o].name,i.indexOf("data-")||(i=b.camelCase(i.slice(5)),R(s,i,u[i]));b._data(s,"parsedAttrs",!0)}}return u}return typeof e=="object"?this.each(function(){b.data(this,e)}):b.access(this,function(n){if(n===t)return s?R(s,e,b.data(s,e)):null;this.each(function(){b.data(this,e,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){b.removeData(this,e)})}}),b.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=b._data(e,t),n&&(!r||b.isArray(n)?r=b._data(e,t,b.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=b.queue(e,t),r=n.length,i=n.shift(),s=b._queueHooks(e,t),o=function(){b.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),s.cur=i,i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return b._data(e,n)||b._data(e,n,{empty:b.Callbacks("once memory").add(function(){b._removeData(e,t+"queue"),b._removeData(e,n)})})}}),b.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?b.queue(this[0],e):n===t?this:this.each(function(){var t=b.queue(this,e,n);b._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&b.dequeue(this,e)})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},delay:function(e,t){return e=b.fx?b.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=b.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=b._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var z,W,X=/[\t\r\n]/g,V=/\r/g,$=/^(?:input|select|textarea|button|object)$/i,J=/^(?:a|area)$/i,K=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Q=/^(?:checked|selected)$/i,G=b.support.getSetAttribute,Y=b.support.input;b.fn.extend({attr:function(e,t){return b.access(this,b.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})},prop:function(e,t){return b.access(this,b.prop,e,t,arguments.length>1)},removeProp:function(e){return e=b.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=typeof e=="string"&&e;if(b.isFunction(e))return this.each(function(t){b(this).addClass(e.call(this,t,this.className))});if(a){t=(e||"").match(E)||[];for(;o<u;o++){n=this[o],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(X," "):" ");if(r){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=b.trim(r)}}}return this},removeClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=arguments.length===0||typeof e=="string"&&e;if(b.isFunction(e))return this.each(function(t){b(this).removeClass(e.call(this,t,this.className))});if(a){t=(e||"").match(E)||[];for(;o<u;o++){n=this[o],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(X," "):"");if(r){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?b.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return b.isFunction(e)?this.each(function(n){b(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var s,o=0,u=b(this),a=t,f=e.match(E)||[];while(s=f[o++])a=r?a:!u.hasClass(s),u[a?"addClass":"removeClass"](s)}else if(n===i||n==="boolean")this.className&&b._data(this,"__className__",this.className),this.className=this.className||e===!1?"":b._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(X," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return r=b.valHooks[s.type]||b.valHooks[s.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(s,"value"))!==t?n:(n=s.value,typeof n=="string"?n.replace(V,""):n==null?"":n);return}return i=b.isFunction(e),this.each(function(n){var s,o=b(this);if(this.nodeType!==1)return;i?s=e.call(this,n,o.val()):s=e,s==null?s="":typeof s=="number"?s+="":b.isArray(s)&&(s=b.map(s,function(e){return e==null?"":e+""})),r=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()];if(!r||!("set"in r)||r.set(this,s,"value")===t)this.value=s})}}),b.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(b.support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!b.nodeName(n.parentNode,"optgroup"))){t=b(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n=b.makeArray(t);return b(e).find("option").each(function(){this.selected=b.inArray(b(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,r){var s,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;if(typeof e.getAttribute===i)return b.prop(e,n,r);o=a!==1||!b.isXMLDoc(e),o&&(n=n.toLowerCase(),s=b.attrHooks[n]||(K.test(n)?W:z));if(r===t)return s&&o&&"get"in s&&(u=s.get(e,n))!==null?u:(typeof e.getAttribute!==i&&(u=e.getAttribute(n)),u==null?t:u);if(r!==null)return s&&o&&"set"in s&&(u=s.set(e,r,n))!==t?u:(e.setAttribute(n,r+""),r);b.removeAttr(e,n)},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(E);if(s&&e.nodeType===1)while(n=s[i++])r=b.propFix[n]||n,K.test(n)?!G&&Q.test(n)?e[b.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:b.attr(e,n,""),e.removeAttribute(G?n:r)},attrHooks:{type:{set:function(e,t){if(!b.support.radioValue&&t==="radio"&&b.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!b.isXMLDoc(e),o&&(n=b.propFix[n]||n,s=b.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):$.test(e.nodeName)||J.test(e.nodeName)&&e.href?0:t}}}}),W={get:function(e,n){var r=b.prop(e,n),i=typeof r=="boolean"&&e.getAttribute(n),s=typeof r=="boolean"?Y&&G?i!=null:Q.test(n)?e[b.camelCase("default-"+n)]:!!i:e.getAttributeNode(n);return s&&s.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?b.removeAttr(e,n):Y&&G||!Q.test(n)?e.setAttribute(!G&&b.propFix[n]||n,n):e[b.camelCase("default-"+n)]=e[n]=!0,n}};if(!Y||!G)b.attrHooks.value={get:function(e,n){var r=e.getAttributeNode(n);return b.nodeName(e,"input")?e.defaultValue:r&&r.specified?r.value:t},set:function(e,t,n){if(!b.nodeName(e,"input"))return z&&z.set(e,t,n);e.defaultValue=t}};G||(z=b.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&(n==="id"||n==="name"||n==="coords"?r.value!=="":r.specified)?r.value:t},set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="",r==="value"||n===e.getAttribute(r)?n:t}},b.attrHooks.contenteditable={get:z.get,set:function(e,t,n){z.set(e,t===""?!1:t,n)}},b.each(["width","height"],function(e,t){b.attrHooks[t]=b.extend(b.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})})),b.support.hrefNormalized||(b.each(["href","src","width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r==null?t:r}})}),b.each(["href","src"],function(e,t){b.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),b.support.style||(b.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),b.support.optSelected||(b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),b.support.enctype||(b.propFix.enctype="encoding"),b.support.checkOn||b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],{set:function(e,t){if(b.isArray(t))return e.checked=b.inArray(b(e).val(),t)>=0}})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;b.event={global:{},add:function(e,n,r,s,o){var u,a,f,l,c,h,p,d,v,m,g,y=b._data(e);if(!y)return;r.handler&&(l=r,r=l.handler,o=l.selector),r.guid||(r.guid=b.guid++),(a=y.events)||(a=y.events={}),(h=y.handle)||(h=y.handle=function(e){return typeof b===i||!!e&&b.event.triggered===e.type?t:b.event.dispatch.apply(h.elem,arguments)},h.elem=e),n=(n||"").match(E)||[""],f=n.length;while(f--){u=rt.exec(n[f])||[],v=g=u[1],m=(u[2]||"").split(".").sort(),c=b.event.special[v]||{},v=(o?c.delegateType:c.bindType)||v,c=b.event.special[v]||{},p=b.extend({type:v,origType:g,data:s,handler:r,guid:r.guid,selector:o,needsContext:o&&b.expr.match.needsContext.test(o),namespace:m.join(".")},l);if(!(d=a[v])){d=a[v]=[],d.delegateCount=0;if(!c.setup||c.setup.call(e,s,m,h)===!1)e.addEventListener?e.addEventListener(v,h,!1):e.attachEvent&&e.attachEvent("on"+v,h)}c.add&&(c.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),o?d.splice(d.delegateCount++,0,p):d.push(p),b.event.global[v]=!0}e=null},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=b.hasData(e)&&b._data(e);if(!m||!(l=m.events))return;t=(t||"").match(E)||[""],f=t.length;while(f--){u=rt.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p){for(p in l)b.event.remove(e,p+t[f],n,r,!0);continue}c=b.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=l[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=h.length;while(s--)o=h[s],(i||v===o.origType)&&(!n||n.guid===o.guid)&&(!u||u.test(o.namespace))&&(!r||r===o.selector||r==="**"&&o.selector)&&(h.splice(s,1),o.selector&&h.delegateCount--,c.remove&&c.remove.call(e,o));a&&!h.length&&((!c.teardown||c.teardown.call(e,d,m.handle)===!1)&&b.removeEvent(e,p,m.handle),delete l[p])}b.isEmptyObject(l)&&(delete m.handle,b._removeData(e,"events"))},trigger:function(n,r,i,o){var u,a,f,l,c,h,p,d=[i||s],v=g.call(n,"type")?n.type:n,m=g.call(n,"namespace")?n.namespace.split("."):[];f=h=i=i||s;if(i.nodeType===3||i.nodeType===8)return;if(nt.test(v+b.event.triggered))return;v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),a=v.indexOf(":")<0&&"on"+v,n=n[b.expando]?n:new b.Event(v,typeof n=="object"&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=r==null?[n]:b.makeArray(r,[n]),c=b.event.special[v]||{};if(!o&&c.trigger&&c.trigger.apply(i,r)===!1)return;if(!o&&!c.noBubble&&!b.isWindow(i)){l=c.delegateType||v,nt.test(l+v)||(f=f.parentNode);for(;f;f=f.parentNode)d.push(f),h=f;h===(i.ownerDocument||s)&&d.push(h.defaultView||h.parentWindow||e)}p=0;while((f=d[p++])&&!n.isPropagationStopped())n.type=p>1?l:c.bindType||v,u=(b._data(f,"events")||{})[n.type]&&b._data(f,"handle"),u&&u.apply(f,r),u=a&&f[a],u&&b.acceptData(f)&&u.apply&&u.apply(f,r)===!1&&n.preventDefault();n.type=v;if(!o&&!n.isDefaultPrevented()&&(!c._default||c._default.apply(i.ownerDocument,r)===!1)&&(v!=="click"||!b.nodeName(i,"a"))&&b.acceptData(i)&&a&&i[v]&&!b.isWindow(i)){h=i[a],h&&(i[a]=null),b.event.triggered=v;try{i[v]()}catch(y){}b.event.triggered=t,h&&(i[a]=h)}return n.result},dispatch:function(e){e=b.event.fix(e);var n,r,i,s,o,u=[],a=d.call(arguments),f=(b._data(this,"events")||{})[e.type]||[],l=b.event.special[e.type]||{};a[0]=e,e.delegateTarget=this;if(l.preDispatch&&l.preDispatch.call(this,e)===!1)return;u=b.event.handlers.call(this,e,f),n=0;while((s=u[n++])&&!e.isPropagationStopped()){e.currentTarget=s.elem,o=0;while((i=s.handlers[o++])&&!e.isImmediatePropagationStopped())if(!e.namespace_re||e.namespace_re.test(i.namespace))e.handleObj=i,e.data=i.data,r=((b.event.special[i.origType]||{}).handle||i.handler).apply(s.elem,a),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation())}return l.postDispatch&&l.postDispatch.call(this,e),e.result},handlers:function(e,n){var r,i,s,o,u=[],a=n.delegateCount,f=e.target;if(a&&f.nodeType&&(!e.button||e.type!=="click"))for(;f!=this;f=f.parentNode||this)if(f.nodeType===1&&(f.disabled!==!0||e.type!=="click")){s=[];for(o=0;o<a;o++)i=n[o],r=i.selector+" ",s[r]===t&&(s[r]=i.needsContext?b(r,this).index(f)>=0:b.find(r,this,null,[f]).length),s[r]&&s.push(i);s.length&&u.push({elem:f,handlers:s})}return a<n.length&&u.push({elem:this,handlers:n.slice(a)}),u},fix:function(e){if(e[b.expando])return e;var t,n,r,i=e.type,o=e,u=this.fixHooks[i];u||(this.fixHooks[i]=u=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=u.props?this.props.concat(u.props):this.props,e=new b.Event(o),t=r.length;while(t--)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||s),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,u.filter?u.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,u=n.button,a=n.fromElement;return e.pageX==null&&n.clientX!=null&&(i=e.target.ownerDocument||s,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){if(b.nodeName(this,"input")&&this.type==="checkbox"&&this.click)return this.click(),!1}},focus:{trigger:function(){if(this!==s.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===s.activeElement&&this.blur)return this.blur(),!1},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=b.extend(new b.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?b.event.trigger(i,null,t):b.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},b.removeEvent=s.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},b.Event=function(e,t){if(!(this instanceof b.Event))return new b.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:st):this.type=e,t&&b.extend(this,t),this.timeStamp=e&&e.timeStamp||b.now(),this[b.expando]=!0},b.Event.prototype={isDefaultPrevented:st,isPropagationStopped:st,isImmediatePropagationStopped:st,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;if(!i||i!==r&&!b.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),b.support.submitBubbles||(b.event.special.submit={setup:function(){if(b.nodeName(this,"form"))return!1;b.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=b.nodeName(n,"input")||b.nodeName(n,"button")?n.form:t;r&&!b._data(r,"submitBubbles")&&(b.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),b._data(r,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&b.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(b.nodeName(this,"form"))return!1;b.event.remove(this,"._submit")}}),b.support.changeBubbles||(b.event.special.change={setup:function(){if(Z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")b.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),b.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),b.event.simulate("change",this,e,!0)});return!1}b.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!b._data(t,"changeBubbles")&&(b.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&b.event.simulate("change",this.parentNode,e,!0)}),b._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return b.event.remove(this,"._change"),!Z.test(this.nodeName)}}),b.support.focusinBubbles||b.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){b.event.simulate(t,e.target,b.event.fix(e),!0)};b.event.special[t]={setup:function(){n++===0&&s.addEventListener(e,r,!0)},teardown:function(){--n===0&&s.removeEventListener(e,r,!0)}}}),b.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(o in e)this.on(o,n,r,e[o],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=st;else if(!i)return this;return s===1&&(u=i,i=function(e){return b().off(e),u.apply(this,arguments)},i.guid=u.guid||(u.guid=b.guid++)),this.each(function(){b.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,b(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=st),this.each(function(){b.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){b.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return b.event.trigger(e,t,n,!0)}}),function(e,t){function rt(e){return J.test(e+"")}function it(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>i.cacheLength&&delete e[t.shift()],e[n]=r}}function st(e){return e[w]=!0,e}function ot(e){var t=c.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function ut(e,t,n,r){var i,s,o,u,a,f,h,v,m,y;(t?t.ownerDocument||t:E)!==c&&l(t),t=t||c,n=n||[];if(!e||typeof e!="string")return n;if((u=t.nodeType)!==1&&u!==9)return[];if(!p&&!r){if(i=K.exec(e))if(o=i[1]){if(u===9){s=t.getElementById(o);if(!s||!s.parentNode)return n;if(s.id===o)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(o))&&g(t,s)&&s.id===o)return n.push(s),n}else{if(i[2])return _.apply(n,D.call(t.getElementsByTagName(e),0)),n;if((o=i[3])&&S.getByClassName&&t.getElementsByClassName)return _.apply(n,D.call(t.getElementsByClassName(o),0)),n}if(S.qsa&&!d.test(e)){h=!0,v=w,m=t,y=u===9&&e;if(u===1&&t.nodeName.toLowerCase()!=="object"){f=ht(e),(h=t.getAttribute("id"))?v=h.replace(Y,"\\$&"):t.setAttribute("id",v),v="[id='"+v+"'] ",a=f.length;while(a--)f[a]=v+pt(f[a]);m=$.test(e)&&t.parentNode||t,y=f.join(",")}if(y)try{return _.apply(n,D.call(m.querySelectorAll(y),0)),n}catch(b){}finally{h||t.removeAttribute("id")}}}return Et(e.replace(R,"$1"),t,n,r)}function at(e,t){var n=t&&e,r=n&&(~t.sourceIndex||A)-(~e.sourceIndex||A);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function ct(e){return st(function(t){return t=+t,st(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ht(e,t){var n,r,s,o,u,a,f,l=C[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=i.preFilter;while(u){if(!n||(r=U.exec(u)))r&&(u=u.slice(r[0].length)||u),a.push(s=[]);n=!1;if(r=z.exec(u))n=r.shift(),s.push({value:n,type:r[0].replace(R," ")}),u=u.slice(n.length);for(o in i.filter)(r=V[o].exec(u))&&(!f[o]||(r=f[o](r)))&&(n=r.shift(),s.push({value:n,type:o,matches:r}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ut.error(e):C(e,a).slice(0)}function pt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function dt(e,t,n){var i=t.dir,s=n&&i==="parentNode",o=T++;return t.first?function(t,n,r){while(t=t[i])if(t.nodeType===1||s)return e(t,n,r)}:function(t,n,u){var a,f,l,c=x+" "+o;if(u){while(t=t[i])if(t.nodeType===1||s)if(e(t,n,u))return!0}else while(t=t[i])if(t.nodeType===1||s){l=t[w]||(t[w]={});if((f=l[i])&&f[0]===c){if((a=f[1])===!0||a===r)return a===!0}else{f=l[i]=[c],f[1]=e(t,n,u)||r;if(f[1]===!0)return!0}}}}function vt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function mt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function gt(e,t,n,r,i,s){return r&&!r[w]&&(r=gt(r)),i&&!i[w]&&(i=gt(i,s)),st(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||wt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?mt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=mt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?P.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=mt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):_.apply(o,g)})}function yt(e){var t,n,r,s=e.length,o=i.relative[e[0].type],u=o||i.relative[" "],a=o?1:0,l=dt(function(e){return e===t},u,!0),c=dt(function(e){return P.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;a<s;a++)if(n=i.relative[e[a].type])h=[dt(vt(h),n)];else{n=i.filter[e[a].type].apply(null,e[a].matches);if(n[w]){r=++a;for(;r<s;r++)if(i.relative[e[r].type])break;return gt(a>1&&vt(h),a>1&&pt(e.slice(0,a-1)).replace(R,"$1"),n,a<r&&yt(e.slice(a,r)),r<s&&yt(e=e.slice(r)),r<s&&pt(e))}h.push(n)}return vt(h)}function bt(e,t){var n=0,s=t.length>0,o=e.length>0,u=function(u,a,l,h,p){var d,v,m,g=[],y=0,b="0",w=u&&[],E=p!=null,S=f,T=u||o&&i.find.TAG("*",p&&a.parentNode||a),N=x+=S==null?1:Math.random()||.1;E&&(f=a!==c&&a,r=n);for(;(d=T[b])!=null;b++){if(o&&d){v=0;while(m=e[v++])if(m(d,a,l)){h.push(d);break}E&&(x=N,r=++n)}s&&((d=!m&&d)&&y--,u&&w.push(d))}y+=b;if(s&&b!==y){v=0;while(m=t[v++])m(w,g,a,l);if(u){if(y>0)while(b--)!w[b]&&!g[b]&&(g[b]=M.call(h));g=mt(g)}_.apply(h,g),E&&!u&&g.length>0&&y+t.length>1&&ut.uniqueSort(h)}return E&&(x=N,f=S),w};return s?st(u):u}function wt(e,t,n){var r=0,i=t.length;for(;r<i;r++)ut(e,t[r],n);return n}function Et(e,t,n,r){var s,o,a,f,l,c=ht(e);if(!r&&c.length===1){o=c[0]=c[0].slice(0);if(o.length>2&&(a=o[0]).type==="ID"&&t.nodeType===9&&!p&&i.relative[o[1].type]){t=i.find.ID(a.matches[0].replace(et,tt),t)[0];if(!t)return n;e=e.slice(o.shift().value.length)}s=V.needsContext.test(e)?0:o.length;while(s--){a=o[s];if(i.relative[f=a.type])break;if(l=i.find[f])if(r=l(a.matches[0].replace(et,tt),$.test(o[0].type)&&t.parentNode||t)){o.splice(s,1),e=r.length&&pt(o);if(!e)return _.apply(n,D.call(r,0)),n;break}}}return u(e,c)(r,t,p,n,$.test(e)),n}function St(){}var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,w="sizzle"+ -(new Date),E=e.document,S={},x=0,T=0,N=it(),C=it(),k=it(),L=typeof t,A=1<<31,O=[],M=O.pop,_=O.push,D=O.slice,P=O.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},H="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",j=B.replace("w","w#"),F="([*^$|!~]?=)",I="\\["+H+"*("+B+")"+H+"*(?:"+F+H+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+j+")|)|)"+H+"*\\]",q=":("+B+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+I.replace(3,8)+")*)|.*)\\)|)",R=new RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),U=new RegExp("^"+H+"*,"+H+"*"),z=new RegExp("^"+H+"*([\\x20\\t\\r\\n\\f>+~])"+H+"*"),W=new RegExp(q),X=new RegExp("^"+j+"$"),V={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),NAME:new RegExp("^\\[name=['\"]?("+B+")['\"]?\\]"),TAG:new RegExp("^("+B.replace("w","w*")+")"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),needsContext:new RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},$=/[\x20\t\r\n\f]*[+~]/,J=/^[^{]+\{\s*\[native code/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/'|\\/g,Z=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,et=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,tt=function(e,t){var n="0x"+t-65536;return n!==n?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)};try{D.call(E.documentElement.childNodes,0)[0].nodeType}catch(nt){D=function(e){var t,n=[];while(t=this[e++])n.push(t);return n}}o=ut.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},l=ut.setDocument=function(e){var n=e?e.ownerDocument||e:E;if(n===c||n.nodeType!==9||!n.documentElement)return c;c=n,h=n.documentElement,p=o(n),S.tagNameNoComments=ot(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),S.attributes=ot(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),S.getByClassName=ot(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||!e.getElementsByClassName("e").length?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length===2)}),S.getByName=ot(function(e){e.id=w+0,e.innerHTML="<a name='"+w+"'></a><div name='"+w+"'></div>",h.insertBefore(e,h.firstChild);var t=n.getElementsByName&&n.getElementsByName(w).length===2+n.getElementsByName(w+0).length;return S.getIdNotName=!n.getElementById(w),h.removeChild(e),t}),i.attrHandle=ot(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==L&&e.firstChild.getAttribute("href")==="#"})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},S.getIdNotName?(i.find.ID=function(e,t){if(typeof t.getElementById!==L&&!p){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}):(i.find.ID=function(e,n){if(typeof n.getElementById!==L&&!p){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==L&&r.getAttributeNode("id").value===e?[r]:t:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){var n=typeof e.getAttributeNode!==L&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=S.tagNameNoComments?function(e,t){if(typeof t.getElementsByTagName!==L)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++])n.nodeType===1&&r.push(n);return r}return s},i.find.NAME=S.getByName&&function(e,t){if(typeof t.getElementsByName!==L)return t.getElementsByName(name)},i.find.CLASS=S.getByClassName&&function(e,t){if(typeof t.getElementsByClassName!==L&&!p)return t.getElementsByClassName(e)},v=[],d=[":focus"];if(S.qsa=rt(n.querySelectorAll))ot(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+H+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||d.push(":checked")}),ot(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&d.push("[*^$]="+H+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||d.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),d.push(",.*:")});return(S.matchesSelector=rt(m=h.matchesSelector||h.mozMatchesSelector||h.webkitMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ot(function(e){S.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),v.push("!=",q)}),d=new RegExp(d.join("|")),v=new RegExp(v.join("|")),g=rt(h.contains)||h.compareDocumentPosition?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},y=h.compareDocumentPosition?function(e,t){var r;if(e===t)return a=!0,0;if(r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))return r&1||e.parentNode&&e.parentNode.nodeType===11?e===n||g(E,e)?-1:t===n||g(E,t)?1:0:r&4?-1:1;return e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,s=e.parentNode,o=t.parentNode,u=[e],f=[t];if(e===t)return a=!0,0;if(!s||!o)return e===n?-1:t===n?1:s?-1:o?1:0;if(s===o)return at(e,t);r=e;while(r=r.parentNode)u.unshift(r);r=t;while(r=r.parentNode)f.unshift(r);while(u[i]===f[i])i++;return i?at(u[i],f[i]):u[i]===E?-1:f[i]===E?1:0},a=!1,[0,0].sort(y),S.detectDuplicates=a,c},ut.matches=function(e,t){return ut(e,null,null,t)},ut.matchesSelector=function(e,t){(e.ownerDocument||e)!==c&&l(e),t=t.replace(Z,"='$1']");if(S.matchesSelector&&!p&&(!v||!v.test(t))&&!d.test(t))try{var n=m.call(e,t);if(n||S.disconnectedMatch||e.document&&e.document.nodeType!==11)return n}catch(r){}return ut(t,c,null,[e]).length>0},ut.contains=function(e,t){return(e.ownerDocument||e)!==c&&l(e),g(e,t)},ut.attr=function(e,t){var n;return(e.ownerDocument||e)!==c&&l(e),p||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):p||S.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},ut.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ut.uniqueSort=function(e){var t,n=[],r=1,i=0;a=!S.detectDuplicates,e.sort(y);if(a){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e},s=ut.getText=function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r];r++)n+=s(t);else if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(i===3||i===4)return e.nodeValue;return n},i=ut.selectors={cacheLength:50,createPseudo:st,match:V,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(et,tt),e[3]=(e[4]||e[5]||"").replace(et,tt),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||ut.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&ut.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return V.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&W.test(n)&&(t=ht(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace(et,tt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=N[e+" "];return t||(t=new RegExp("(^|"+H+")"+e+"("+H+"|$)"))&&N(e,function(e){return t.test(e.className||typeof e.getAttribute!==L&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ut.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&y){l=m[w]||(m[w]={}),f=l[e]||[],p=f[0]===x&&f[1],h=f[0]===x&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(c.nodeType===1&&++h&&c===t){l[e]=[x,p,h];break}}else if(y&&(f=(t[w]||(t[w]={}))[e])&&f[0]===x)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){y&&((c[w]||(c[w]={}))[e]=[x,h]);if(c===t)break}return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||ut.error("unsupported pseudo: "+e);return r[w]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?st(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=P.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:st(function(e){var t=[],n=[],r=u(e.replace(R,"$1"));return r[w]?st(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:st(function(e){return function(t){return ut(e,t).length>0}}),contains:st(function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}}),lang:st(function(e){return X.test(e||"")||ut.error("unsupported lang: "+e),e=e.replace(et,tt).toLowerCase(),function(t){var n;do if(n=p?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===c.activeElement&&(!c.hasFocus||c.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()===e.type)},first:ct(function(){return[0]}),last:ct(function(e,t){return[t-1]}),eq:ct(function(e,t,n){return[n<0?n+t:n]}),even:ct(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:ct(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:ct(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:ct(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}};for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[n]=ft(n);for(n in{submit:!0,reset:!0})i.pseudos[n]=lt(n);u=ut.compile=function(e,t){var n,r=[],i=[],s=k[e+" "];if(!s){t||(t=ht(e)),n=t.length;while(n--)s=yt(t[n]),s[w]?r.push(s):i.push(s);s=k(e,bt(i,r))}return s},i.pseudos.nth=i.pseudos.eq,i.filters=St.prototype=i.pseudos,i.setFilters=new St,l(),ut.attr=b.attr,b.find=ut,b.expr=ut.selectors,b.expr[":"]=b.expr.pseudos,b.unique=ut.uniqueSort,b.text=ut.getText,b.isXMLDoc=ut.isXML,b.contains=ut.contains}(e);var ot=/Until$/,ut=/^(?:parents|prev(?:Until|All))/,at=/^.[^:#\[\.,]*$/,ft=b.expr.match.needsContext,lt={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({find:function(e){var t,n,r,i=this.length;if(typeof e!="string")return r=this,this.pushStack(b(e).filter(function(){for(t=0;t<i;t++)if(b.contains(r[t],this))return!0}));n=[];for(t=0;t<i;t++)b.find(e,this[t],n);return n=this.pushStack(i>1?b.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=b(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(b.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ht(this,e,!1))},filter:function(e){return this.pushStack(ht(this,e,!0))},is:function(e){return!!e&&(typeof e=="string"?ft.test(e)?b(e,this.context).index(this[0])>=0:b.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=ft.test(e)||typeof e!="string"?b(e,t||this.context):0;for(;r<i;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:b.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return this.pushStack(s.length>1?b.unique(s):s)},index:function(e){return e?typeof e=="string"?b.inArray(this[0],b(e)):b.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?b(e,t):b.makeArray(e&&e.nodeType?[e]:e),r=b.merge(this.get(),n);return this.pushStack(b.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),b.fn.andSelf=b.fn.addBack,b.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return b.dir(e,"parentNode")},parentsUntil:function(e,t,n){return b.dir(e,"parentNode",n)},next:function(e){return ct(e,"nextSibling")},prev:function(e){return ct(e,"previousSibling")},nextAll:function(e){return b.dir(e,"nextSibling")},prevAll:function(e){return b.dir(e,"previousSibling")},nextUntil:function(e,t,n){return b.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return b.dir(e,"previousSibling",n)},siblings:function(e){return b.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return b.sibling(e.firstChild)},contents:function(e){return b.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b.merge([],e.childNodes)}},function(e,t){b.fn[e]=function(n,r){var i=b.map(this,t,n);return ot.test(e)||(r=n),r&&typeof r=="string"&&(i=b.filter(r,i)),i=this.length>1&&!lt[e]?b.unique(i):i,this.length>1&&ut.test(e)&&(i=i.reverse()),this.pushStack(i)}}),b.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?b.find.matchesSelector(t[0],e)?[t[0]]:[]:b.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!b(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var dt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",vt=/ jQuery\d+="(?:null|\d+)"/g,mt=new RegExp("<(?:"+dt+")[\\s/>]","i"),gt=/^\s+/,yt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,wt=/<tbody/i,Et=/<|&#?\w+;/,St=/<(?:script|style|link)/i,xt=/^(?:checkbox|radio)$/i,Tt=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^$|\/(?:java|ecma)script/i,Ct=/^true\/(.*)/,kt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Lt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:b.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},At=pt(s),Ot=At.appendChild(s.createElement("div"));Lt.optgroup=Lt.option,Lt.tbody=Lt.tfoot=Lt.colgroup=Lt.caption=Lt.thead,Lt.th=Lt.td,b.fn.extend({text:function(e){return b.access(this,function(e){return e===t?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||s).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(b.isFunction(e))return this.each(function(t){b(this).wrapAll(e.call(this,t))});if(this[0]){var t=b(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return b.isFunction(e)?this.each(function(t){b(this).wrapInner(e.call(this,t))}):this.each(function(){var t=b(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=b.isFunction(e);return this.each(function(n){b(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,"body")||b(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||b.filter(e,[n]).length>0)!t&&n.nodeType===1&&b.cleanData(jt(n)),n.parentNode&&(t&&b.contains(n.ownerDocument,n)&&Pt(jt(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&b.cleanData(jt(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&b.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return b.clone(this,e,t)})},html:function(e){return b.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(vt,""):t;if(typeof e=="string"&&!St.test(e)&&(b.support.htmlSerialize||!mt.test(e))&&(b.support.leadingWhitespace||!gt.test(e))&&!Lt[(bt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(yt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(b.cleanData(jt(n,!1)),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=b.isFunction(e);return!t&&typeof e!="string"&&(e=b(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(b(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=h.apply([],e);var i,s,o,u,a,f,l=0,c=this.length,p=this,d=c-1,v=e[0],m=b.isFunction(v);if(m||!(c<=1||typeof v!="string"||b.support.checkClone||!Tt.test(v)))return this.each(function(i){var s=p.eq(i);m&&(e[0]=v.call(this,i,n?s.html():t)),s.domManip(e,n,r)});if(c){f=b.buildFragment(e,this[0].ownerDocument,!1,this),i=f.firstChild,f.childNodes.length===1&&(f=i);if(i){n=n&&b.nodeName(i,"tr"),u=b.map(jt(f,"script"),_t),o=u.length;for(;l<c;l++)s=f,l!==d&&(s=b.clone(s,!0,!0),o&&b.merge(u,jt(s,"script"))),r.call(n&&b.nodeName(this[l],"table")?Mt(this[l],"tbody"):this[l],s,l);if(o){a=u[u.length-1].ownerDocument,b.map(u,Dt);for(l=0;l<o;l++)s=u[l],Nt.test(s.type||"")&&!b._data(s,"globalEval")&&b.contains(a,s)&&(s.src?b.ajax({url:s.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):b.globalEval((s.text||s.textContent||s.innerHTML||"").replace(kt,"")))}f=i=null}}return this}}),b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){b.fn[e]=function(e){var n,r=0,i=[],s=b(e),o=s.length-1;for(;r<=o;r++)n=r===o?this:this.clone(!0),b(s[r])[t](n),p.apply(i,n.get());return this.pushStack(i)}}),b.extend({clone:function(e,t,n){var r,i,s,o,u,a=b.contains(e.ownerDocument,e);b.support.html5Clone||b.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(Ot.innerHTML=e.outerHTML,Ot.removeChild(s=Ot.firstChild));if((!b.support.noCloneEvent||!b.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!b.isXMLDoc(e)){r=jt(s),u=jt(e);for(o=0;(i=u[o])!=null;++o)r[o]&&Bt(i,r[o])}if(t)if(n){u=u||jt(e),r=r||jt(s);for(o=0;(i=u[o])!=null;o++)Ht(i,r[o])}else Ht(e,s);return r=jt(s,"script"),r.length>0&&Pt(r,!a&&jt(e,"script")),r=u=i=null,s},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l,c=e.length,h=pt(t),p=[],d=0;for(;d<c;d++){s=e[d];if(s||s===0)if(b.type(s)==="object")b.merge(p,s.nodeType?[s]:s);else if(!Et.test(s))p.push(t.createTextNode(s));else{u=u||h.appendChild(t.createElement("div")),a=(bt.exec(s)||["",""])[1].toLowerCase(),l=Lt[a]||Lt._default,u.innerHTML=l[1]+s.replace(yt,"<$1></$2>")+l[2],i=l[0];while(i--)u=u.lastChild;!b.support.leadingWhitespace&&gt.test(s)&&p.push(t.createTextNode(gt.exec(s)[0]));if(!b.support.tbody){s=a==="table"&&!wt.test(s)?u.firstChild:l[1]==="<table>"&&!wt.test(s)?u:0,i=s&&s.childNodes.length;while(i--)b.nodeName(f=s.childNodes[i],"tbody")&&!f.childNodes.length&&s.removeChild(f)}b.merge(p,u.childNodes),u.textContent="";while(u.firstChild)u.removeChild(u.firstChild);u=h.lastChild}}u&&h.removeChild(u),b.support.appendChecked||b.grep(jt(p,"input"),Ft),d=0;while(s=p[d++]){if(r&&b.inArray(s,r)!==-1)continue;o=b.contains(s.ownerDocument,s),u=jt(h.appendChild(s),"script"),o&&Pt(u);if(n){i=0;while(s=u[i++])Nt.test(s.type||"")&&n.push(s)}}return u=null,h},cleanData:function(e,t){var n,r,s,o,u=0,a=b.expando,f=b.cache,c=b.support.deleteExpando,h=b.event.special;for(;(n=e[u])!=null;u++)if(t||b.acceptData(n)){s=n[a],o=s&&f[s];if(o){if(o.events)for(r in o.events)h[r]?b.event.remove(n,r):b.removeEvent(n,r,o.handle);f[s]&&(delete f[s],c?delete n[a]:typeof n.removeAttribute!==i?n.removeAttribute(a):n[a]=null,l.push(s))}}}});var It,qt,Rt,Ut=/alpha\([^)]*\)/i,zt=/opacity\s*=\s*([^)]*)/,Wt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Vt=/^margin/,$t=new RegExp("^("+w+")(.*)$","i"),Jt=new RegExp("^("+w+")(?!px)[a-z%]+$","i"),Kt=new RegExp("^([+-])=("+w+")","i"),Qt={BODY:"block"},Gt={position:"absolute",visibility:"hidden",display:"block"},Yt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];b.fn.extend({css:function(e,n){return b.access(this,function(e,n,r){var i,s,o={},u=0;if(b.isArray(n)){s=qt(e),i=n.length;for(;u<i;u++)o[n[u]]=b.css(e,n[u],!1,s);return o}return r!==t?b.style(e,n,r):b.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){var t=typeof e=="boolean";return this.each(function(){(t?e:nn(this))?b(this).show():b(this).hide()})}}),b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Rt(e,"opacity");return n===""?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=b.camelCase(n),f=e.style;n=b.cssProps[a]||(b.cssProps[a]=tn(f,a)),u=b.cssHooks[n]||b.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=Kt.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(b.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!b.cssNumber[a]&&(r+="px"),!b.support.clearCloneStyle&&r===""&&n.indexOf("background")===0&&(f[n]="inherit");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=b.camelCase(n);return n=b.cssProps[a]||(b.cssProps[a]=tn(e.style,a)),u=b.cssHooks[n]||b.cssHooks[a],u&&"get"in u&&(o=u.get(e,!0,r)),o===t&&(o=Rt(e,n,i)),o==="normal"&&n in Yt&&(o=Yt[n]),r===""||r?(s=parseFloat(o),r===!0||b.isNumeric(s)?s||0:o):o},swap:function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i}}),e.getComputedStyle?(qt=function(t){return e.getComputedStyle(t,null)},Rt=function(e,n,r){var i,s,o,u=r||qt(e),a=u?u.getPropertyValue(n)||u[n]:t,f=e.style;return u&&(a===""&&!b.contains(e.ownerDocument,e)&&(a=b.style(e,n)),Jt.test(a)&&Vt.test(n)&&(i=f.width,s=f.minWidth,o=f.maxWidth,f.minWidth=f.maxWidth=f.width=a,a=u.width,f.width=i,f.minWidth=s,f.maxWidth=o)),a}):s.documentElement.currentStyle&&(qt=function(e){return e.currentStyle},Rt=function(e,n,r){var i,s,o,u=r||qt(e),a=u?u[n]:t,f=e.style;return a==null&&f&&f[n]&&(a=f[n]),Jt.test(a)&&!Wt.test(n)&&(i=f.left,s=e.runtimeStyle,o=s&&s.left,o&&(s.left=e.currentStyle.left),f.left=n==="fontSize"?"1em":a,a=f.pixelLeft+"px",f.left=i,o&&(s.left=o)),a===""?"auto":a}),b.each(["height","width"],function(e,t){b.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&Xt.test(b.css(e,"display"))?b.swap(e,Gt,function(){return un(e,t,r)}):un(e,t,r)},set:function(e,n,r){var i=r&&qt(e);return sn(e,n,r?on(e,t,r,b.support.boxSizing&&b.css(e,"boxSizing",!1,i)==="border-box",i):0)}}}),b.support.opacity||(b.cssHooks.opacity={get:function(e,t){return zt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=b.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if((t>=1||t==="")&&b.trim(s.replace(Ut,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(t===""||r&&!r.filter)return}n.filter=Ut.test(s)?s.replace(Ut,i):s+" "+i}}),b(function(){b.support.reliableMarginRight||(b.cssHooks.marginRight={get:function(e,t){if(t)return b.swap(e,{display:"inline-block"},Rt,[e,"marginRight"])}}),!b.support.pixelPosition&&b.fn.position&&b.each(["top","left"],function(e,t){b.cssHooks[t]={get:function(e,n){if(n)return n=Rt(e,t),Jt.test(n)?b(e).position()[t]+"px":n}}})}),b.expr&&b.expr.filters&&(b.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!b.support.reliableHiddenOffsets&&(e.style&&e.style.display||b.css(e,"display"))==="none"},b.expr.filters.visible=function(e){return!b.expr.filters.hidden(e)}),b.each({margin:"",padding:"",border:"Width"},function(e,t){b.cssHooks[e+t]={expand:function(n){var r=0,i={},s=typeof n=="string"?n.split(" "):[n];for(;r<4;r++)i[e+Zt[r]+t]=s[r]||s[r-2]||s[0];return i}},Vt.test(e)||(b.cssHooks[e+t].set=sn)});var ln=/%20/g,cn=/\[\]$/,hn=/\r?\n/g,pn=/^(?:submit|button|image|reset|file)$/i,dn=/^(?:input|select|textarea|keygen)/i;b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&dn.test(this.nodeName)&&!pn.test(e)&&(this.checked||!xt.test(e))}).map(function(e,t){var n=b(this).val();return n==null?null:b.isArray(n)?b.map(n,function(e){return{name:t.name,value:e.replace(hn,"\r\n")}}):{name:t.name,value:n.replace(hn,"\r\n")}}).get()}}),b.param=function(e,n){var r,i=[],s=function(e,t){t=b.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=b.ajaxSettings&&b.ajaxSettings.traditional);if(b.isArray(e)||e.jquery&&!b.isPlainObject(e))b.each(e,function(){s(this.name,this.value)});else for(r in e)vn(r,e[r],n,s);return i.join("&").replace(ln,"+")},b.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){b.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),b.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var mn,gn,yn=b.now(),bn=/\?/,wn=/#.*$/,En=/([?&])_=[^&]*/,Sn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,xn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Tn=/^(?:GET|HEAD)$/,Nn=/^\/\//,Cn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,kn=b.fn.load,Ln={},An={},On="*/".concat("*");try{gn=o.href}catch(Mn){gn=s.createElement("a"),gn.href="",gn=gn.href}mn=Cn.exec(gn.toLowerCase())||[],b.fn.load=function(e,n,r){if(typeof e!="string"&&kn)return kn.apply(this,arguments);var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),b.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(o="POST"),u.length>0&&b.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){s=arguments,u.html(i?b("<div>").append(b.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){u.each(r,s||[e.responseText,t,e])}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){b.fn[t]=function(e){return this.on(t,e)}}),b.each(["get","post"],function(e,n){b[n]=function(e,r,i,s){return b.isFunction(r)&&(s=s||i,i=r,r=t),b.ajax({url:e,type:n,dataType:s,data:r,success:i})}}),b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gn,type:"GET",isLocal:xn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":On,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Pn(Pn(e,b.ajaxSettings),t):Pn(b.ajaxSettings,e)},ajaxPrefilter:_n(Ln),ajaxTransport:_n(An),ajax:function(e,n){function N(e,n,r,i){var l,g,y,E,S,T=n;if(w===2)return;w=2,u&&clearTimeout(u),f=t,o=i||"",x.readyState=e>0?4:0,r&&(E=Hn(c,x,r));if(e>=200&&e<300||e===304)c.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(b.lastModified[s]=S),S=x.getResponseHeader("etag"),S&&(b.etag[s]=S)),e===204?(l=!0,T="nocontent"):e===304?(l=!0,T="notmodified"):(l=Bn(c,E),T=l.state,g=l.data,y=l.error,l=!y);else{y=T;if(e||!T)T="error",e<0&&(e=0)}x.status=e,x.statusText=(n||T)+"",l?d.resolveWith(h,[g,T,x]):d.rejectWith(h,[x,T,y]),x.statusCode(m),m=t,a&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,c,l?g:y]),v.fireWith(h,[x,T]),a&&(p.trigger("ajaxComplete",[x,c]),--b.active||b.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=b.ajaxSetup({},n),h=c.context||c,p=c.context&&(h.nodeType||h.jquery)?b(h):b.event,d=b.Deferred(),v=b.Callbacks("once memory"),m=c.statusCode||{},g={},y={},w=0,S="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(w===2){if(!l){l={};while(t=Sn.exec(o))l[t[1].toLowerCase()]=t[2]}t=l[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return w===2?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return w||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)m[t]=[m[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||S;return f&&f.abort(t),N(0,t),this}};d.promise(x).complete=v.add,x.success=x.done,x.error=x.fail,c.url=((e||c.url||gn)+"").replace(wn,"").replace(Nn,mn[1]+"//"),c.type=n.method||n.type||c.method||c.type,c.dataTypes=b.trim(c.dataType||"*").toLowerCase().match(E)||[""],c.crossDomain==null&&(r=Cn.exec(c.url.toLowerCase()),c.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||(r[1]==="http:"?80:443))==(mn[3]||(mn[1]==="http:"?80:443)))),c.data&&c.processData&&typeof c.data!="string"&&(c.data=b.param(c.data,c.traditional)),Dn(Ln,c,n,x);if(w===2)return x;a=c.global,a&&b.active++===0&&b.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Tn.test(c.type),s=c.url,c.hasContent||(c.data&&(s=c.url+=(bn.test(s)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=En.test(s)?s.replace(En,"$1_="+yn++):s+(bn.test(s)?"&":"?")+"_="+yn++)),c.ifModified&&(b.lastModified[s]&&x.setRequestHeader("If-Modified-Since",b.lastModified[s]),b.etag[s]&&x.setRequestHeader("If-None-Match",b.etag[s])),(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",c.contentType),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+On+"; q=0.01":""):c.accepts["*"]);for(i in c.headers)x.setRequestHeader(i,c.headers[i]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&w!==2){S="abort";for(i in{success:1,error:1,complete:1})x[i](c[i]);f=Dn(An,c,n,x);if(!f)N(-1,"No Transport");else{x.readyState=1,a&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{w=1,f.send(g,N)}catch(T){if(!(w<2))throw T;N(-1,T)}}return x}return x.abort()},getScript:function(e,n){return b.get(e,t,n,"script")},getJSON:function(e,t,n){return b.get(e,t,n,"json")}}),b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),b.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=s.head||b("head")[0]||s.documentElement;return{send:function(t,i){n=s.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){if(t||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var jn=[],Fn=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=jn.pop()||b.expando+"_"+yn++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.jsonp!==!1&&(Fn.test(n.url)?"url":typeof n.data=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Fn.test(n.data)&&"data");if(a||n.dataTypes[0]==="jsonp")return s=n.jsonpCallback=b.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,a?n[a]=n[a].replace(Fn,"$1"+s):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||b.error(s+" was not called"),u[0]},n.dataTypes[0]="json",o=e[s],e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,jn.push(s)),u&&b.isFunction(o)&&o(u[0]),u=o=t}),"script"});var In,qn,Rn=0,Un=e.ActiveXObject&&function(){var e;for(e in In)In[e](t,!0)};b.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&zn()||Wn()}:zn,qn=b.ajaxSettings.xhr(),b.support.cors=!!qn&&"withCredentials"in qn,qn=b.support.ajax=!!qn,qn&&b.ajaxTransport(function(n){if(!n.crossDomain||b.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=b.noop,Un&&delete In[o]);if(i)a.readyState!==4&&a.abort();else{c={},u=a.status,f=a.getAllResponseHeaders(),typeof a.responseText=="string"&&(c.text=a.responseText);try{l=a.statusText}catch(h){l=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(p){i||s(-1,p)}c&&s(u,l,c,f)},n.async?a.readyState===4?setTimeout(r):(o=++Rn,Un&&(In||(In={},b(e).unload(Un)),In[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Vn,$n=/^(?:toggle|show|hide)$/,Jn=new RegExp("^(?:([+-])=|)("+w+")([a-z%]*)$","i"),Kn=/queueHooks$/,Qn=[nr],Gn={"*":[function(e,t){var n,r,i=this.createTween(e,t),s=Jn.exec(t),o=i.cur(),u=+o||0,a=1,f=20;if(s){n=+s[2],r=s[3]||(b.cssNumber[e]?"":"px");if(r!=="px"&&u){u=b.css(i.elem,e,!0)||n||1;do a=a||".5",u/=a,b.style(i.elem,e,u+r);while(a!==(a=i.cur()/o)&&a!==1&&--f)}i.unit=r,i.start=u,i.end=s[1]?u+(s[1]+1)*n:n}return i}]};b.Animation=b.extend(er,{tweener:function(e,t){b.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Gn[n]=Gn[n]||[],Gn[n].unshift(t)},prefilter:function(e,t){t?Qn.unshift(e):Qn.push(e)}}),b.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(b.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.options.duration?this.pos=t=b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=b.css(e.elem,e.prop,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):e.elem.style&&(e.elem.style[b.cssProps[e.prop]]!=null||b.cssHooks[e.prop])?b.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.each(["toggle","show","hide"],function(e,t){var n=b.fn[t];b.fn[t]=function(e,r,i){return e==null||typeof e=="boolean"?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),b.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=b.isEmptyObject(e),s=b.speed(t,n,r),o=function(){var t=er(this,b.extend({},e),s);o.finish=function(){t.stop(!0)},(i||b._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=b.timers,o=b._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Kn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&b.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=b._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=b.timers,o=r?r.length:0;n.finish=!0,b.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this);for(t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),b.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){b.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),b.speed=function(e,t,n){var r=e&&typeof e=="object"?b.extend({},e):{complete:n||!n&&t||b.isFunction(e)&&e,duration:e,easing:n&&t||t&&!b.isFunction(t)&&t};r.duration=b.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in b.fx.speeds?b.fx.speeds[r.duration]:b.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){b.isFunction(r.old)&&r.old.call(this),r.queue&&b.dequeue(this,r.queue)},r},b.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},b.timers=[],b.fx=rr.prototype.init,b.fx.tick=function(){var e,n=b.timers,r=0;Xn=b.now();for(;r<n.length;r++)e=n[r],!e()&&n[r]===e&&n.splice(r--,1);n.length||b.fx.stop(),Xn=t},b.fx.timer=function(e){e()&&b.timers.push(e)&&b.fx.start()},b.fx.interval=13,b.fx.start=function(){Vn||(Vn=setInterval(b.fx.tick,b.fx.interval))},b.fx.stop=function(){clearInterval(Vn),Vn=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fx.step={},b.expr&&b.expr.filters&&(b.expr.filters.animated=function(e){return b.grep(b.timers,function(t){return e===t.elem}).length}),b.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){b.offset.setOffset(this,e,t)});var n,r,s={top:0,left:0},o=this[0],u=o&&o.ownerDocument;if(!u)return;return n=u.documentElement,b.contains(n,o)?(typeof o.getBoundingClientRect!==i&&(s=o.getBoundingClientRect()),r=sr(u),{top:s.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:s.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):s},b.offset={setOffset:function(e,t,n){var r=b.css(e,"position");r==="static"&&(e.style.position="relative");var i=b(e),s=i.offset(),o=b.css(e,"top"),u=b.css(e,"left"),a=(r==="absolute"||r==="fixed")&&b.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),b.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},b.fn.extend({position:function(){if(!this[0])return;var e,t,n={top:0,left:0},r=this[0];return b.css(r,"position")==="fixed"?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),b.nodeName(e[0],"html")||(n=e.offset()),n.top+=b.css(e[0],"borderTopWidth",!0),n.left+=b.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-b.css(r,"marginTop",!0),left:t.left-n.left-b.css(r,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s.documentElement;while(e&&!b.nodeName(e,"html")&&b.css(e,"position")==="static")e=e.offsetParent;return e||s.documentElement})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);b.fn[e]=function(i){return b.access(this,function(e,i,s){var o=sr(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?b(o).scrollLeft():s,r?s:b(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),b.each({Height:"height",Width:"width"},function(e,n){b.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){b.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return b.access(this,function(n,r,i){var s;return b.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?b.css(n,r,u):b.style(n,r,i,u)},n,o?i:t,o,null)}})}),e.jQuery=e.$=b,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return b})}(window),function(){var e=this,t=e.Backbone,n=[],r=n.push,i=n.slice,s=n.splice,o;typeof exports!="undefined"?o=exports:o=e.Backbone={},o.VERSION="1.1.0";var u=e._;!u&&typeof require!="undefined"&&(u=require("underscore")),o.$=e.jQuery||e.Zepto||e.ender||e.$,o.noConflict=function(){return e.Backbone=t,this},o.emulateHTTP=!1,o.emulateJSON=!1;var a=o.Events={on:function(e,t,n){if(!l(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!l(this,"once",e,[t,n])||!t)return this;var r=this,i=u.once(function(){r.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n)},off:function(e,t,n){var r,i,s,o,a,f,c,h;if(!this._events||!l(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;o=e?[e]:u.keys(this._events);for(a=0,f=o.length;a<f;a++){e=o[a];if(s=this._events[e]){this._events[e]=r=[];if(t||n)for(c=0,h=s.length;c<h;c++)i=s[c],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&r.push(i);r.length||delete this._events[e]}}return this},trigger:function(e){if(!this._events)return this;var t=i.call(arguments,1);if(!l(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&c(n,t),r&&c(r,arguments),this},stopListening:function(e,t,n){var r=this._listeningTo;if(!r)return this;var i=!t&&!n;!n&&typeof t=="object"&&(n=this),e&&((r={})[e._listenId]=e);for(var s in r)e=r[s],e.off(t,n,this),(i||u.isEmpty(e._events))&&delete this._listeningTo[s];return this}},f=/\s+/,l=function(e,t,n,r){if(!n)return!0;if(typeof n=="object"){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(f.test(n)){var s=n.split(f);for(var o=0,u=s.length;o<u;o++)e[t].apply(e,[s[o]].concat(r));return!1}return!0},c=function(e,t){var n,r=-1,i=e.length,s=t[0],o=t[1],u=t[2];switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,s);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o,u);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t)}},h={listenTo:"on",listenToOnce:"once"};u.each(h,function(e,t){a[t]=function(t,n,r){var i=this._listeningTo||(this._listeningTo={}),s=t._listenId||(t._listenId=u.uniqueId("l"));return i[s]=t,!r&&typeof n=="object"&&(r=this),t[e](n,r,this),this}}),a.bind=a.on,a.unbind=a.off,u.extend(o,a);var p=o.Model=function(e,t){var n=e||{};t||(t={}),this.cid=u.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{}),n=u.defaults({},n,u.result(this,"defaults")),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};u.extend(p.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return u.clone(this.attributes)},sync:function(){return o.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return u.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,n){var r,i,s,o,a,f,l,c;if(e==null)return this;typeof e=="object"?(i=e,n=t):(i={})[e]=t,n||(n={});if(!this._validate(i,n))return!1;s=n.unset,a=n.silent,o=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=u.clone(this.attributes),this.changed={}),c=this.attributes,l=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]);for(r in i)t=i[r],u.isEqual(c[r],t)||o.push(r),u.isEqual(l[r],t)?delete this.changed[r]:this.changed[r]=t,s?delete c[r]:c[r]=t;if(!a){o.length&&(this._pending=!0);for(var h=0,p=o.length;h<p;h++)this.trigger("change:"+o[h],this,c[o[h]],n)}if(f)return this;if(!a)while(this._pending)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,u.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,u.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!u.isEmpty(this.changed):u.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?u.clone(this.changed):!1;var t,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var i in e){if(u.isEqual(r[i],t=e[i]))continue;(n||(n={}))[i]=t}return n},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return u.clone(this._previousAttributes)},fetch:function(e){e=e?u.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r){if(!t.set(t.parse(r,e),e))return!1;n&&n(t,r,e),t.trigger("sync",t,r,e)},F(this,e),this.sync("read",this,e)},save:function(e,t,n){var r,i,s,o=this.attributes;e==null||typeof e=="object"?(r=e,n=t):(r={})[e]=t,n=u.extend({validate:!0},n);if(r&&!n.wait){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=u.extend({},o,r)),n.parse===void 0&&(n.parse=!0);var a=this,f=n.success;return n.success=function(e){a.attributes=o;var t=a.parse(e,n);n.wait&&(t=u.extend(r||{},t));if(u.isObject(t)&&!a.set(t,n))return!1;f&&f(a,e,n),a.trigger("sync",a,e,n)},F(this,n),i=this.isNew()?"create":n.patch?"patch":"update",i==="patch"&&(n.attrs=r),s=this.sync(i,this,n),r&&n.wait&&(this.attributes=o),s},destroy:function(e){e=e?u.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(i){(e.wait||t.isNew())&&r(),n&&n(t,i,e),t.isNew()||t.trigger("sync",t,i,e)};if(this.isNew())return e.success(),!1;F(this,e);var i=this.sync("delete",this,e);return e.wait||r(),i},url:function(){var e=u.result(this,"urlRoot")||u.result(this.collection,"url")||j();return this.isNew()?e:e+(e.charAt(e.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(e){return this._validate({},u.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=u.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,u.extend(t,{validationError:n})),!1):!0}});var d=["keys","values","pairs","invert","pick","omit"];u.each(d,function(e){p.prototype[e]=function(){var t=i.call(arguments);return t.unshift(this.attributes),u[e].apply(u,t)}});var v=o.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,u.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};u.extend(v.prototype,a,{model:p,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return o.sync.apply(this,arguments)},add:function(e,t){return this.set(e,u.extend({merge:!1},t,g))},remove:function(e,t){var n=!u.isArray(e);e=n?[e]:u.clone(e),t||(t={});var r,i,s,o;for(r=0,i=e.length;r<i;r++){o=e[r]=this.get(e[r]);if(!o)continue;delete this._byId[o.id],delete this._byId[o.cid],s=this.indexOf(o),this.models.splice(s,1),this.length--,t.silent||(t.index=s,o.trigger("remove",o,this,t)),this._removeReference(o)}return n?e[0]:e},set:function(e,t){t=u.defaults({},t,m),t.parse&&(e=this.parse(e,t));var n=!u.isArray(e);e=n?e?[e]:[]:u.clone(e);var r,i,s,o,a,f,l,c=t.at,h=this.model,d=this.comparator&&c==null&&t.sort!==!1,v=u.isString(this.comparator)?this.comparator:null,g=[],y=[],b={},w=t.add,E=t.merge,S=t.remove,x=!d&&w&&S?[]:!1;for(r=0,i=e.length;r<i;r++){a=e[r],a instanceof p?s=o=a:s=a[h.prototype.idAttribute];if(f=this.get(s))S&&(b[f.cid]=!0),E&&(a=a===o?o.attributes:a,t.parse&&(a=f.parse(a,t)),f.set(a,t),d&&!l&&f.hasChanged(v)&&(l=!0)),e[r]=f;else if(w){o=e[r]=this._prepareModel(a,t);if(!o)continue;g.push(o),o.on("all",this._onModelEvent,this),this._byId[o.cid]=o,o.id!=null&&(this._byId[o.id]=o)}x&&x.push(f||o)}if(S){for(r=0,i=this.length;r<i;++r)b[(o=this.models[r]).cid]||y.push(o);y.length&&this.remove(y,t)}if(g.length||x&&x.length){d&&(l=!0),this.length+=g.length;if(c!=null)for(r=0,i=g.length;r<i;r++)this.models.splice(c+r,0,g[r]);else{x&&(this.models.length=0);var T=x||g;for(r=0,i=T.length;r<i;r++)this.models.push(T[r])}}l&&this.sort({silent:!0});if(!t.silent){for(r=0,i=g.length;r<i;r++)(o=g[r]).trigger("add",o,this,t);(l||x&&x.length)&&this.trigger("sort",this,t)}return n?e[0]:e},reset:function(e,t){t||(t={});for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),e=this.add(e,u.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,u.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,u.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return i.apply(this.models,arguments)},get:function(e){return e==null?void 0:this._byId[e.id]||this._byId[e.cid]||this._byId[e]},at:function(e){return this.models[e]},where:function(e,t){return u.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),u.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(u.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return u.invoke(this.models,"get",e)},fetch:function(e){e=e?u.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=e.success,n=this;return e.success=function(r){var i=e.reset?"reset":"set";n[i](r,e),t&&t(n,r,e),n.trigger("sync",n,r,e)},F(this,e),this.sync("read",this,e)},create:function(e,t){t=t?u.clone(t):{};if(!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,r=t.success;return t.success=function(e,t,i){i.wait&&n.add(e,i),r&&r(e,t,i)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof p)return e.collection||(e.collection=this),e;t=t?u.clone(t):{},t.collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],t.id!=null&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments)}});var y=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];u.each(y,function(e){v.prototype[e]=function(){var t=i.call(arguments);return t.unshift(this.models),u[e].apply(u,t)}});var b=["groupBy","countBy","sortBy"];u.each(b,function(e){v.prototype[e]=function(t,n){var r=u.isFunction(t)?t:function(e){return e.get(t)};return u[e](this.models,r,n)}});var w=o.View=function(e){this.cid=u.uniqueId("view"),e||(e={}),u.extend(this,u.pick(e,S)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},E=/^(\S+)\s*(.*)$/,S=["model","collection","el","id","attributes","className","tagName","events"];u.extend(w.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof o.$?e:o.$(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=u.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];u.isFunction(n)||(n=this[e[t]]);if(!n)continue;var r=t.match(E),i=r[1],s=r[2];n=u.bind(n,this),i+=".delegateEvents"+this.cid,s===""?this.$el.on(i,n):this.$el.on(i,s,n)}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(!this.el){var e=u.extend({},u.result(this,"attributes"));this.id&&(e.id=u.result(this,"id")),this.className&&(e["class"]=u.result(this,"className"));var t=o.$("<"+u.result(this,"tagName")+">").attr(e);this.setElement(t,!1)}else this.setElement(u.result(this,"el"),!1)}}),o.sync=function(e,t,n){var r=T[e];u.defaults(n||(n={}),{emulateHTTP:o.emulateHTTP,emulateJSON:o.emulateJSON});var i={type:r,dataType:"json"};n.url||(i.url=u.result(t,"url")||j()),n.data==null&&t&&(e==="create"||e==="update"||e==="patch")&&(i.contentType="application/json",i.data=JSON.stringify(n.attrs||t.toJSON(n))),n.emulateJSON&&(i.contentType="application/x-www-form-urlencoded",i.data=i.data?{model:i.data}:{});if(n.emulateHTTP&&(r==="PUT"||r==="DELETE"||r==="PATCH")){i.type="POST",n.emulateJSON&&(i.data._method=r);var s=n.beforeSend;n.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r);if(s)return s.apply(this,arguments)}}i.type!=="GET"&&!n.emulateJSON&&(i.processData=!1),i.type==="PATCH"&&x&&(i.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var a=n.xhr=o.ajax(u.extend(i,n));return t.trigger("request",t,a,n),a};var x=typeof window!="undefined"&&!!window.ActiveXObject&&(!window.XMLHttpRequest||!(new XMLHttpRequest).dispatchEvent),T={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};o.ajax=function(){return o.$.ajax.apply(o.$,arguments)};var N=o.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,k=/(\(\?)?:\w+/g,L=/\*\w+/g,A=/[\-{}\[\]+?.,\\\^$|#\s]/g;u.extend(N.prototype,a,{initialize:function(){},route:function(e,t,n){u.isRegExp(e)||(e=this._routeToRegExp(e)),u.isFunction(t)&&(n=t,t=""),n||(n=this[t]);var r=this;return o.history.route(e,function(i){var s=r._extractParameters(e,i);n&&n.apply(r,s),r.trigger.apply(r,["route:"+t].concat(s)),r.trigger("route",t,s),o.history.trigger("route",r,t,s)}),this},navigate:function(e,t){return o.history.navigate(e,t),this},_bindRoutes:function(){if(!this.routes)return;this.routes=u.result(this,"routes");var e,t=u.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(A,"\\$&").replace(C,"(?:$1)?").replace(k,function(e,t){return t?e:"([^/]+)"}).replace(L,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return u.map(n,function(e){return e?decodeURIComponent(e):null})}});var O=o.History=function(){this.handlers=[],u.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},M=/^[#\/]|\s+$/g,_=/^\/+|\/+$/g,D=/msie [\w.]+/,P=/\/$/,H=/[?#].*$/;O.started=!1,u.extend(O.prototype,a,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(P,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(M,"")},start:function(e){if(O.started)throw new Error("Backbone.history has already been started");O.started=!0,this.options=u.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment(),n=document.documentMode,r=D.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);this.root=("/"+this.root+"/").replace(_,"/"),r&&this._wantsHashChange&&(this.iframe=o.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?o.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?o.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var i=this.location,s=i.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!s)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&s&&i.hash&&(this.fragment=this.getHash().replace(M,""),this.history.replaceState({},document.title,this.root+this.fragment+i.search))}if(!this.options.silent)return this.loadUrl()},stop:function(){o.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),O.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),u.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(e,t){if(!O.started)return!1;if(!t||t===!0)t={trigger:!!t};var n=this.root+(e=this.getFragment(e||""));e=e.replace(H,"");if(this.fragment===e)return;this.fragment=e,e===""&&n!=="/"&&(n=n.slice(0,-1));if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),o.history=new O;var B=function(e,t){var n=this,r;e&&u.has(e,"constructor")?r=e.constructor:r=function(){return n.apply(this,arguments)},u.extend(r,n,t);var i=function(){this.constructor=r};return i.prototype=n.prototype,r.prototype=new i,e&&u.extend(r.prototype,e),r.__super__=n.prototype,r};p.extend=v.extend=N.extend=w.extend=O.extend=B;var j=function(){throw new Error('A "url" property or function must be specified')},F=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}}}.call(this),define("backbone",["underscore","jquery"],function(e){return function(){var t,n;return t||e.Backbone}}(this)),define("Settings",[],function(){var e={};return e.APP_URL="http://webdlmon.nees.ucsb.edu:8888",e.MESSAGE_TIMEOUT=5e3,e.RRD_TIMEOUT=5e3,e.RRD_ERROR="No data could be fetched from the RRD",e.ENOFILE="file not available",e.RRD_OK_MSG="<i class='large thumbs up icon'></i>And we're back!",e.RRD_ERR_MSG="<i class='large attention icon'></i>This data is old because dlmon2json has stopped!",e.GRAPH_START=(new Date).getTime()-588e3,e.GRAPH_END=(new Date).getTime(),e.WARNING_MAP={dt:{MIN:-20,MAX:52,WARN_SPAN:12},da:{MIN:-0.15,MAX:.3,WARN_SPAN:.15},dv:{MIN:11.2,MAX:14.5,WARN_SPAN:.3},dlt:{MIN:-180,MAX:900,WARN_SPAN:180},lcq:{MIN:90,MAX:103,WARN_SPAN:2}},e.STYLE={DEFAULT:"",OK:"positive green",WARN:"warning purple",DANGER:"negative red"},e}),define("Collection",["backbone","Settings","underscore"],function(e,t,n){var r=e.Collection.extend({initialize:function(t,r){this.vent=r.vent,this.on("add change:ok",this.updateOk),this.vent.on("data",n.bind(function(e){this.set(e,{remove:!1})},this)),this.deadCounter=new e.Model},comparator:function(e){return e.get("id")},updateOk:function(){var e=n.countBy(this.toJSON(),function(e){return e.ok});this.deadCounter.set("count",e.false)}});return r}),function(){var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],t=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,n=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,r=[],i={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g},s=function(e,t){var n=i,r="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(n.interpolate,function(e,t){return"',"+t.replace(/\\'/g,"'")+",'"}).replace(n.evaluate||null,function(e,t){return"');"+t.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"; __p.push('"}).replace(/\r/g,"").replace(/\n/g,"").replace(/\t/g,"")+"');}return __p.join('');";return r};define("tpl",[],function(){var i,o,u;return typeof window!="undefined"&&window.navigator&&window.document?o=function(e,t){var n=i.createXhr();n.open("GET",e,!0),n.onreadystatechange=function(e){n.readyState===4&&t(n.responseText)},n.send(null)}:typeof process!="undefined"&&process.versions&&!!process.versions.node&&(u=require.nodeRequire("fs"),o=function(e,t){t(u.readFileSync(e,"utf8"))}),i={version:"0.24.0",strip:function(e){if(e){e=e.replace(t,"");var r=e.match(n);r&&(e=r[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"").replace(/[\t]/g,"").replace(/[\r]/g,"")},createXhr:function(){var t,n,r;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;for(n=0;n<3;n++){r=e[n];try{t=new ActiveXObject(r)}catch(i){}if(t){e=[r];break}}if(!t)throw new Error("require.getXhr(): XMLHttpRequest not available");return t},get:o,load:function(e,t,n,o){var u=!1,a,f=e.indexOf("."),l=e.substring(0,f),c=e.substring(f+1,e.length);f=c.indexOf("!"),f!==-1&&(u=c.substring(f+1,c.length),u=u==="strip",c=c.substring(0,f)),a="nameToUrl"in t?t.nameToUrl(l,"."+c):t.toUrl(l+"."+c),i.get(a,function(t){t=s(t),o.isBuild||(t=new Function("obj",t)),t=u?i.strip(t):t,o.isBuild&&o.inlineText&&(r[e]=t),n(t)})},write:function(e,t,n){if(t in r){var s=i.jsEscape(r[t]);n("define('"+e+"!"+t+"', function() {return function(obj) { "+s.replace(/(\\')/g,"'").replace(/(\\\\)/g,"\\")+"}});\n")}}}})}(),define("tpl!Templates/TableView.html",function(){return function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("<thead><tr><th data-target='id' title='logger id'>name</th><th data-target='dt' title='Digitizer temperature.'>temp</th><th data-target='dv' title='Digitizer voltage.'>volt</th><th data-target='da' title='Digitizer current.'>amp</th><th data-target='dlt' title='Data latency - Age of last data packet sample received.'>dlt</th><th data-target='lcq' title='Percent clock quality'>lcq</th><th data-target='dr' title='Input & output data rate in bits per second.'>dr</th><th data-target='br24' title='Total number of bytes read in last 24 hours.'>br24</th><th data-target='rtm' title='Running time since current connection was established.'>runtim</th><th data-target='gp24' title='data gaps in last 24 hours.'>gp24</th><th data-target='gp1' title='data gaps in last 1 hour.'>gp1</th><th data-target='nr24' title='Datalogger reboots in last 24 hours.'>nr24</th><th data-target='pkse' title='Status latency - Age of last status packet.'>slt</th><th data-target='tput' title='Thruput as a ratio of seconds read to the real-time clock.'>tp</th><th data-target='ce' title='Communication efficiency as a percentage of processed to read + missed packets.'>cne</th><th data-target='pb' title='Percent of packet buffer full.'>bufr</th><th data-target='nl24' title='comm link cycles in last 24 hours'>nl24</th><th data-target='np24' title='POCs received in last 24 hours'>np24</th><th data-target='ni24' title='datalogger ip-address changes in last 24 hours'>ni24</th><th data-target='bw24' title='Total number of bytes written in last 24 hours'>bw24</th><th data-target='meme' title='buffer memory error'>meme</th><th data-target='clt' title='Clock latency - Age of last GPS clock update.'>cltncy</th>f<th data-target='gps' title='GPS position fix quality'>gps</th><th data-target='cld' title='Clock drift from true'>cld</th><th data-target='gpss' title='GPS status'>gpss</th><th data-target='clq' title='Clock status.'>pll</th><th data-target='elev' title='GPS reported elevation.'>elev</th></tr></thead><tbody><!-- Rows go here --></tbody>");return __p.join("")}}),define("tpl!Templates/TableRow.html",function(){return function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("<td title='Last heard: ",diff!=="0"?diff:"recently"," ago' class='",ok?"":"negative"," info'>",id,"</td><td data-field='dt' class='",getColor("dt"),"'>",getTemp(),"</td><td data-field='dv' class='",getColor("dv"),"'>",getVolt(),"</td><td data-field='da' class='",getColor("da"),"'>",getAmp(),"</td><td data-field='dlt' class='",getColor("dlt"),"'>",seconds(dlt),"</td><td data-field='lcq' class='",getColor("lcq"),"'>",percent(lcq),"</td><td class='",getColor("dr"),"'>",bigNumber(dr),"</td><td class='",getColor("dv"),"'>",bigNumber(br24),"</td><td class='",getColor("rtm"),"'>",uptime(rtm),"</td><td class='",getColor("gp24"),"'>",seconds(gp24),"</td><td class='",getColor("gp1"),"'>",seconds(gp1),"</td><td class='",getColor("nr24"),"'>",round(nr24),"</td><td class='",getColor("pkse"),"'>",seconds(pkse),"</td><td class='",getColor("tput"),"'>",fixed(tput,2),"</td><td class='",getColor("ce"),"'>",percent(ce),"</td><td class='",getColor("pb"),"'>",percent(pb),"</td><td class='",getColor("nl24"),"'>",nl24,"</td><td class='",getColor("np24"),"'>",np24,"</td><td class='",getColor("ni24"),"'>",ni24,"</td><td class='",getColor("bw24"),"'>",bigNumber(bw24),"</td><td class='",getColor("meme"),"'>",meme,"</td><td class='",getColor("clt"),"'>",seconds(clt),"</td><td class='",getColor("gps"),"'>",gps,"</td><td class='",getColor("cld"),"'>",getCld(),"</td><td class='",getColor("gpss"),"'>",gpss,"</td><td class='",getColor("clq"),"'>",clq,"</td><td class='",getColor("elev"),"'>",getElevation(),"</td>");return __p.join("")}}),Backbone.ChildViewContainer=function(e,t){var n=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};t.extend(n.prototype,{add:function(e,t){var n=e.cid;this._views[n]=e,e.model&&(this._indexByModel[e.model.cid]=n),t&&(this._indexByCustom[t]=n),this._updateLength()},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var n=e.cid;e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,function(e,t){if(e===n)return delete this._indexByCustom[t],!0},this),delete this._views[n],this._updateLength()},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,n){t.each(this._views,function(r){t.isFunction(r[e])&&r[e].apply(r,n||[])})},_updateLength:function(){this.length=t.size(this._views)}});var r=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return t.each(r,function(e){n.prototype[e]=function(){var n=t.values(this._views),r=[n].concat(t.toArray(arguments));return t[e].apply(t,r)}}),n}(Backbone,_),Backbone.Wreqr=function(e,t,n){var r={};return r.Handlers=function(e,t){var n=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events,{setHandlers:function(e){t.each(e,function(e,n){var r=null;t.isObject(e)&&!t.isFunction(e)&&(r=e.context,e=e.callback),this.setHandler(n,e,r)},this)},setHandler:function(e,t,n){var r={callback:t,context:n};this._wreqrHandlers[e]=r,this.trigger("handler:add",e,t,n)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(!t)throw new Error("Handler not found for '"+e+"'");return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(e,n),r.CommandStorage=function(){var t=function(e){this.options=e,this._commands={},n.isFunction(this.initialize)&&this.initialize(e)};return n.extend(t.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){var n=this.getCommands(e);n.instances.push(t)},clearCommands:function(e){var t=this.getCommands(e);t.instances=[]}}),t}(),r.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var n=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,n)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,t,r){var i=this.storage.getCommands(e);n.each(i.instances,function(e){t.apply(r,e)}),this.storage.clearCommands(e)},_initializeStorage:function(e){var t,r=e.storageType||this.storageType;n.isFunction(r)?t=new r:t=r,this.storage=t}})}(r),r.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return this.getHandler(e).apply(this,t)}})}(r),r.EventAggregator=function(e,t){var n=function(){};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events),n}(e,n),r}(Backbone,Backbone.Marionette,_);var Marionette=function(e,t,n){function s(e){return i.call(e)}function o(e,t){var n=new Error(e);throw n.name=t||"Error",n}var r={};t.Marionette=r,r.$=t.$;var i=Array.prototype.slice;return r.extend=t.Model.extend,r.getOption=function(e,t){if(!e||!t)return;var n;return e.options&&t in e.options&&e.options[t]!==undefined?n=e.options[t]:n=e[t],n},r.triggerMethod=function(){function t(e,t,n){return n.toUpperCase()}var e=/(^|:)(\w)/gi,r=function(r){var i="on"+r.replace(e,t),s=this[i];n.isFunction(this.trigger)&&this.trigger.apply(this,arguments);if(n.isFunction(s))return s.apply(this,n.tail(arguments))};return r}(),r.MonitorDOMRefresh=function(){function e(e){e._isShown=!0,r(e)}function t(e){e._isRendered=!0,r(e)}function r(e){e._isShown&&e._isRendered&&n.isFunction(e.triggerMethod)&&e.triggerMethod("dom:refresh")}return function(n){n.listenTo(n,"show",function(){e(n)}),n.listenTo(n,"render",function(){t(n)})}}(),function(e){function t(e,t,r,i){var s=i.split(/\s+/);n.each(s,function(n){var i=e[n];i||o("Method '"+n+"' was configured as an event handler, but does not exist."),e.listenTo(t,r,i,e)})}function r(e,t,n,r){e.listenTo(t,n,r,e)}function i(e,t,r,i){var s=i.split(/\s+/);n.each(s,function(n){var i=e[n];e.stopListening(t,r,i,e)})}function s(e,t,n,r){e.stopListening(t,n,r,e)}function u(e,t,r,i,s){if(!t||!r)return;n.isFunction(r)&&(r=r.call(e)),n.each(r,function(r,o){n.isFunction(r)?i(e,t,o,r):s(e,t,o,r)})}e.bindEntityEvents=function(e,n,i){u(e,n,i,r,t)},e.unbindEntityEvents=function(e,t,n){u(e,t,n,s,i)}}(r),r.Callbacks=function(){this._deferred=r.$.Deferred(),this._callbacks=[]},n.extend(r.Callbacks.prototype,{add:function(e,t){this._callbacks.push({cb:e,ctx:t}),this._deferred.done(function(n,r){t&&(n=t),e.call(n,r)})},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var e=this._callbacks;this._deferred=r.$.Deferred(),this._callbacks=[],n.each(e,function(e){this.add(e.cb,e.ctx)},this)}}),r.Controller=function(e){this.triggerMethod=r.triggerMethod,this.options=e||{},n.isFunction(this.initialize)&&this.initialize(this.options)},r.Controller.extend=r.extend,n.extend(r.Controller.prototype,t.Events,{close:function(){this.stopListening(),this.triggerMethod("close"),this.unbind()}}),r.Region=function(e){this.options=e||{},this.el=r.getOption(this,"el");if(!this.el){var t=new Error("An 'el' must be specified for a region.");throw t.name="NoElError",t}if(this.initialize){var n=Array.prototype.slice.apply(arguments);this.initialize.apply(this,n)}},n.extend(r.Region,{buildRegion:function(e,t){var r=typeof e=="string",i=typeof e.selector=="string",s=typeof e.regionType=="undefined",o=typeof e=="function";if(!o&&!r&&!i)throw new Error("Region must be specified as a Region type, a selector string or an object with selector property");var u,a;r&&(u=e),e.selector&&(u=e.selector),o&&(a=e),!o&&s&&(a=t),e.regionType&&(a=e.regionType);var f=new a({el:u});return e.parentEl&&(f.getEl=function(t){var r=e.parentEl;return n.isFunction(r)&&(r=r()),r.find(t)}),f}}),n.extend(r.Region.prototype,t.Events,{show:function(e){this.ensureEl();var t=e.isClosed||n.isUndefined(e.$el),i=e!==this.currentView;i&&this.close(),e.render(),(i||t)&&this.open(e),this.currentView=e,r.triggerMethod.call(this,"show",e),r.triggerMethod.call(e,"show")},ensureEl:function(){if(!this.$el||this.$el.length===0)this.$el=this.getEl(this.el)},getEl:function(e){return r.$(e)},open:function(e){this.$el.empty().append(e.el)},close:function(){var e=this.currentView;if(!e||e.isClosed)return;e.close?e.close():e.remove&&e.remove(),r.triggerMethod.call(this,"close"),delete this.currentView},attachView:function(e){this.currentView=e},reset:function(){this.close(),delete this.$el}}),r.Region.extend=r.extend,r.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.prototype.constructor.call(this,t)},addRegions:function(e,t){var r={};return n.each(e,function(e,i){typeof e=="string"&&(e={selector:e}),e.selector&&(e=n.defaults({},e,t));var s=this.addRegion(i,e);r[i]=s},this),r},addRegion:function(t,r){var i,s=n.isObject(r),o=n.isString(r),u=!!r.selector;return o||s&&u?i=e.Region.buildRegion(r,e.Region):n.isFunction(r)?i=e.Region.buildRegion(r,e.Region):i=r,this._store(t,i),this.triggerMethod("region:add",t,i),i},get:function(e){return this._regions[e]},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){n.each(this._regions,function(e,t){this._remove(t,e)},this)},closeRegions:function(){n.each(this._regions,function(e,t){e.close()},this)},close:function(){this.removeRegions();var t=Array.prototype.slice.call(arguments);e.Controller.prototype.close.apply(this,t)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){t.close(),delete this._regions[e],this._setLength(),this.triggerMethod("region:remove",e,t)},_setLength:function(){this.length=n.size(this._regions)}}),r=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return n.each(r,function(e){t.prototype[e]=function(){var t=n.values(this._regions),r=[t].concat(n.toArray(arguments));return n[e].apply(n,r)}}),t}(r),r.TemplateCache=function(e){this.templateId=e},n.extend(r.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new r.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=s(arguments),n=t.length;if(n>0)for(e=0;e<n;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),n.extend(r.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var t=r.$(e).html();return(!t||t.length===0)&&o("Could not find template: '"+e+"'","NoTemplateError"),t},compileTemplate:function(e){return n.template(e)}}),r.Renderer={render:function(e,t){if(!e){var n=new Error("Cannot render the template since it's false, null or undefined.");throw n.name="TemplateNotFoundError",n}var i;return typeof e=="function"?i=e:i=r.TemplateCache.get(e),i(t)}},r.View=t.View.extend({constructor:function(){n.bindAll(this,"render");var e=Array.prototype.slice.apply(arguments);t.View.prototype.constructor.apply(this,e),r.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled,this)},triggerMethod:r.triggerMethod,getTemplate:function(){return r.getOption(this,"template")},mixinTemplateHelpers:function(e){e=e||{};var t=r.getOption(this,"templateHelpers");return n.isFunction(t)&&(t=t.call(this)),n.extend(e,t)},configureTriggers:function(){if(!this.triggers)return;var e={},t=n.result(this,"triggers");return n.each(t,function(t,n){e[n]=function(e){e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation();var n={view:this,model:this.model,collection:this.collection};this.triggerMethod(t,n)}},this),e},delegateEvents:function(e){this._delegateDOMEvents(e),r.bindEntityEvents(this,this.model,r.getOption(this,"modelEvents")),r.bindEntityEvents(this,this.collection,r.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(e){e=e||this.events,n.isFunction(e)&&(e=e.call(this));var r={},i=this.configureTriggers();n.extend(r,e,i),t.View.prototype.delegateEvents.call(this,r)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e),r.unbindEntityEvents(this,this.model,r.getOption(this,"modelEvents")),r.unbindEntityEvents(this,this.collection,r.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){if(this.isClosed)return;var e=this.triggerMethod("before:close");if(e===!1)return;this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove()},bindUIElements:function(){if(!this.ui)return;this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this.ui={},n.each(n.keys(e),function(t){var n=e[t];this.ui[t]=this.$(n)},this)},unbindUIElements:function(){if(!this.ui||!this._uiBindings)return;n.each(this.ui,function(e,t){delete this.ui[t]},this),this.ui=this._uiBindings,delete this._uiBindings}}),r.ItemView=r.View.extend({constructor:function(){r.View.prototype.constructor.apply(this,s(arguments))},serializeData:function(){var e={};return this.model?e=this.model.toJSON():this.collection&&(e={items:this.collection.toJSON()}),e},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate(),n=r.Renderer.render(t,e);return this.$el.html(n),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){if(this.isClosed)return;this.triggerMethod("item:before:close"),r.View.prototype.close.apply(this,s(arguments)),this.triggerMethod("item:closed")}}),r.CollectionView=r.View.extend({itemViewEventPrefix:"itemview",constructor:function(e){this._initChildViewStorage(),r.View.prototype.constructor.apply(this,s(arguments)),this._initialEvents()},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this.render,this))},addChildView:function(e,t,n){this.closeEmptyView();var r=this.getItemView(e),i=this.collection.indexOf(e);this.addItemView(e,r,i)},onShowCalled:function(){this.children.each(function(e){r.triggerMethod.call(e,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.closeEmptyView(),this.closeChildren(),this.collection&&this.collection.length>0?this.showCollection():this.showEmptyView()},showCollection:function(){var e;this.collection.each(function(t,n){e=this.getItemView(t),this.addItemView(t,e,n)},this)},showEmptyView:function(){var e=r.getOption(this,"emptyView");if(e&&!this._showingEmptyView){this._showingEmptyView=!0;var n=new t.Model;this.addItemView(n,e,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getItemView:function(e){var t=r.getOption(this,"itemView");return t||o("An `itemView` must be specified","NoItemViewError"),t},addItemView:function(e,t,i){var s=r.getOption(this,"itemViewOptions");n.isFunction(s)&&(s=s.call(this,e,i));var o=this.buildItemView(e,t,s);this.addChildViewEventForwarding(o),this.triggerMethod("before:item:added",o),this.children.add(o),this.renderItemView(o,i),this._isShown&&r.triggerMethod.call(o,"show"),this.triggerMethod("after:item:added",o)},addChildViewEventForwarding:function(e){var t=r.getOption(this,"itemViewEventPrefix");this.listenTo(e,"all",function(){var n=s(arguments);n[0]=t+":"+n[0],n.splice(1,0,e),r.triggerMethod.apply(this,n)},this)},renderItemView:function(e,t){e.render(),this.appendHtml(this,e,t)},buildItemView:function(e,t,r){var i=n.extend({model:e},r);return new t(i)},removeItemView:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},removeChildView:function(e){e&&(this.stopListening(e),e.close?e.close():e.remove&&e.remove(),this.children.remove(e)),this.triggerMethod("item:removed",e)},checkEmpty:function(){(!this.collection||this.collection.length===0)&&this.showEmptyView()},appendHtml:function(e,t,n){e.$el.append(t.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},close:function(){if(this.isClosed)return;this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),r.View.prototype.close.apply(this,s(arguments))},closeChildren:function(){this.children.each(function(e){this.removeChildView(e)},this),this.checkEmpty()}}),r.CompositeView=r.CollectionView.extend({constructor:function(){r.CollectionView.prototype.constructor.apply(this,s(arguments))},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))},getItemView:function(e){var t=r.getOption(this,"itemView")||this.constructor;return t||o("An `itemView` must be specified","NoItemViewError"),t},serializeData:function(){var e={};return this.model&&(e=this.model.toJSON()),e},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var e=this.renderModel();return this.$el.html(e),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(r.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e);var t=this.getTemplate();return r.Renderer.render(t,e)},appendHtml:function(e,t,n){var r=this.getItemViewContainer(e);r.append(t.el)},getItemViewContainer:function(e){if("$itemViewContainer"in e)return e.$itemViewContainer;var t,i=r.getOption(e,"itemViewContainer");if(i){var s=n.isFunction(i)?i():i;t=e.$(s),t.length<=0&&o("The specified `itemViewContainer` was not found: "+e.itemViewContainer,"ItemViewContainerMissingError")}else t=e.$el;return e.$itemViewContainer=t,t},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),r.Layout=r.ItemView.extend({regionType:r.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),r.ItemView.prototype.constructor.call(this,e)},render:function(){this.isClosed&&this._initializeRegions(),this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions();var e=Array.prototype.slice.apply(arguments),t=r.ItemView.prototype.render.apply(this,e);return t},close:function(){if(this.isClosed)return;this.regionManager.close();var e=Array.prototype.slice.apply(arguments);r.ItemView.prototype.close.apply(this,e)},addRegion:function(e,t){var n={};return n[e]=t,this._buildRegions(n)[e]},addRegions:function(e){return this.regions=n.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return delete this.regions[e],this.regionManager.removeRegion(e)},_buildRegions:function(e){var t=this,n={regionType:r.getOption(this,"regionType"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,n)},_initializeRegions:function(e){var t;this._initRegionManager(),n.isFunction(this.regions)?t=this.regions(e):t=this.regions||{},this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each(function(e){e.reset()})},_initRegionManager:function(){this.regionManager=new r.RegionManager,this.listenTo(this.regionManager,"region:add",function(e,t){this[e]=t,this.trigger("region:add",e,t)}),this.listenTo(this.regionManager,"region:remove",function(e,t){delete this[e],this.trigger("region:remove",e,t)})}}),r.AppRouter=t.Router.extend({constructor:function(e){t.Router.prototype.constructor.apply(this,s(arguments)),this.options=e||{};var n=r.getOption(this,"appRoutes"),i=this._getController();this.processAppRoutes(i,n)},appRoute:function(e,t){var n=this._getController();this._addAppRoute(n,e,t)},processAppRoutes:function(e,t){if(!t)return;var r=n.keys(t).reverse();n.each(r,function(n){this._addAppRoute(e,n,t[n])},this)},_getController:function(){return r.getOption(this,"controller")},_addAppRoute:function(e,t,r){var i=e[r];if(!i)throw new Error("Method '"+r+"' was not found on the controller");this.route(t,r,n.bind(i,e))}}),r.Application=function(e){this._initRegionManager(),this._initCallbacks=new r.Callbacks,this.vent=new t.Wreqr.EventAggregator,this.commands=new t.Wreqr.Commands,this.reqres=new t.Wreqr.RequestResponse,this.submodules={},n.extend(this,e),this.triggerMethod=r.triggerMethod},n.extend(r.Application.prototype,t.Events,{execute:function(){var e=Array.prototype.slice.apply(arguments);this.commands.execute.apply(this.commands,e)},request:function(){var e=Array.prototype.slice.apply(arguments);return this.reqres.request.apply(this.reqres,e)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("initialize:before",e),this._initCallbacks.run(e,this),this.triggerMethod("initialize:after",e),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(e){this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},module:function(e,t){var n=s(arguments);return n.unshift(this),r.Module.create.apply(r.Module,n)},_initRegionManager:function(){this._regionManager=new r.RegionManager,this.listenTo(this._regionManager,"region:add",function(e,t){this[e]=t}),this.listenTo(this._regionManager,"region:remove",function(e,t){delete this[e]})}}),r.Application.extend=r.extend,r.Module=function(e,t){this.moduleName=e,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,this.startWithParent=!0,this.triggerMethod=r.triggerMethod},n.extend(r.Module.prototype,t.Events,{addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){if(this._isInitialized)return;n.each(this.submodules,function(t){t.startWithParent&&t.start(e)}),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e)},stop:function(){if(!this._isInitialized)return;this._isInitialized=!1,r.triggerMethod.call(this,"before:stop"),n.each(this.submodules,function(e){e.stop()}),this._finalizerCallbacks.run(undefined,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),r.triggerMethod.call(this,"stop")},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,i){if(!e)return;var s=n.flatten([this,this.app,t,r,r.$,n,i]);e.apply(this,s)},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new r.Callbacks,this._finalizerCallbacks=new r.Callbacks}}),n.extend(r.Module,{create:function(e,t,r){var i=e,o=s(arguments);o.splice(0,3),t=t.split(".");var u=t.length,a=[];return a[u-1]=r,n.each(t,function(t,n){var r=i;i=this._getModule(r,t,e),this._addModuleDefinition(r,i,a[n],o)},this),i},_getModule:function(e,t,n,i,s){var o=e[t];return o||(o=new r.Module(t,n),e[t]=o,e.submodules[t]=o),o},_addModuleDefinition:function(e,t,r,i){var s,o;n.isFunction(r)?(s=r,o=!0):n.isObject(r)?(s=r.define,o=r.startWithParent):o=!0,s&&t.addDefinition(s,i),t.startWithParent=t.startWithParent&&o,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer(function(e){t.startWithParent&&t.start(e)}))}}),r}(this,Backbone,_);define("marionette",["backbone"],function(e){return function(){var t,n;return t||e.Marionette}}(this)),define("Views/Messages",["backbone","underscore","marionette"],function(e,t,n){var r=e.Marionette.ItemView.extend({className:"ui attached message",initialize:function(e){this.type=e.type,this.message=e.message},render:function(){var e=this.type==="success"?"red":"green",t=this.type==="success"?"green":"red",n=this.message;return this.$el.html(n).removeClass(e).addClass(t),this}});return r}),function(){function xt(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e}function Tt(){var e,t=arguments.length,n={},r=function(e,t){var n,i;for(i in t)t.hasOwnProperty(i)&&(n=t[i],typeof e!="object"&&(e={}),n&&typeof n=="object"&&Object.prototype.toString.call(n)!=="[object Array]"&&typeof n.nodeType!="number"?e[i]=r(e[i]||{},n):e[i]=t[i]);return e};for(e=0;e<t;e++)n=r(n,arguments[e]);return n}function Nt(){var e=0,t=arguments,n=t.length,r={};for(;e<n;e++)r[t[e++]]=t[e];return r}function Ct(e,t){return parseInt(e,t||10)}function kt(e){return typeof e=="string"}function Lt(e){return typeof e=="object"}function At(e){return Object.prototype.toString.call(e)==="[object Array]"}function Ot(e){return typeof e=="number"}function Mt(e){return r.log(e)/r.LN10}function _t(e){return r.pow(10,e)}function Dt(e,t){var n=e.length;while(n--)if(e[n]===t){e.splice(n,1);break}}function Pt(t){return t!==e&&t!==null}function Ht(e,t,n){var r,i="setAttribute",s;if(kt(t))Pt(n)?e[i](t,n):e&&e.getAttribute&&(s=e.getAttribute(t));else if(Pt(t)&&Lt(t))for(r in t)e[i](r,t[r]);return s}function Bt(e){return At(e)?e:[e]}function jt(){var e=arguments,t,n,r=e.length;for(t=0;t<r;t++){n=e[t];if(typeof n!="undefined"&&n!==null)return n}}function Ft(t,n){m&&n&&n.opacity!==e&&(n.filter="alpha(opacity="+n.opacity*100+")"),xt(t.style,n)}function It(e,n,r,i,s){var o=t.createElement(e);return n&&xt(o,n),s&&Ft(o,{padding:0,border:V,margin:0}),r&&Ft(o,r),i&&i.appendChild(o),o}function qt(e,t){var n=function(){};return n.prototype=new e,xt(n.prototype,t),n}function Rt(e,t,n,r){var i=O.lang,s=e,o=t===-1?((s||0).toString().split(".")[1]||"").length:isNaN(t=f(t))?2:t,u=n===undefined?i.decimalPoint:n,a=r===undefined?i.thousandsSep:r,l=s<0?"-":"",c=String(Ct(s=f(+s||0).toFixed(o))),h=c.length>3?c.length%3:0;return l+(h?c.substr(0,h)+a:"")+c.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+a)+(o?u+f(s-c).toFixed(o).slice(2):"")}function Ut(e,t){return(new Array((t||2)+1-String(e).length)).join(0)+e}function zt(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(r),n.apply(this,e)}}function Wt(e,t){var n=/f$/,r=/\.([0-9])/,i=O.lang,s;return n.test(e)?(s=e.match(r),s=s?s[1]:-1,t=Rt(t,s,i.decimalPoint,e.indexOf(",")>-1?i.thousandsSep:"")):t=M(e,t),t}function Xt(e,t){var n="{",r=!1,i,s,o,u,a,f=[],l,c;while((c=e.indexOf(n))!==-1){i=e.slice(0,c);if(r){s=i.split(":"),o=s.shift().split("."),a=o.length,l=t;for(u=0;u<a;u++)l=l[o[u]];s.length&&(l=Wt(s.join(":"),l)),f.push(l)}else f.push(i);e=e.slice(c+1),r=!r,n=r?"}":"{"}return f.push(e),f.join("")}function Vt(e,t,n,r){var i,s;n=jt(n,1),i=e/n,t||(t=[1,2,2.5,5,10],r&&r.allowDecimals===!1&&(n===1?t=[1,2,5,10]:n<=.1&&(t=[1/n])));for(s=0;s<t.length;s++){e=t[s];if(i<=(t[s]+(t[s+1]||t[s]))/2)break}return e*=n,e}function $t(e,t){var n=t||[[Z,[1,2,5,10,20,25,50,100,200,500]],[et,[1,2,5,10,15,30]],[tt,[1,2,5,10,15,30]],[nt,[1,2,3,4,6,8,12]],[rt,[1,2]],[it,[1,2]],[st,[1,2,3,4,6]],[ot,null]],r=n[n.length-1],i=P[r[0]],s=r[1],o,u;for(u=0;u<n.length;u++){r=n[u],i=P[r[0]],s=r[1];if(n[u+1]){var a=(i*s[s.length-1]+P[n[u+1][0]])/2;if(e<=a)break}}return i===P[ot]&&e<5*i&&(s=[1,2,5]),i===P[ot]&&e<5*i&&(s=[1,2,5]),o=Vt(e/i,s),{unitRange:i,count:o,unitName:r[0]}}function Jt(e,t,n,r){var i=[],o,u={},a=O.global.useUTC,f,l=new Date(t),c=e.unitRange,h=e.count;if(Pt(t)){c>=P[et]&&(l.setMilliseconds(0),l.setSeconds(c>=P[tt]?0:h*s(l.getSeconds()/h))),c>=P[tt]&&l[gt](c>=P[nt]?0:h*s(l[ct]()/h)),c>=P[nt]&&l[yt](c>=P[rt]?0:h*s(l[ht]()/h)),c>=P[rt]&&l[bt](c>=P[st]?1:h*s(l[dt]()/h)),c>=P[st]&&(l[wt](c>=P[ot]?0:h*s(l[vt]()/h)),f=l[mt]()),c>=P[ot]&&(f-=f%h,l[Et](f)),c===P[it]&&l[bt](l[dt]()-l[pt]()+jt(r,1)),o=1,f=l[mt]();var p=l.getTime(),d=l[vt](),v=l[dt](),m=a?0:(864e5+l.getTimezoneOffset()*60*1e3)%864e5;while(p<n)i.push(p),c===P[ot]?p=lt(f+o*h,0):c===P[st]?p=lt(f,d+o*h):!!a||c!==P[rt]&&c!==P[it]?p+=c*h:p=lt(f,d,v+o*h*(c===P[rt]?1:7)),o++;i.push(p),ln(cn(i,function(e){return c<=P[nt]&&e%P[rt]===m}),function(e){u[e]=rt})}return i.info=xt(e,{higherRanks:u,totalRange:c*h}),i}function Kt(){this.color=0,this.symbol=0}function Qt(e,t){var n=e.length,r,i;for(i=0;i<n;i++)e[i].ss_i=i;e.sort(function(e,n){return r=t(e,n),r===0?e.ss_i-n.ss_i:r});for(i=0;i<n;i++)delete e[i].ss_i}function Gt(e){var t=e.length,n=e[0];while(t--)e[t]<n&&(n=e[t]);return n}function Yt(e){var t=e.length,n=e[0];while(t--)e[t]>n&&(n=e[t]);return n}function Zt(e,t){var n;for(n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function en(e){A||(A=It(I)),e&&A.appendChild(e),A.innerHTML=""}function tn(e,t){var r="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw r;n.console&&console.log(r)}function nn(e){return parseFloat(e.toPrecision(14))}function rn(e,t){_=jt(e,t.animation)}function xn(){var e=O.global.useUTC,t=e?"getUTC":"get",n=e?"setUTC":"set";lt=e?Date.UTC:function(e,t,n,r,i,s){return(new Date(e,t,jt(n,1),jt(r,0),jt(i,0),jt(s,0))).getTime()},ct=t+"Minutes",ht=t+"Hours",pt=t+"Day",dt=t+"Date",vt=t+"Month",mt=t+"FullYear",gt=n+"Minutes",yt=n+"Hours",bt=n+"Date",wt=n+"Month",Et=n+"FullYear"}function Tn(e){return O=Tt(O,e),xn(),O}function Nn(){return O}function kn(){}function Pn(e,t,n,r){this.axis=e,this.pos=t,this.type=n||"",this.isNew=!0,!n&&!r&&this.addLabel()}function Hn(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)}function Bn(e,t,n,r,i,s){var o=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=r,this.stack=i,this.percent=s==="percent",this.alignOptions={align:t.align||(o?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(o?"middle":n?"bottom":"top"),y:jt(t.y,o?4:n?14:-6),x:jt(t.x,o?n?-6:6:0)},this.textAlign=t.textAlign||(o?n?"right":"left":"center")}function jn(){this.init.apply(this,arguments)}function Fn(){this.init.apply(this,arguments)}function In(e,t){this.init(e,t)}function qn(e,t){this.init(e,t)}function Rn(){this.init.apply(this,arguments)}function mr(e){var t=e.options,n=t.navigator,r=n.enabled,i=t.scrollbar,s=i.enabled,o=r?n.height:0,u=s?i.height:0,a=n.baseSeries;this.baseSeries=e.series[a]||typeof a=="string"&&e.get(a)||e.series[0],this.handles=[],this.scrollbarButtons=[],this.elementsToDestroy=[],this.chart=e,this.height=o,this.scrollbarHeight=u,this.scrollbarEnabled=s,this.navigatorEnabled=r,this.navigatorOptions=n,this.scrollbarOptions=i,this.outlineHeight=o+u,this.init()}function gr(e){this.init(e)}var e,t=document,n=window,r=Math,i=r.round,s=r.floor,o=r.ceil,u=r.max,a=r.min,f=r.abs,l=r.cos,c=r.sin,h=r.PI,p=h*2/360,d=navigator.userAgent,v=n.opera,m=/msie/i.test(d)&&!v,g=t.documentMode===8,y=/AppleWebKit/.test(d),b=/Firefox/.test(d),w=/(Mobile|Android|Windows Phone)/.test(d),E="http://www.w3.org/2000/svg",S=!!t.createElementNS&&!!t.createElementNS(E,"svg").createSVGRect,x=b&&parseInt(d.split("Firefox/")[1],10)<4,T=!S&&!m&&!!t.createElement("canvas").getContext,N,C=t.documentElement.ontouchstart!==e,k={},L=0,A,O,M,_,D,P,H=function(){},B=[],j="Highstock",F="1.3.1",I="div",q="absolute",R="relative",U="hidden",z="highcharts-",W="visible",X="px",V="none",$="M",J="L",K="rgba(192,192,192,"+(S?1e-4:.002)+")",Q="",G="hover",Y="select",Z="millisecond",et="second",tt="minute",nt="hour",rt="day",it="week",st="month",ot="year",ut="linearGradient",at="stops",ft="stroke-width",lt,ct,ht,pt,dt,vt,mt,gt,yt,bt,wt,Et,St={};n.Highcharts=n.Highcharts?tn(16,!0):{},M=function(e,t,n){if(!Pt(t)||isNaN(t))return"Invalid date";e=jt(e,"%Y-%m-%d %H:%M:%S");var r=new Date(t),s,o=r[ht](),u=r[pt](),a=r[dt](),f=r[vt](),l=r[mt](),c=O.lang,h=c.weekdays,p=xt({a:h[u].substr(0,3),A:h[u],d:Ut(a),e:a,b:c.shortMonths[f],B:c.months[f],m:Ut(f+1),y:l.toString().substr(2,2),Y:l,H:Ut(o),I:Ut(o%12||12),l:o%12||12,M:Ut(r[ct]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:Ut(r.getSeconds()),L:Ut(i(t%1e3),3)},Highcharts.dateFormats);for(s in p)while(e.indexOf("%"+s)!==-1)e=e.replace("%"+s,typeof p[s]=="function"?p[s](t):p[s]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},Kt.prototype={wrapColor:function(e){this.color>=e&&(this.color=0)},wrapSymbol:function(e){this.symbol>=e&&(this.symbol=0)}},P=Nt(Z,1,et,1e3,tt,6e4,nt,36e5,rt,864e5,it,6048e5,st,26784e5,ot,31556952e3),D={init:function(e,t,n){t=t||"";var r=e.shift,i=t.indexOf("C")>-1,s=i?7:3,o,u,a,f=t.split(" "),l=[].concat(n),c,h,p=function(e){a=e.length;while(a--)e[a]===$&&e.splice(a+1,0,e[a+1],e[a+2],e[a+1],e[a+2])};i&&(p(f),p(l)),e.isArea&&(c=f.splice(f.length-6,6),h=l.splice(l.length-6,6));if(r<=l.length/s)while(r--)l=[].concat(l).splice(0,s).concat(l);e.shift=0;if(f.length){o=l.length;while(f.length<o)u=[].concat(f).splice(f.length-s,s),i&&(u[s-6]=u[s-2],u[s-5]=u[s-1]),f=f.concat(u)}return c&&(f=f.concat(c),l=l.concat(h)),[f,l]},step:function(e,t,n,r){var i=[],s=e.length,o;if(n===1)i=r;else if(s===t.length&&n<1)while(s--)o=parseFloat(e[s]),i[s]=isNaN(o)?e[s]:n*parseFloat(t[s]-o)+o;else i=t;return i}},function(r){n.HighchartsAdapter=n.HighchartsAdapter||r&&{init:function(t){var n=r.fx,i=n.step,s,o=r.Tween,u=o&&o.propHooks;r.extend(r.easing,{easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n}}),r.each(["cur","_default","width","height","opacity"],function(t,r){var s=i,a,f;r==="cur"?s=n.prototype:r==="_default"&&o&&(s=u[r],r="set"),a=s[r],a&&(s[r]=function(n){return n=t?n:this,f=n.elem,f.attr?f.attr(n.prop,r==="cur"?e:n.now):a.apply(this,arguments)})}),s=function(e){var n=e.elem,r;e.started||(r=t.init(n,n.d,n.toD),e.start=r[0],e.end=r[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))},o?u.d={set:s}:i.d=s,this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){var n=0,r=e.length;for(;n<r;n++)if(t.call(e[n],e[n],n,e)===!1)return n},r.fn.highcharts=function(){var t="Chart",n=arguments,r,i,s;return kt(n[0])&&(t=n[0],n=Array.prototype.slice.call(n,1)),r=n[0],r!==e&&(r.chart=r.chart||{},r.chart.renderTo=this[0],s=new Highcharts[t](r,n[1]),i=this),r===e&&(i=B[Ht(this[0],"data-highcharts-chart")]),i}},getScript:r.getScript,inArray:r.inArray,adapterRun:function(e,t){return r(e)[t]()},grep:r.grep,map:function(e,t){var n=[],r=0,i=e.length;for(;r<i;r++)n[r]=t.call(e[r],e[r],r,e);return n},offset:function(e){return r(e).offset()},addEvent:function(e,t,n){r(e).bind(t,n)},removeEvent:function(e,n,i){var s=t.removeEventListener?"removeEventListener":"detachEvent";t[s]&&e&&!e[s]&&(e[s]=function(){}),r(e).unbind(n,i)},fireEvent:function(e,t,n,i){var s=r.Event(t),o="detached"+t,u;!m&&n&&(delete n.layerX,delete n.layerY),xt(s,n),e[t]&&(e[o]=e[t],e[t]=null),r.each(["preventDefault","stopPropagation"],function(e,t){var n=s[t];s[t]=function(){try{n.call(s)}catch(e){t==="preventDefault"&&(u=!0)}}}),r(e).trigger(s),e[o]&&(e[t]=e[o],e[o]=null),i&&!s.isDefaultPrevented()&&!u&&i(s)},washMouseEvent:function(t){var n=t.originalEvent||t;return n.pageX===e&&(n.pageX=t.pageX,n.pageY=t.pageY),n},animate:function(t,n,i){var s=r(t);n.d&&(t.toD=n.d,n.d=1),s.stop(),n.opacity!==e&&t.attr&&(n.opacity+="px"),s.animate(n,i)},stop:function(e){r(e).stop()}}}(n.jQuery);var sn=n.HighchartsAdapter,on=sn||{};sn&&sn.init.call(sn,D);var un=on.adapterRun,an=on.getScript,fn=on.inArray,ln=on.each,cn=on.grep,hn=on.offset,pn=on.map,dn=on.addEvent,vn=on.removeEvent,mn=on.fireEvent,gn=on.washMouseEvent,yn=on.animate,bn=on.stop,wn={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"}};O={colors:["#2f7ed8","#0d233a","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/stock/1.3.1/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/1.3.1/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:Tt(wn,{enabled:!1,formatter:function(){return this.y},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:q,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:q,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:R,top:"1em"},style:{position:q,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:S,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:w?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var En=O.plotOptions,Sn=En.line;xn();var Cn=function(e){function i(e){e&&e.stops?r=pn(e.stops,function(e){return Cn(e[1])}):(n=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(e),n?t=[Ct(n[1]),Ct(n[2]),Ct(n[3]),parseFloat(n[4],10)]:(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e),n?t=[Ct(n[1],16),Ct(n[2],16),Ct(n[3],16),1]:(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e),n&&(t=[Ct(n[1]),Ct(n[2]),Ct(n[3]),1]))))}function s(n){var i;return r?(i=Tt(e),i.stops=[].concat(i.stops),ln(r,function(e,t){i.stops[t]=[i.stops[t][0],e.get(n)]})):t&&!isNaN(t[0])?n==="rgb"?i="rgb("+t[0]+","+t[1]+","+t[2]+")":n==="a"?i=t[3]:i="rgba("+t.join(",")+")":i=e,i}function o(e){if(r)ln(r,function(t){t.brighten(e)});else if(Ot(e)&&e!==0){var n;for(n=0;n<3;n++)t[n]+=Ct(e*255),t[n]<0&&(t[n]=0),t[n]>255&&(t[n]=255)}return this}function u(e){return t[3]=e,this}var t=[],n,r;return i(e),{get:s,brighten:o,rgba:t,setOpacity:u}};kn.prototype={init:function(e,n){var r=this;r.element=n==="span"?It(n):t.createElementNS(E,n),r.renderer=e,r.attrSetters={}},opacity:1,animate:function(e,t,n){var r=jt(t,_,!0);bn(this),r?(r=Tt(r),n&&(r.complete=n),yn(this,e,r)):(this.attr(e),n&&n())},attr:function(n,r){var i=this,s,o,a,f,l,c=i.element,h=c.nodeName.toLowerCase(),p=i.renderer,d,v,m=i.attrSetters,g=i.shadows,y,b,w=i;kt(n)&&Pt(r)&&(s=n,n={},n[s]=r);if(kt(n))s=n,h==="circle"?s={x:"cx",y:"cy"}[s]||s:s==="strokeWidth"&&(s="stroke-width"),w=Ht(c,s)||i[s]||0,s!=="d"&&s!=="visibility"&&(w=parseFloat(w));else{for(s in n){d=!1,o=n[s],a=m[s]&&m[s].call(i,o,s);if(a!==!1){a!==e&&(o=a);if(s==="d")o&&o.join&&(o=o.join(" ")),/(NaN| {2}|^$)/.test(o)&&(o="M 0 0");else if(s==="x"&&h==="text")for(f=0;f<c.childNodes.length;f++)l=c.childNodes[f],Ht(l,"x")===Ht(c,"x")&&Ht(l,"x",o);else if(!i.rotation||s!=="x"&&s!=="y")if(s==="fill")o=p.color(o,c,s);else if(h!=="circle"||s!=="x"&&s!=="y")if(h==="rect"&&s==="r")Ht(c,{rx:o,ry:o}),d=!0;else if(s==="translateX"||s==="translateY"||s==="rotation"||s==="verticalAlign"||s==="scaleX"||s==="scaleY")b=!0,d=!0;else if(s==="stroke")o=p.color(o,c,s);else if(s==="dashstyle"){s="stroke-dasharray",o=o&&o.toLowerCase();if(o==="solid")o=V;else if(o){o=o.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),f=o.length;while(f--)o[f]=Ct(o[f])*n["stroke-width"];o=o.join(",")}}else s==="width"?o=Ct(o):s==="align"?(s="text-anchor",o={left:"start",center:"middle",right:"end"}[o]):s==="title"&&(v=c.getElementsByTagName("title")[0],v||(v=t.createElementNS(E,"title"),c.appendChild(v)),v.textContent=o);else s={x:"cx",y:"cy"}[s]||s;else b=!0;s==="strokeWidth"&&(s="stroke-width");if(s==="stroke-width"||s==="stroke")i[s]=o,i.stroke&&i["stroke-width"]?(Ht(c,"stroke",i.stroke),Ht(c,"stroke-width",i["stroke-width"]),i.hasStroke=!0):s==="stroke-width"&&o===0&&i.hasStroke&&(c.removeAttribute("stroke"),i.hasStroke=!1),d=!0;i.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(s)&&(y||(i.symbolAttr(n),y=!0),d=!0);if(g&&/^(width|height|visibility|x|y|d|transform)$/.test(s)){f=g.length;while(f--)Ht(g[f],s,s==="height"?u(o-(g[f].cutHeight||0),0):o)}(s==="width"||s==="height")&&h==="rect"&&o<0&&(o=0),i[s]=o,s==="text"?(o!==i.textStr&&delete i.bBox,i.textStr=o,i.added&&p.buildText(i)):d||Ht(c,s,o)}}b&&i.updateTransform()}return w},addClass:function(e){return Ht(this.element,"class",Ht(this.element,"class")+" "+e),this},symbolAttr:function(e){var t=this;ln(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(n){t[n]=jt(e[n],t[n])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":V)},crisp:function(e,t,n,r,o){var u=this,a,f={},l={},c;e=e||u.strokeWidth||u.attr&&u.attr("stroke-width")||0,c=i(e)%2/2,l.x=s(t||u.x||0)+c,l.y=s(n||u.y||0)+c,l.width=s((r||u.width||0)-2*c),l.height=s((o||u.height||0)-2*c),l.strokeWidth=e;for(a in l)u[a]!==l[a]&&(u[a]=f[a]=l[a]);return f},css:function(e){var t=this,n=t.element,r=e&&e.width&&n.nodeName.toLowerCase()==="text",i,s="",o=function(e,t){return"-"+t.toLowerCase()};e&&e.color&&(e.fill=e.color),e=xt(t.styles,e),t.styles=e,T&&r&&delete e.width;if(m&&!S)r&&delete e.width,Ft(t.element,e);else{for(i in e)s+=i.replace(/([A-Z])/g,o)+":"+e[i]+";";t.attr({style:s})}return r&&t.added&&t.renderer.buildText(t),t},on:function(e,t){return C&&e==="click"&&(this.element.ontouchstart=function(e){e.preventDefault(),t()}),this.element["on"+e]=t,this},setRadialReference:function(e){return this.element.radialReference=e,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){var e=this;return e.inverted=!0,e.updateTransform(),e},htmlCss:function(e){var t=this,n=t.element,r=e&&n.tagName==="SPAN"&&e.width;return r&&(delete e.width,t.textWidth=r,t.updateTransform()),t.styles=xt(t.styles,e),Ft(t.element,e),t},htmlGetBBox:function(){var e=this,t=e.element,n=e.bBox;return n||(t.nodeName==="text"&&(t.style.position=q),n=e.bBox={x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}),n},htmlUpdateTransform:function(){if(!this.added){this.alignOnAdd=!0;return}var e=this,t=e.renderer,n=e.element,r=e.translateX||0,i=e.translateY||0,s=e.x||0,o=e.y||0,u=e.textAlign||"left",a={left:0,center:.5,right:1}[u],f=u&&u!=="left",h=e.shadows;if(r||i)Ft(n,{marginLeft:r,marginTop:i}),h&&ln(h,function(e){Ft(e,{marginLeft:r+1,marginTop:i+1})});e.inverted&&ln(n.childNodes,function(e){t.invertChild(e,n)});if(n.tagName==="SPAN"){var d,g,w=e.rotation,E,S=0,x=1,T=0,N,C=Ct(e.textWidth),k=e.xCorr||0,L=e.yCorr||0,A=[w,u,n.innerHTML,e.textWidth].join(","),O={},M;A!==e.cTT&&(Pt(w)&&(t.isSVG?(M=m?"-ms-transform":y?"-webkit-transform":b?"MozTransform":v?"-o-transform":"",O[M]=O.transform="rotate("+w+"deg)"):(S=w*p,x=l(S),T=c(S),O.filter=w?["progid:DXImageTransform.Microsoft.Matrix(M11=",x,", M12=",-T,", M21=",T,", M22=",x,", sizingMethod='auto expand')"].join(""):V),Ft(n,O)),d=jt(e.elemWidth,n.offsetWidth),g=jt(e.elemHeight,n.offsetHeight),d>C&&/[ \-]/.test(n.textContent||n.innerText)&&(Ft(n,{width:C+X,display:"block",whiteSpace:"normal"}),d=C),E=t.fontMetrics(n.style.fontSize).b,k=x<0&&-d,L=T<0&&-g,N=x*T<0,k+=T*E*(N?1-a:a),L-=x*E*(w?N?a:1-a:1),f&&(k-=d*a*(x<0?-1:1),w&&(L-=g*a*(T<0?-1:1)),Ft(n,{textAlign:u})),e.xCorr=k,e.yCorr=L),Ft(n,{left:s+k+X,top:o+L+X}),y&&(g=n.offsetHeight),e.cTT=A}},updateTransform:function(){var e=this,t=e.translateX||0,n=e.translateY||0,r=e.scaleX,i=e.scaleY,s=e.inverted,o=e.rotation,u=[];s&&(t+=e.attr("width"),n+=e.attr("height")),(t||n)&&u.push("translate("+t+","+n+")"),s?u.push("rotate(90) scale(-1,1)"):o&&u.push("rotate("+o+" "+(e.x||0)+" "+(e.y||0)+")"),(Pt(r)||Pt(i))&&u.push("scale("+jt(r,1)+" "+jt(i,1)+")"),u.length&&Ht(e.element,"transform",u.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,n){var r,s,o,u,a={},f,l=this.renderer,c=l.alignedObjects;if(e){this.alignOptions=e,this.alignByTranslate=t;if(!n||kt(n))this.alignTo=f=n||"renderer",Dt(c,this),c.push(this),n=null}else e=this.alignOptions,t=this.alignByTranslate,f=this.alignTo;n=jt(n,l[f],l),r=e.align,s=e.verticalAlign,o=(n.x||0)+(e.x||0),u=(n.y||0)+(e.y||0);if(r==="right"||r==="center")o+=(n.width-(e.width||0))/{right:1,center:2}[r];a[t?"translateX":"x"]=i(o);if(s==="bottom"||s==="middle")u+=(n.height-(e.height||0))/({bottom:1,middle:2}[s]||1);return a[t?"translateY":"y"]=i(u),this[this.placed?"animate":"attr"](a),this.placed=!0,this.alignAttr=a,this},getBBox:function(){var e=this,t=e.bBox,n=e.renderer,r,i,s=e.rotation,o=e.element,u=e.styles,a=s*p;if(!t){if(o.namespaceURI===E||n.forExport){try{t=o.getBBox?xt({},o.getBBox()):{width:o.offsetWidth,height:o.offsetHeight}}catch(h){}if(!t||t.width<0)t={width:0,height:0}}else t=e.htmlGetBBox();n.isSVG&&(r=t.width,i=t.height,m&&u&&u.fontSize==="11px"&&i.toPrecision(3)==="22.7"&&(t.height=i=14),s&&(t.width=f(i*c(a))+f(r*l(a)),t.height=f(i*l(a))+f(r*c(a)))),e.bBox=t}return t},show:function(){return this.attr({visibility:W})},hide:function(){return this.attr({visibility:U})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.hide()}})},add:function(e){var t=this.renderer,n=e||t,r=n.element||t.box,i=r.childNodes,s=this.element,o=Ht(s,"zIndex"),u,a,f,l;e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,this.textStr!==undefined&&t.buildText(this),o&&(n.handleZ=!0,o=Ct(o));if(n.handleZ)for(f=0;f<i.length;f++){u=i[f],a=Ht(u,"zIndex");if(u!==s&&(Ct(a)>o||!Pt(o)&&Pt(a))){r.insertBefore(s,u),l=!0;break}}return l||r.appendChild(s),this.added=!0,mn(this,"add"),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e=this,t=e.element||{},n=e.shadows,r,i;t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null,bn(e),e.clipPath&&(e.clipPath=e.clipPath.destroy());if(e.stops){for(i=0;i<e.stops.length;i++)e.stops[i]=e.stops[i].destroy();e.stops=null}e.safeRemoveChild(t),n&&ln(n,function(t){e.safeRemoveChild(t)}),e.alignTo&&Dt(e.renderer.alignedObjects,e);for(r in e)delete e[r];return null},shadow:function(e,t,n){var r=[],i,s,o=this.element,a,f,l,c;if(e){f=jt(e.width,3),l=(e.opacity||.15)/f,c=this.parentInverted?"(-1,-1)":"("+jt(e.offsetX,1)+", "+jt(e.offsetY,1)+")";for(i=1;i<=f;i++)s=o.cloneNode(0),a=f*2+1-2*i,Ht(s,{isShadow:"true",stroke:e.color||"black","stroke-opacity":l*i,"stroke-width":a,transform:"translate"+c,fill:V}),n&&(Ht(s,"height",u(Ht(s,"height")-a,0)),s.cutHeight=a),t?t.element.appendChild(s):o.parentNode.insertBefore(s,o),r.push(s);this.shadows=r}return this}};var Ln=function(){this.init.apply(this,arguments)};Ln.prototype={Element:kn,init:function(e,r,i,s){var u=this,a=location,f,l;f=u.createElement("svg").attr({xmlns:E,version:"1.1"}),e.appendChild(f.element),u.isSVG=!0,u.box=f.element,u.boxWrapper=f,u.alignedObjects=[],u.url=(b||y)&&t.getElementsByTagName("base").length?a.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",l=this.createElement("desc").add(),l.element.appendChild(t.createTextNode("Created with "+j+" "+F)),u.defs=this.createElement("defs").add(),u.forExport=s,u.gradients={},u.setSize(r,i,!1);var c,h;b&&e.getBoundingClientRect&&(u.subPixelFix=c=function(){Ft(e,{left:0,top:0}),h=e.getBoundingClientRect(),Ft(e,{left:o(h.left)-h.left+X,top:o(h.top)-h.top+X})},c(),dn(n,"resize",c))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this,t=e.defs;return e.box=null,e.boxWrapper=e.boxWrapper.destroy(),Zt(e.gradients||{}),e.gradients=null,t&&(e.defs=t.destroy()),e.subPixelFix&&vn(n,"resize",e.subPixelFix),e.alignedObjects=null,null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},buildText:function(e){var n=e.element,r=this,i=r.forExport,s=jt(e.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),o=n.childNodes,u=/style="([^"]+)"/,a=/href="([^"]+)"/,f=Ht(n,"x"),l=e.styles,c=l&&l.width&&Ct(l.width),h=l&&l.lineHeight,p=o.length;while(p--)n.removeChild(o[p]);c&&!e.added&&this.box.appendChild(n),s[s.length-1]===""&&s.pop(),ln(s,function(s,o){var p,d=0;s=s.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),p=s.split("|||"),ln(p,function(s){if(s!==""||p.length===1){var v={},m=t.createElementNS(E,"tspan"),g;u.test(s)&&(g=s.match(u)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),Ht(m,"style",g)),a.test(s)&&!i&&(Ht(m,"onclick",'location.href="'+s.match(a)[1]+'"'),Ft(m,{cursor:"pointer"})),s=(s.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"),m.appendChild(t.createTextNode(s)),d?v.dx=0:v.x=f,Ht(m,v),!d&&o&&(!S&&i&&Ft(m,{display:"block"}),Ht(m,"dy",h||r.fontMetrics(/px$/.test(m.style.fontSize)?m.style.fontSize:l.fontSize).h,y&&m.offsetHeight)),n.appendChild(m),d++;if(c){var b=s.replace(/([^\^])-/g,"$1- ").split(" "),w,x,T=[];while(b.length||T.length)delete e.bBox,x=e.getBBox().width,w=x>c,!w||b.length===1?(b=T,T=[],b.length&&(m=t.createElementNS(E,"tspan"),Ht(m,{dy:h||16,x:f}),g&&Ht(m,"style",g),n.appendChild(m),x>c&&(c=x))):(m.removeChild(m.firstChild),T.unshift(b.pop())),b.length&&m.appendChild(t.createTextNode(b.join(" ").replace(/- /g,"-")))}}})})},button:function(e,t,n,r,i,s,o){var u=this.label(e,t,n,null,null,null,null,null,"button"),a=0,f,l,c,h,p,d="style",v={x1:0,y1:0,x2:0,y2:1};return i=Tt({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:v,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},i),c=i[d],delete i[d],s=Tt(i,{stroke:"#68A",fill:{linearGradient:v,stops:[[0,"#FFF"],[1,"#ACF"]]}},s),h=s[d],delete s[d],o=Tt(i,{stroke:"#68A",fill:{linearGradient:v,stops:[[0,"#9BD"],[1,"#CDF"]]}},o),p=o[d],delete o[d],dn(u.element,"mouseenter",function(){u.attr(s).css(h)}),dn(u.element,"mouseleave",function(){f=[i,s,o][a],l=[c,h,p][a],u.attr(f).css(l)}),u.setState=function(e){a=e,e?e===2&&u.attr(o).css(p):u.attr(i).css(c)},u.on("click",function(){r.call(u)}).attr(i).css(xt({cursor:"default"},c))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=i(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=i(e[2])+t%2/2),e},path:function(e){var t={fill:V};return At(e)?t.d=e:Lt(e)&&xt(t,e),this.createElement("path").attr(t)},circle:function(e,t,n){var r=Lt(e)?e:{x:e,y:t,r:n};return this.createElement("circle").attr(r)},arc:function(e,t,n,r,i,s){return Lt(e)&&(t=e.y,n=e.r,r=e.innerR,i=e.start,s=e.end,e=e.x),this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:r||0,start:i||0,end:s||0})},rect:function(e,t,n,r,i,s){i=Lt(e)?e.r:i;var o=this.createElement("rect").attr({rx:i,ry:i,fill:V});return o.attr(Lt(e)?e:o.crisp(s,e,t,u(n,0),u(r,0)))},setSize:function(e,t,n){var r=this,i=r.alignedObjects,s=i.length;r.width=e,r.height=t,r.boxWrapper[jt(n,!0)?"animate":"attr"]({width:e,height:t});while(s--)i[s].align()},g:function(e){var t=this.createElement("g");return Pt(e)?t.attr({"class":z+e}):t},image:function(e,t,n,r,i){var s={preserveAspectRatio:V},o;return arguments.length>1&&xt(s,{x:t,y:n,width:r,height:i}),o=this.createElement("image").attr(s),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):o.element.setAttribute("hc-svg-href",e),o},symbol:function(e,t,n,r,s,o){var u,a=this.symbols[e],f=a&&a(i(t),i(n),r,s,o),l,c=/^url\((.*?)\)$/,h,p,d;return f?(u=this.path(f),xt(u,{symbolName:e,x:t,y:n,width:r,height:s}),o&&xt(u,o)):c.test(e)&&(d=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(i((r-t[0])/2),i((s-t[1])/2)))},h=e.match(c)[1],p=k[h],u=this.image(h).attr({x:t,y:n}),u.isImg=!0,p?d(u,p):(u.attr({width:0,height:0}),l=It("img",{onload:function(){d(u,k[h]=[this.width,this.height])},src:h}))),u},symbols:{circle:function(e,t,n,r){var i=.166*n;return[$,e+n/2,t,"C",e+n+i,t,e+n+i,t+r,e+n/2,t+r,"C",e-i,t+r,e-i,t,e+n/2,t,"Z"]},square:function(e,t,n,r){return[$,e,t,J,e+n,t,e+n,t+r,e,t+r,"Z"]},triangle:function(e,t,n,r){return[$,e+n/2,t,J,e+n,t+r,e,t+r,"Z"]},"triangle-down":function(e,t,n,r){return[$,e,t,J,e+n,t,e+n/2,t+r,"Z"]},diamond:function(e,t,n,r){return[$,e+n/2,t,J,e+n,t+r/2,e+n/2,t+r,e,t+r/2,"Z"]},arc:function(e,t,n,r,i){var s=i.start,o=i.r||n||r,u=i.end-.001,a=i.innerR,f=i.open,p=l(s),d=c(s),v=l(u),m=c(u),g=i.end-s<h?0:1;return[$,e+o*p,t+o*d,"A",o,o,0,g,1,e+o*v,t+o*m,f?$:J,e+a*v,t+a*m,"A",a,a,0,g,0,e+a*p,t+a*d,f?"":"Z"]}},clipRect:function(e,t,n,r){var i,s=z+L++,o=this.createElement("clipPath").attr({id:s}).add(this.defs);return i=this.rect(e,t,n,r,0).add(o),i.id=s,i.clipPath=o,i},color:function(e,t,n){var r=this,i,s=/^rgba/,o,u,a,f,l,c,h,p,d,v,m=[];e&&e.linearGradient?o="linearGradient":e&&e.radialGradient&&(o="radialGradient");if(o){u=e[o],a=r.gradients,l=e.stops,p=t.radialReference,At(u)&&(e[o]=u={x1:u[0],y1:u[1],x2:u[2],y2:u[3],gradientUnits:"userSpaceOnUse"}),o==="radialGradient"&&p&&!Pt(u.gradientUnits)&&(u=Tt(u,{cx:p[0]-p[2]/2+u.cx*p[2],cy:p[1]-p[2]/2+u.cy*p[2],r:u.r*p[2],gradientUnits:"userSpaceOnUse"}));for(d in u)d!=="id"&&m.push(d,u[d]);for(d in l)m.push(l[d]);return m=m.join(","),a[m]?v=a[m].id:(u.id=v=z+L++,a[m]=f=r.createElement(o).attr(u).add(r.defs),f.stops=[],ln(l,function(e){var t;s.test(e[1])?(i=Cn(e[1]),c=i.get("rgb"),h=i.get("a")):(c=e[1],h=1),t=r.createElement("stop").attr({offset:e[0],"stop-color":c,"stop-opacity":h}).add(f),f.stops.push(t)})),"url("+r.url+"#"+v+")"}return s.test(e)?(i=Cn(e),Ht(t,n+"-opacity",i.get("a")),i.get("rgb")):(t.removeAttribute(n+"-opacity"),e)},text:function(e,t,n,r){var s=this,o=O.chart.style,u=T||!S&&s.forExport,a;return r&&!s.forExport?s.html(e,t,n):(t=i(jt(t,0)),n=i(jt(n,0)),a=s.createElement("text").attr({x:t,y:n,text:e}).css({fontFamily:o.fontFamily,fontSize:o.fontSize}),u&&a.css({position:q}),a.x=t,a.y=n,a)},html:function(e,t,n){var r=O.chart.style,s=this.createElement("span"),o=s.attrSetters,u=s.element,a=s.renderer;return o.text=function(e){return e!==u.innerHTML&&delete this.bBox,u.innerHTML=e,!1},o.x=o.y=o.align=function(e,t){return t==="align"&&(t="textAlign"),s[t]=e,s.htmlUpdateTransform(),!1},s.attr({text:e,x:i(t),y:i(n)}).css({position:q,whiteSpace:"nowrap",fontFamily:r.fontFamily,fontSize:r.fontSize}),s.css=s.htmlCss,a.isSVG&&(s.add=function(e){var t,n=a.box.parentNode,r,i=[];if(e){t=e.div;if(!t){r=e;while(r)i.push(r),r=r.parentGroup;ln(i.reverse(),function(e){var r;t=e.div=e.div||It(I,{className:Ht(e.element,"class")},{position:q,left:(e.translateX||0)+X,top:(e.translateY||0)+X},t||n),r=t.style,xt(e.attrSetters,{translateX:function(e){r.left=e+X},translateY:function(e){r.top=e+X},visibility:function(e,t){r[t]=e}})})}}else t=n;return t.appendChild(u),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s},fontMetrics:function(e){e=Ct(e||11);var t=e<24?e+4:i(e*1.2),n=i(t*.8);return{h:t,b:n}},label:function(t,n,r,s,o,u,a,f,l){function L(){var e,t,n=p.element.style;v=(b===undefined||w===undefined||h.styles.textAlign)&&p.getBBox(),h.width=(b||v.width||0)+2*g+y,h.height=(w||v.height||0)+2*g,N=g+c.fontMetrics(n&&n.fontSize).b,k&&(d||(e=i(-m*g),t=f?-N:0,h.box=d=s?c.symbol(s,e,t,h.width,h.height):c.rect(e,t,h.width,h.height,0,T[ft]),d.add(h)),d.isImg||d.attr(Tt({width:h.width,height:h.height},T)),T=null)}function A(){var e=h.styles,t=e&&e.textAlign,n=y+g*(1-m),r;r=f?0:N,Pt(b)&&(t==="center"||t==="right")&&(n+={center:.5,right:1}[t]*(b-v.width)),(n!==p.x||r!==p.y)&&p.attr({x:n,y:r}),p.x=n,p.y=r}function O(e,t){d?d.attr(e,t):T[e]=t}function M(){p.add(h),h.attr({text:t,x:n,y:r}),d&&Pt(o)&&h.attr({anchorX:o,anchorY:u})}var c=this,h=c.g(l),p=c.text("",0,0,a).attr({zIndex:1}),d,v,m=0,g=3,y=0,b,w,E,S,x=0,T={},N,C=h.attrSetters,k;dn(h,"add",M),C.width=function(e){return b=e,!1},C.height=function(e){return w=e,!1},C.padding=function(e){return Pt(e)&&e!==g&&(g=e,A()),!1},C.paddingLeft=function(e){return Pt(e)&&e!==y&&(y=e,A()),!1},C.align=function(e){return m={left:0,center:.5,right:1}[e],!1},C.text=function(e,t){return p.attr(t,e),L(),A(),!1},C[ft]=function(e,t){return k=!0,x=e%2/2,O(t,e),!1},C.stroke=C.fill=C.r=function(e,t){return t==="fill"&&(k=!0),O(t,e),!1},C.anchorX=function(e,t){return o=e,O(t,e+x-E),!1},C.anchorY=function(e,t){return u=e,O(t,e-S),!1},C.x=function(e){return h.x=e,e-=m*((b||v.width)+g),E=i(e),h.attr("translateX",E),!1},C.y=function(e){return S=h.y=i(e),h.attr("translateY",S),!1};var _=h.css;return xt(h,{css:function(t){if(t){var n={};t=Tt(t),ln(["fontSize","fontWeight","fontFamily","color","lineHeight","width","textDecoration"],function(r){t[r]!==e&&(n[r]=t[r],delete t[r])}),p.css(n)}return _.call(h,t)},getBBox:function(){return{width:v.width+2*g,height:v.height+2*g,x:v.x-g,y:v.y-g}},shadow:function(e){return d&&d.shadow(e),h},destroy:function(){vn(h,"add",M),vn(h.element,"mouseenter"),vn(h.element,"mouseleave"),p&&(p=p.destroy()),d&&(d=d.destroy()),kn.prototype.destroy.call(h),h=c=L=A=O=M=null}})}},N=Ln;var An,On;if(!S&&!T){Highcharts.VMLElement=On={init:function(e,t){var n=this,r=["<",t,' filled="f" stroked="f"'],i=["position: ",q,";"],s=t===I;(t==="shape"||s)&&i.push("left:0;top:0;width:1px;height:1px;"),i.push("visibility: ",s?U:W),r.push(' style="',i.join(""),'"/>'),t&&(r=s||t==="span"||t==="img"?r.join(""):e.prepVML(r),n.element=It(r)),n.renderer=e,n.attrSetters={}},add:function(e){var t=this,n=t.renderer,r=t.element,i=n.box,s=e&&e.inverted,o=e?e.element||e:i;return s&&n.invertChild(r,o),o.appendChild(r),t.added=!0,t.alignOnAdd&&!t.deferUpdateTransform&&t.updateTransform(),mn(t,"add"),t},updateTransform:kn.prototype.htmlUpdateTransform,attr:function(t,n){var r=this,s,o,a,f,h=r.element||{},d=h.style,v=h.nodeName,m=r.renderer,y=r.symbolName,b,w=r.shadows,E,S=r.attrSetters,x=r;kt(t)&&Pt(n)&&(s=t,t={},t[s]=n);if(kt(t))s=t,s==="strokeWidth"||s==="stroke-width"?x=r.strokeweight:x=r[s];else for(s in t){o=t[s],E=!1,f=S[s]&&S[s].call(r,o,s);if(f!==!1&&o!==null){f!==e&&(o=f);if(y&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(s))b||(r.symbolAttr(t),b=!0),E=!0;else if(s==="d"){o=o||[],r.d=o.join(" "),a=o.length;var T=[],N;while(a--)Ot(o[a])?T[a]=i(o[a]*10)-5:o[a]==="Z"?T[a]="x":(T[a]=o[a],o.isArc&&(o[a]==="wa"||o[a]==="at")&&(N=o[a]==="wa"?1:-1,T[a+5]===T[a+7]&&(T[a+7]-=N),T[a+6]===T[a+8]&&(T[a+8]-=N)));o=T.join(" ")||"x",h.path=o;if(w){a=w.length;while(a--)w[a].path=w[a].cutOff?this.cutOffPath(o,w[a].cutOff):o}E=!0}else if(s==="visibility"){if(w){a=w.length;while(a--)w[a].style[s]=o}v==="DIV"&&(o=o===U?"-999em":0,g||(d[s]=o?W:U),s="top"),d[s]=o,E=!0}else if(s==="zIndex")o&&(d[s]=o),E=!0;else if(fn(s,["x","y","width","height"])!==-1)r[s]=o,s==="x"||s==="y"?s={x:"left",y:"top"}[s]:o=u(0,o),r.updateClipping?(r[s]=o,r.updateClipping()):d[s]=o,E=!0;else if(s==="class"&&v==="DIV")h.className=o;else if(s==="stroke")o=m.color(o,h,s),s="strokecolor";else if(s==="stroke-width"||s==="strokeWidth")h.stroked=o?!0:!1,s="strokeweight",r[s]=o,Ot(o)&&(o+=X);else if(s==="dashstyle"){var C=h.getElementsByTagName("stroke")[0]||It(m.prepVML(["<stroke/>"]),null,null,h);C[s]=o||"solid",r.dashstyle=o,E=!0}else s==="fill"?v==="SPAN"?d.color=o:v!=="IMG"&&(h.filled=o!==V?!0:!1,o=m.color(o,h,s,r),s="fillcolor"):s==="opacity"?E=!0:v==="shape"&&s==="rotation"?(r[s]=o,h.style.left=-i(c(o*p)+1)+X,h.style.top=i(l(o*p))+X):s==="translateX"||s==="translateY"||s==="rotation"?(r[s]=o,r.updateTransform(),E=!0):s==="text"&&(this.bBox=null,h.innerHTML=o,E=!0);E||(g?h[s]=o:Ht(h,s,o))}}return x},clip:function(e){var t=this,n,r;return e?(n=e.members,Dt(n,t),n.push(t),t.destroyClip=function(){Dt(n,t)},r=e.getCSS(t)):(t.destroyClip&&t.destroyClip(),r={clip:g?"inherit":"rect(auto)"}),t.css(r)},css:kn.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&en(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),kn.prototype.destroy.apply(this)},on:function(e,t){return this.element["on"+e]=function(){var e=n.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,t){var n;e=e.split(/[ ,]/),n=e.length;if(n===9||n===11)e[n-4]=e[n-2]=Ct(e[n-2])-10*t;return e.join(" ")},shadow:function(e,t,n){var r=[],i,s=this.element,o=this.renderer,u,a=s.style,f,l=s.path,c,h,p,d;l&&typeof l.value!="string"&&(l="x"),h=l;if(e){p=jt(e.width,3),d=(e.opacity||.15)/p;for(i=1;i<=3;i++)c=p*2+1-2*i,n&&(h=this.cutOffPath(l.value,c+.5)),f=['<shape isShadow="true" strokeweight="',c,'" filled="false" path="',h,'" coordsize="10 10" style="',s.style.cssText,'" />'],u=It(o.prepVML(f),null,{left:Ct(a.left)+jt(e.offsetX,1),top:Ct(a.top)+jt(e.offsetY,1)}),n&&(u.cutOff=c+1),f=['<stroke color="',e.color||"black",'" opacity="',d*i,'"/>'],It(o.prepVML(f),null,null,u),t?t.element.appendChild(u):s.parentNode.insertBefore(u,s),r.push(u);this.shadows=r}return this}},On=qt(kn,On);var Mn={Element:On,isIE8:d.indexOf("MSIE 8.0")>-1,init:function(e,n,r){var i=this,s,o;i.alignedObjects=[],s=i.createElement(I),o=s.element,o.style.position=R,e.appendChild(s.element),i.isVML=!0,i.box=o,i.boxWrapper=s,i.setSize(n,r,!1),t.namespaces.hcv||(t.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),t.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,n,r){var s=this.createElement(),o=Lt(e);return xt(s,{members:[],left:o?e.x:e,top:o?e.y:t,width:o?e.width:n,height:o?e.height:r,getCSS:function(e){var t=e.element,n=t.nodeName,r=n==="shape",s=e.inverted,o=this,u=o.top-(r?t.offsetTop:0),a=o.left,f=a+o.width,l=u+o.height,c={clip:"rect("+i(s?a:u)+"px,"+i(s?l:f)+"px,"+i(s?f:l)+"px,"+i(s?u:a)+"px)"};return!s&&g&&n==="DIV"&&xt(c,{width:f+X,height:l+X}),c},updateClipping:function(){ln(s.members,function(e){e.css(s.getCSS(e))})}})},color:function(e,t,n,i){var s=this,o,u=/^rgba/,a,f,l=V;e&&e.linearGradient?f="gradient":e&&e.radialGradient&&(f="pattern");if(f){var c,p,d=e.linearGradient||e.radialGradient,v,m,g,y,b,w,E,S,x="",T=e.stops,N,C,k=[],L=function(){a=['<fill colors="'+k.join(",")+'" opacity="',w,'" o:opacity2="',b,'" type="',f,'" ',x,'focus="100%" method="any" />'],It(s.prepVML(a),null,null,t)};N=T[0],C=T[T.length-1],N[0]>0&&T.unshift([0,N[1]]),C[0]<1&&T.push([1,C[1]]),ln(T,function(e,t){u.test(e[1])?(o=Cn(e[1]),c=o.get("rgb"),p=o.get("a")):(c=e[1],p=1),k.push(e[0]*100+"% "+c),t?(w=p,E=c):(b=p,S=c)});if(n==="fill")if(f==="gradient")v=d.x1||d[0]||0,m=d.y1||d[1]||0,g=d.x2||d[2]||0,y=d.y2||d[3]||0,x='angle="'+(90-r.atan((y-m)/(g-v))*180/h)+'"',L();else{var A=d.r,M=A*2,_=A*2,D=d.cx,P=d.cy,H=t.radialReference,B,j=function(){H&&(B=i.getBBox(),D+=(H[0]-B.x)/B.width-.5,P+=(H[1]-B.y)/B.height-.5,M*=H[2]/B.width,_*=H[2]/B.height),x='src="'+O.global.VMLRadialGradientURL+'" '+'size="'+M+","+_+'" '+'origin="0.5,0.5" '+'position="'+D+","+P+'" '+'color2="'+S+'" ',L()};i.added?j():dn(i,"add",j),l=E}else l=c}else if(u.test(e)&&t.tagName!=="IMG")o=Cn(e),a=["<",n,' opacity="',o.get("a"),'"/>'],It(this.prepVML(a),null,null,t),l=o.get("rgb");else{var F=t.getElementsByTagName(n);F.length&&(F[0].opacity=1,F[0].type="solid"),l=e}return l},prepVML:function(e){var t="display:inline-block;behavior:url(#default#VML);",n=this.isIE8;return e=e.join(""),n?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e.indexOf('style="')===-1?e=e.replace("/>",' style="'+t+'" />'):e=e.replace('style="','style="'+t)):e=e.replace("<","<hcv:"),e},text:Ln.prototype.html,path:function(e){var t={coordsize:"10 10"};return At(e)?t.d=e:Lt(e)&&xt(t,e),this.createElement("shape").attr(t)},circle:function(e,t,n){var r=this.symbol("circle");return Lt(e)&&(n=e.r,t=e.y,e=e.x),r.isCircle=!0,r.attr({x:e,y:t,width:2*n,height:2*n})},g:function(e){var t,n;return e&&(n={className:z+e,"class":z+e}),t=this.createElement(I).attr(n),t},image:function(e,t,n,r,i){var s=this.createElement("img").attr({src:e});return arguments.length>1&&s.attr({x:t,y:n,width:r,height:i}),s},rect:function(e,t,n,r,i,s){Lt(e)&&(t=e.y,n=e.width,r=e.height,s=e.strokeWidth,e=e.x);var o=this.symbol("rect");return o.r=i,o.attr(o.crisp(s,e,t,u(n,0),u(r,0)))},invertChild:function(e,t){var n=t.style;Ft(e,{flip:"x",left:Ct(n.width)-1,top:Ct(n.height)-1,rotation:-90})},symbols:{arc:function(e,t,n,r,i){var s=i.start,o=i.end,u=i.r||n||r,a=i.innerR,f=l(s),h=c(s),p=l(o),d=c(o),v;return o-s===0?["x"]:(v=["wa",e-u,t-u,e+u,t+u,e+u*f,t+u*h,e+u*p,t+u*d],i.open&&!a&&v.push("e",$,e,t),v.push("at",e-a,t-a,e+a,t+a,e+a*p,t+a*d,e+a*f,t+a*h,"x","e"),v.isArc=!0,v)},circle:function(e,t,n,r,i){return i&&i.isCircle&&(e-=n/2,t-=r/2),["wa",e,t,e+n,t+r,e+n,t+r/2,e+n,t+r/2,"e"]},rect:function(e,t,n,r,i){var s=e+n,o=t+r,u,f;return!Pt(i)||!i.r?u=Ln.prototype.symbols.square.apply(0,arguments):(f=a(i.r,n,r),u=[$,e+f,t,J,s-f,t,"wa",s-2*f,t,s,t+2*f,s-f,t,s,t+f,J,s,o-f,"wa",s-2*f,o-2*f,s,o,s,o-f,s-f,o,J,e+f,o,"wa",e,o-2*f,e+2*f,o,e+f,o,e,o-f,J,e,t+f,"wa",e,t,e+2*f,t+2*f,e,t+f,e+f,t,"x","e"]),u}}};Highcharts.VMLRenderer=An=function(){this.init.apply(this,arguments)},An.prototype=Tt(Ln.prototype,Mn),N=An}var _n,Dn;T&&(Highcharts.CanVGRenderer=_n=function(){E="http://www.w3.org/1999/xhtml"},_n.prototype.symbols={},Dn=function(){function t(){var t=e.length,n;for(n=0;n<t;n++)e[n]();e=[]}var e=[];return{push:function(n,r){e.length===0&&an(r,t),e.push(n)}}}(),N=_n),Pn.prototype={addLabel:function(){var e=this,t=e.axis,n=t.options,r=t.chart,s=t.horiz,o=t.categories,a=t.series[0]&&t.series[0].names,f=e.pos,l=n.labels,c,h=t.tickPositions,p=s&&o&&!l.step&&!l.staggerLines&&!l.rotation&&r.plotWidth/h.length||!s&&(r.optionsMarginLeft||r.plotWidth/2),d=f===h[0],v=f===h[h.length-1],m,g,y=o?jt(o[f],a&&a[f],f):f,b=e.label,w=h.info,E;t.isDatetimeAxis&&w&&(E=n.dateTimeLabelFormats[w.higherRanks[f]||w.unitName]),e.isFirst=d,e.isLast=v,c=t.labelFormatter.call({axis:t,chart:r,isFirst:d,isLast:v,dateTimeLabelFormat:E,value:t.isLog?nn(_t(y)):y}),m=p&&{width:u(1,i(p-2*(l.padding||10)))+X},m=xt(m,l.style),Pt(b)?b&&b.attr({text:c}).css(m):(g={align:l.align},Ot(l.rotation)&&(g.rotation=l.rotation),e.label=Pt(c)&&l.enabled?r.renderer.text(c,0,0,l.useHTML).attr(g).css(m).add(t.labelGroup):null)},getLabelSize:function(){var e=this.label,t=this.axis;return e?(this.labelBBox=e.getBBox())[t.horiz?"height":"width"]:0},getLabelSides:function(){var e=this.labelBBox,t=this.axis,n=t.options,r=n.labels,i=e.width,s=i*{left:0,center:.5,right:1}[r.align]-r.x;return[-s,i-s]},handleOverflow:function(e,t){var n=!0,r=this.axis,i=r.chart,s=this.isFirst,o=this.isLast,u=t.x,a=r.reversed,f=r.tickPositions;if(s||o){var l=this.getLabelSides(),c=l[0],h=l[1],p=i.plotLeft,d=p+r.len,v=r.ticks[f[e+(s?1:-1)]],m=v&&v.label.xy&&v.label.xy.x+v.getLabelSides()[s?0:1];s&&!a||o&&a?u+c<p&&(u=p-c,v&&u+h>m&&(n=!1)):u+h>d&&(u=d-h,v&&u+c<m&&(n=!1)),t.x=u}return n},getPosition:function(e,t,n,r){var i=this.axis,s=i.chart,o=r&&s.oldChartHeight||s.chartHeight;return{x:e?i.translate(t+n,null,null,r)+i.transB:i.left+i.offset+(i.opposite?(r&&s.oldChartWidth||s.chartWidth)-i.right-i.left:0),y:e?o-i.bottom+i.offset-(i.opposite?i.height:0):o-i.translate(t+n,null,null,r)-i.transB}},getLabelPosition:function(e,t,n,r,i,s,o,u){var a=this.axis,f=a.transA,l=a.reversed,c=a.staggerLines;return e=e+i.x-(s&&r?s*f*(l?-1:1):0),t=t+i.y-(s&&!r?s*f*(l?1:-1):0),Pt(i.y)||(t+=Ct(n.styles.lineHeight)*.9-n.getBBox().height/2),c&&(t+=o/(u||1)%c*16),{x:e,y:t}},getMarkPath:function(e,t,n,r,i,s){return s.crispLine([$,e,t,J,e+(i?0:-n),t+(i?n:0)],r)},render:function(t,n,r){var i=this,s=i.axis,o=s.options,u=s.chart,a=u.renderer,f=s.horiz,l=i.type,c=i.label,h=i.pos,p=o.labels,d=i.gridLine,v=l?l+"Grid":"grid",m=l?l+"Tick":"tick",g=o[v+"LineWidth"],y=o[v+"LineColor"],b=o[v+"LineDashStyle"],w=o[m+"Length"],E=o[m+"Width"]||0,S=o[m+"Color"],x=o[m+"Position"],T,N=i.mark,C,k=p.step,L,A=!0,O=s.tickmarkOffset,M=i.getPosition(f,h,O,n),_=M.x,D=M.y,P=f&&_===s.pos||!f&&D===s.pos+s.len?-1:1,H=s.staggerLines;this.isActive=!0,g&&(T=s.getPlotLinePath(h+O,g*P,n,!0),d===e&&(L={stroke:y,"stroke-width":g},b&&(L.dashstyle=b),l||(L.zIndex=1),n&&(L.opacity=0),i.gridLine=d=g?a.path(T).attr(L).add(s.gridGroup):null),!n&&d&&T&&d[i.isNew?"attr":"animate"]({d:T,opacity:r})),E&&w&&(x==="inside"&&(w=-w),s.opposite&&(w=-w),C=i.getMarkPath(_,D,w,E*P,f,a),N?N.animate({d:C,opacity:r}):i.mark=a.path(C).attr({stroke:S,"stroke-width":E,opacity:r}).add(s.axisGroup)),c&&!isNaN(_)&&(c.xy=M=i.getLabelPosition(_,D,c,f,p,O,t,k),i.isFirst&&!jt(o.showFirstLabel,1)||i.isLast&&!jt(o.showLastLabel,1)?A=!1:!H&&f&&p.overflow==="justify"&&!i.handleOverflow(t,M)&&(A=!1),k&&t%k&&(A=!1),A&&!isNaN(M.y)?(M.opacity=r,c[i.isNew?"attr":"animate"](M),i.isNew=!1):c.attr("y",-9999))},destroy:function(){Zt(this,this.axis)}},Hn.prototype={render:function(){var e=this,t=e.axis,n=t.horiz,r=(t.pointRange||0)/2,i=e.options,s=i.label,o=e.label,f=i.width,l=i.to,c=i.from,h=Pt(c)&&Pt(l),p=i.value,d=i.dashStyle,v=e.svgElem,m=[],g,y,b,w,E,S,x=i.color,T=i.zIndex,N=i.events,C,k=t.chart.renderer;t.isLog&&(c=Mt(c),l=Mt(l),p=Mt(p));if(f)m=t.getPlotLinePath(p,f),C={stroke:x,"stroke-width":f},d&&(C.dashstyle=d);else{if(!h)return;c=u(c,t.min-r),l=a(l,t.max+r),m=t.getPlotBandPath(c,l,i),C={fill:x},i.borderWidth&&(C.stroke=i.borderColor,C["stroke-width"]=i.borderWidth)}Pt(T)&&(C.zIndex=T);if(v)m?v.animate({d:m},null,v.onGetPath):(v.hide(),v.onGetPath=function(){v.show()});else if(m&&m.length){e.svgElem=v=k.path(m).attr(C).add();if(N){g=function(t){v.on(t,function(n){N[t].apply(e,[n])})};for(y in N)g(y)}}return s&&Pt(s.text)&&m&&m.length&&t.width>0&&t.height>0?(s=Tt({align:n&&h&&"center",x:n?!h&&4:10,verticalAlign:!n&&h&&"middle",y:n?h?16:10:h?6:-4,rotation:n&&!h&&90},s),o||(e.label=o=k.text(s.text,0,0).attr({align:s.textAlign||s.align,rotation:s.rotation,zIndex:T}).css(s.style).add()),b=[m[1],m[4],jt(m[6],m[1])],w=[m[2],m[5],jt(m[7],m[2])],E=Gt(b),S=Gt(w),o.align(s,!1,{x:E,y:S,width:Yt(b)-E,height:Yt(w)-S}),o.show()):o&&o.hide(),e},destroy:function(){var e=this,t=e.axis;Dt(t.plotLinesAndBands,e),Zt(e,this.axis)}},Bn.prototype={destroy:function(){Zt(this,this.axis)},setTotal:function(e){this.total=e,this.cum=e},render:function(e){var t=this.options,n=t.formatter.call(this);this.label?this.label.attr({text:n,visibility:U}):this.label=this.axis.chart.renderer.text(n,0,0,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:U}).add(e)},setOffset:function(e,t){var n=this,r=n.axis,i=r.chart,s=i.inverted,o=this.isNegative,u=r.translate(this.percent?100:this.total,0,0,0,1),a=r.translate(0),l=f(u-a),c=i.xAxis[0].translate(this.x)+e,h=i.plotHeight,p={x:s?o?u:u-l:c,y:s?h-c-t:o?h-u-l:h-u,width:s?l:t,height:s?t:l},d=this.label,v;d&&(d.align(this.alignOptions,null,p),v=d.alignAttr,d.attr({visibility:this.options.crop===!1||i.isInsidePlot(v.x,v.y)?S?"inherit":W:U}))}},jn.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:wn,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return this.total},style:wn.style}},defaultLeftAxisOptions:{labels:{align:"right",x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{align:"left",x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{align:"center",x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{align:"center",x:0,y:-5},title:{rotation:0}},init:function(t,n){var r=n.isX,i=this;i.horiz=t.inverted?!r:r,i.isXAxis=r,i.xOrY=r?"x":"y",i.opposite=n.opposite,i.side=i.horiz?i.opposite?0:2:i.opposite?1:3,i.setOptions(n);var s=this.options,o=s.type,u=o==="datetime";i.labelFormatter=s.labels.formatter||i.defaultLabelFormatter,i.staggerLines=i.horiz&&s.labels.staggerLines,i.userOptions=n,i.minPixelPadding=0,i.chart=t,i.reversed=s.reversed,i.zoomEnabled=s.zoomEnabled!==!1,i.categories=s.categories||o==="category",i.isLog=o==="logarithmic",i.isDatetimeAxis=u,i.isLinked=Pt(s.linkedTo),i.tickmarkOffset=i.categories&&s.tickmarkPlacement==="between"?.5:0,i.ticks={},i.minorTicks={},i.plotLinesAndBands=[],i.alternateBands={},i.len=0,i.minRange=i.userMinRange=s.minRange||s.maxZoom,i.range=s.range,i.offset=s.offset||0,i.stacks={},i._stacksTouched=0,i.max=null,i.min=null;var a,f=i.options.events;fn(i,t.axes)===-1&&(t.axes.push(i),t[r?"xAxis":"yAxis"].push(i)),i.series=i.series||[],t.inverted&&r&&i.reversed===e&&(i.reversed=!0),i.removePlotBand=i.removePlotBandOrLine,i.removePlotLine=i.removePlotBandOrLine;for(a in f)dn(i,a,f[a]);i.isLog&&(i.val2lin=Mt,i.lin2val=_t)},setOptions:function(e){this.options=Tt(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],Tt(O[this.isXAxis?"xAxis":"yAxis"],e))},update:function(e,t){var n=this.chart;e=n.options[this.xOrY+"Axis"][this.options.index]=Tt(this.userOptions,e),this.destroy(),this._addedPlotLB=!1,this.init(n,e),n.isDirtyBox=!0,jt(t,!0)&&n.redraw()},remove:function(e){var t=this.chart,n=this.xOrY+"Axis";ln(this.series,function(e){e.remove(!1)}),Dt(t.axes,this),Dt(t[n],this),t.options[n].splice(this.options.index,1),ln(t[n],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,jt(e,!0)&&t.redraw()},defaultLabelFormatter:function(){var t=this.axis,n=this.value,r=t.categories,i=this.dateTimeLabelFormat,s=O.lang.numericSymbols,o=s&&s.length,u,a,f=t.options.labels.format,l=t.isLog?n:t.tickInterval;if(f)a=Xt(f,this);else if(r)a=n;else if(i)a=M(i,n);else if(o&&l>=1e3)while(o--&&a===e)u=Math.pow(1e3,o+1),l>=u&&s[o]!==null&&(a=Rt(n/u,-1)+s[o]);return a===e&&(n>=1e3?a=Rt(n,0):a=Rt(n,-1)),a},getSeriesExtremes:function(){var t=this,n=t.chart,r=t.stacks,i=[],s=[],o=t._stacksTouched=t._stacksTouched+1,f,l;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=null,ln(t.series,function(f){if(f.visible||!n.options.chart.ignoreHiddenSeries){var c=f.options,h,p,d,v,m,g,y,b,w,E,S=c.threshold,x,T=[],N,C,k=0;t.hasVisibleSeries=!0,t.isLog&&S<=0&&(S=c.threshold=null);if(t.isXAxis)y=f.xData,y.length&&(t.dataMin=a(jt(t.dataMin,y[0]),Gt(y)),t.dataMax=u(jt(t.dataMax,y[0]),Yt(y)));else{var L,A,O,M=f.cropped,_=f.xAxis.getExtremes(),D,P=!!f.modifyValue;h=c.stacking,t.usePercentage=h==="percent",h&&(m=c.stack,v=f.type+jt(m,""),g="-"+v,f.stackKey=v,p=i[v]||[],i[v]=p,d=s[g]||[],s[g]=d),t.usePercentage&&(t.dataMin=0,t.dataMax=99),y=f.processedXData,b=f.processedYData,x=b.length;for(l=0;l<x;l++){w=y[l],E=b[l],h&&(L=E<S,A=L?d:p,O=L?g:v,Pt(A[w])?(A[w]=nn(A[w]+E),E=[E,A[w]]):A[w]=E,r[O]||(r[O]={}),r[O][w]||(r[O][w]=new Bn(t,t.options.stackLabels,L,w,m,h)),r[O][w].setTotal(A[w]),r[O][w].touched=o);if(E!==null&&E!==e&&(!t.isLog||E.length||E>0)){P&&(E=f.modifyValue(E));if(f.getExtremesFromAll||M||(y[l+1]||w)>=_.min&&(y[l-1]||w)<=_.max){D=E.length;if(D)while(D--)E[D]!==null&&(T[k++]=E[D]);else T[k++]=E}}}!t.usePercentage&&T.length&&(f.dataMin=N=Gt(T),f.dataMax=C=Yt(T),t.dataMin=a(jt(t.dataMin,N),N),t.dataMax=u(jt(t.dataMax,C),C)),Pt(S)&&(t.dataMin>=S?(t.dataMin=S,t.ignoreMinPadding=!0):t.dataMax<S&&(t.dataMax=S,t.ignoreMaxPadding=!0))}}});for(f in r)for(l in r[f])r[f][l].touched<o&&(r[f][l].destroy(),delete r[f][l])},translate:function(e,t,n,r,i,s){var o=this,u=o.len,a=1,f=0,l=r?o.oldTransA:o.transA,c=r?o.oldMin:o.min,h,p=o.minPixelPadding,d=(o.options.ordinal||o.isLog&&i)&&o.lin2val;return l||(l=o.transA),n&&(a*=-1,f=u),o.reversed&&(a*=-1,f-=a*u),t?(e=e*a+f,e-=p,h=e/l+c,d&&(h=o.lin2val(h))):(d&&(e=o.val2lin(e)),h=a*(e-c)*l+f+a*p+(s?l*o.pointRange/2:0)),h},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,r){var s=this,o=s.chart,u=s.left,a=s.top,f,l,c,h,p=s.translate(e,null,null,n),d=n&&o.oldChartHeight||o.chartHeight,v=n&&o.oldChartWidth||o.chartWidth,m,g=s.transB;f=c=i(p+g),l=h=i(d-p-g);if(isNaN(p))m=!0;else if(s.horiz){l=a,h=d-s.bottom;if(f<u||f>u+s.width)m=!0}else{f=u,c=v-s.right;if(l<a||l>a+s.height)m=!0}return m&&!r?null:o.renderer.crispLine([$,f,l,J,c,h],t||0)},getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t),r=this.getPlotLinePath(e);return r&&n?r.push(n[4],n[5],n[1],n[2]):r=null,r},getLinearTickPositions:function(e,t,n){var r,i,u=nn(s(t/e)*e),a=nn(o(n/e)*e),f=[];r=u;while(r<=a){f.push(r),r=nn(r+e);if(r===i)break;i=r}return f},getLogTickPositions:function(e,t,n,o){var u=this,a=u.options,f=u.len,l=[];o||(u._minorAutoInterval=null);if(e>=.5)e=i(e),l=u.getLinearTickPositions(e,t,n);else if(e>=.08){var c=s(t),h,p,d,v,m,g,y;e>.3?h=[1,2,4]:e>.15?h=[1,2,4,6,8]:h=[1,2,3,4,5,6,7,8,9];for(p=c;p<n+1&&!y;p++){v=h.length;for(d=0;d<v&&!y;d++)m=Mt(_t(p)*h[d]),m>t&&(!o||g<=n)&&l.push(g),g>n&&(y=!0),g=m}}else{var b=_t(t),w=_t(n),E=a[o?"minorTickInterval":"tickInterval"],S=E==="auto"?null:E,x=a.tickPixelInterval/(o?5:1),T=o?f/u.tickPositions.length:f;e=jt(S,u._minorAutoInterval,(w-b)*x/(T||1)),e=Vt(e,null,r.pow(10,s(r.log(e)/r.LN10))),l=pn(u.getLinearTickPositions(e,b,w),Mt),o||(u._minorAutoInterval=e/5)}return o||(u.tickInterval=e),l},getMinorTickPositions:function(){var e=this,t=e.options,n=e.tickPositions,r=e.minorTickInterval,i=[],s,o,u;if(e.isLog){u=n.length;for(o=1;o<u;o++)i=i.concat(e.getLogTickPositions(r,n[o-1],n[o],!0))}else if(e.isDatetimeAxis&&t.minorTickInterval==="auto")i=i.concat(Jt($t(r),e.min,e.max,t.startOfWeek)),i[0]<e.min&&i.shift();else for(s=e.min+(n[0]-e.min)%r;s<=e.max;s+=r)i.push(s);return i},adjustForMinRange:function(){var t=this,n=t.options,r=t.min,i=t.max,s,o=t.dataMax-t.dataMin>=t.minRange,u,f,l,c,h,p,d;t.isXAxis&&t.minRange===e&&!t.isLog&&(Pt(n.min)||Pt(n.max)?t.minRange=null:(ln(t.series,function(t){c=t.xData,h=t.xIncrement?1:c.length-1;for(f=h;f>0;f--){l=c[f]-c[f-1];if(u===e||l<u)u=l}}),t.minRange=a(u*5,t.dataMax-t.dataMin)));if(i-r<t.minRange){var v=t.minRange;s=(v-i+r)/2,p=[r-s,jt(n.min,r-s)],o&&(p[2]=t.dataMin),r=Yt(p),d=[r+v,jt(n.max,r+v)],o&&(d[2]=t.dataMax),i=Gt(d),i-r<v&&(p[0]=i-v,p[1]=jt(n.min,i-v),r=Yt(p))}t.min=r,t.max=i},setAxisTranslation:function(e){var t=this,n=t.max-t.min,r=0,i,s=0,o=0,f=t.linkedParent,l,c=t.transA;t.isXAxis&&(f?(s=f.minPointOffset,o=f.pointRangePadding):ln(t.series,function(e){var t=e.pointRange,f=e.options.pointPlacement,l=e.closestPointRange;t>n&&(t=0),r=u(r,t),s=u(s,f?0:t/2),o=u(o,f==="on"?0:t),!e.noSharedTooltip&&Pt(l)&&(i=Pt(i)?a(i,l):l)}),l=t.ordinalSlope?t.ordinalSlope/i:1,t.minPointOffset=s*=l,t.pointRangePadding=o*=l,t.pointRange=a(r,n),t.closestPointRange=i),e&&(t.oldTransA=c),t.translationSlope=t.transA=c=t.len/(n+o||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=c*s},setTickPositions:function(e){var t=this,n=t.chart,i=t.options,o=t.isLog,f=t.isDatetimeAxis,l=t.isXAxis,c=t.isLinked,h=t.options.tickPositioner,p,d=i.maxPadding,v=i.minPadding,m,g,y=i.tickInterval,b=i.minTickInterval,w=i.tickPixelInterval,E,S=t.categories;c?(t.linkedParent=n[l?"xAxis":"yAxis"][i.linkedTo],g=t.linkedParent.getExtremes(),t.min=jt(g.min,g.dataMin),t.max=jt(g.max,g.dataMax),i.type!==t.linkedParent.options.type&&tn(11,1)):(t.min=jt(t.userMin,i.min,t.dataMin),t.max=jt(t.userMax,i.max,t.dataMax)),o&&(!e&&a(t.min,jt(t.dataMin,t.min))<=0&&tn(10,1),t.min=nn(Mt(t.min)),t.max=nn(Mt(t.max))),t.range&&(t.userMin=t.min=u(t.min,t.max-t.range),t.userMax=t.max,e&&(t.range=null)),t.beforePadding&&t.beforePadding(),t.adjustForMinRange(),!S&&!t.usePercentage&&!c&&Pt(t.min)&&Pt(t.max)&&(m=t.max-t.min,m&&(!Pt(i.min)&&!Pt(t.userMin)&&v&&(t.dataMin<0||!t.ignoreMinPadding)&&(t.min-=m*v),!Pt(i.max)&&!Pt(t.userMax)&&d&&(t.dataMax>0||!t.ignoreMaxPadding)&&(t.max+=m*d))),t.min===t.max||t.min===undefined||t.max===undefined?t.tickInterval=1:c&&!y&&w===t.linkedParent.options.tickPixelInterval?t.tickInterval=t.linkedParent.tickInterval:t.tickInterval=jt(y,S?1:(t.max-t.min)*w/(t.len||1)),l&&!e&&ln(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)}),t.setAxisTranslation(!0),t.beforeSetTickPositions&&t.beforeSetTickPositions(),t.postProcessTickInterval&&(t.tickInterval=t.postProcessTickInterval(t.tickInterval)),!y&&t.tickInterval<b&&(t.tickInterval=b),!f&&!o&&(p=r.pow(10,s(r.log(t.tickInterval)/r.LN10)),y||(t.tickInterval=Vt(t.tickInterval,null,p,i))),t.minorTickInterval=i.minorTickInterval==="auto"&&t.tickInterval?t.tickInterval/5:i.minorTickInterval,t.tickPositions=E=i.tickPositions?[].concat(i.tickPositions):h&&h.apply(t,[t.min,t.max]),E||(f?E=(t.getNonLinearTimeTicks||Jt)($t(t.tickInterval,i.units),t.min,t.max,i.startOfWeek,t.ordinalPositions,t.closestPointRange,!0):o?E=t.getLogTickPositions(t.tickInterval,t.min,t.max):E=t.getLinearTickPositions(t.tickInterval,t.min,t.max),t.tickPositions=E);if(!c){var x=E[0],T=E[E.length-1],N=t.minPointOffset||0,C;i.startOnTick?t.min=x:t.min-N>x&&E.shift(),i.endOnTick?t.max=T:t.max+N<T&&E.pop(),E.length===1&&(C=.001,t.min-=C,t.max+=C)}},setMaxTicks:function(){var e=this.chart,t=e.maxTicks||{},n=this.tickPositions,r=this._maxTicksKey=[this.xOrY,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&n&&n.length>(t[r]||0)&&this.options.alignTicks!==!1&&(t[r]=n.length),e.maxTicks=t},adjustTickAmount:function(){var e=this,t=e.chart,n=e._maxTicksKey,r=e.tickPositions,i=t.maxTicks;if(i&&i[n]&&!e.isDatetimeAxis&&!e.categories&&!e.isLinked&&e.options.alignTicks!==!1){var s=e.tickAmount,o=r.length,u;e.tickAmount=u=i[n];if(o<u){while(r.length<u)r.push(nn(r[r.length-1]+e.tickInterval));e.transA*=(o-1)/(u-1),e.max=r[r.length-1]}Pt(s)&&u!==s&&(e.isDirty=!0)}},setScale:function(){var e=this,t=e.stacks,n,r,i,s;e.oldMin=e.min,e.oldMax=e.max,e.oldAxisLength=e.len,e.setAxisSize(),s=e.len!==e.oldAxisLength,ln(e.series,function(e){if(e.isDirtyData||e.isDirty||e.xAxis.isDirty)i=!0});if(s||i||e.isLinked||e.forceRedraw||e.userMin!==e.oldUserMin||e.userMax!==e.oldUserMax)e.forceRedraw=!1,e.getSeriesExtremes(),e.setTickPositions(),e.oldUserMin=e.userMin,e.oldUserMax=e.userMax,e.isDirty||(e.isDirty=s||e.min!==e.oldMin||e.max!==e.oldMax);if(!e.isXAxis)for(n in t)for(r in t[n])t[n][r].cum=t[n][r].total;e.setMaxTicks()},setExtremes:function(e,t,n,r,i){var s=this,o=s.chart;n=jt(n,!0),i=xt(i,{min:e,max:t}),mn(s,"setExtremes",i,function(){s.userMin=e,s.userMax=t,s.isDirtyExtremes=!0,n&&o.redraw(r)})},zoom:function(t,n){return this.allowZoomOutside||(t<=this.dataMin&&(t=e),n>=this.dataMax&&(n=e)),this.displayBtn=t!==e||n!==e,this.setExtremes(t,n,!1,e,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,n=t.offsetLeft||0,r=t.offsetRight||0,i=this.horiz,s,o,a,f;this.left=f=jt(t.left,e.plotLeft+n),this.top=a=jt(t.top,e.plotTop),this.width=s=jt(t.width,e.plotWidth-n+r),this.height=o=jt(t.height,e.plotHeight),this.bottom=e.chartHeight-o-a,this.right=e.chartWidth-s-f,this.len=u(i?s:o,0),this.pos=i?f:a},getExtremes:function(){var e=this,t=e.isLog;return{min:t?nn(_t(e.min)):e.min,max:t?nn(_t(e.max)):e.max,dataMin:e.dataMin,dataMax:e.dataMax,userMin:e.userMin,userMax:e.userMax}},getThreshold:function(e){var t=this,n=t.isLog,r=n?_t(t.min):t.min,i=n?_t(t.max):t.max;return r>e||e===null?e=r:i<e&&(e=i),t.translate(e,0,1,0,1)},addPlotBand:function(e){this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=(new Hn(this,e)).render(),r=this.userOptions;return t&&(r[t]=r[t]||[],r[t].push(e)),this.plotLinesAndBands.push(n),n},getOffset:function(){var e=this,t=e.chart,n=t.renderer,r=e.options,i=e.tickPositions,s=e.ticks,o=e.horiz,a=e.side,f=t.inverted?[1,0,3,2][a]:a,l,c,h=0,p,d=0,v=r.title,m=r.labels,g=0,y=t.axisOffset,b=t.clipOffset,w=[-1,1,1,-1][a],E;e.hasData=l=e.hasVisibleSeries||Pt(e.min)&&Pt(e.max)&&!!i,e.showAxis=c=l||jt(r.showEmpty,!0),e.axisGroup||(e.gridGroup=n.g("grid").attr({zIndex:r.gridZIndex||1}).add(),e.axisGroup=n.g("axis").attr({zIndex:r.zIndex||2}).add(),e.labelGroup=n.g("axis-labels").attr({zIndex:m.zIndex||7}).add());if(l||e.isLinked)ln(i,function(t){s[t]?s[t].addLabel():s[t]=new Pn(e,t)}),ln(i,function(e){if(a===0||a===2||{1:"left",3:"right"}[a]===m.align)g=u(s[e].getLabelSize(),g)}),e.staggerLines&&(g+=(e.staggerLines-1)*16);else for(E in s)s[E].destroy(),delete s[E];v&&v.text&&v.enabled!==!1&&(e.axisTitle||(e.axisTitle=n.text(v.text,0,0,v.useHTML).attr({zIndex:7,rotation:v.rotation||0,align:v.textAlign||{low:"left",middle:"center",high:"right"}[v.align]}).css(v.style).add(e.axisGroup),e.axisTitle.isNew=!0),c&&(h=e.axisTitle.getBBox()[o?"height":"width"],d=jt(v.margin,o?5:10),p=v.offset),e.axisTitle[c?"show":"hide"]()),e.offset=w*jt(r.offset,y[a]),e.axisTitleMargin=jt(p,g+d+(a!==2&&g&&w*r.labels[o?"y":"x"])),y[a]=u(y[a],e.axisTitleMargin+h+w*e.offset),b[f]=u(b[f],r.lineWidth)},getLinePath:function(e){var t=this.chart,n=this.opposite,r=this.offset,i=this.horiz,s=this.left+(n?this.width:0)+r,o=t.chartHeight-this.bottom-(n?this.height:0)+r;return this.lineTop=o,n||(e*=-1),t.renderer.crispLine([$,i?this.left:s,i?o:this.top,J,i?t.chartWidth-this.right:s,i?o:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,n=this.top,r=this.len,i=this.options.title,s=e?t:n,o=this.opposite,u=this.offset,a=Ct(i.style.fontSize||12),f={low:s+(e?0:r),middle:s+r/2,high:s+(e?r:0)}[i.align],l=(e?n+this.height:t)+(e?1:-1)*(o?-1:1)*this.axisTitleMargin+(this.side===2?a:0);return{x:e?f:l+(o?this.width:0)+u+(i.x||0),y:e?l-(o?this.height:0)+u:f+(i.y||0)}},render:function(){var t=this,n=t.chart,r=n.renderer,i=t.options,s=t.isLog,o=t.isLinked,u=t.tickPositions,a=t.axisTitle,f=t.stacks,l=t.ticks,c=t.minorTicks,h=t.alternateBands,p=i.stackLabels,d=i.alternateGridColor,v=t.tickmarkOffset,m=i.lineWidth,g,y=n.hasRendered,b=y&&Pt(t.oldMin)&&!isNaN(t.oldMin),w=t.hasData,E=t.showAxis,S,x;ln([l,c,h],function(e){var t;for(t in e)e[t].isActive=!1});if(w||o)t.minorTickInterval&&!t.categories&&ln(t.getMinorTickPositions(),function(e){c[e]||(c[e]=new Pn(t,e,"minor")),b&&c[e].isNew&&c[e].render(null,!0),c[e].render(null,!1,1)}),u.length&&(ln(u.slice(1).concat([u[0]]),function(e,n){n=n===u.length-1?0:n+1;if(!o||e>=t.min&&e<=t.max)l[e]||(l[e]=new Pn(t,e)),b&&l[e].isNew&&l[e].render(n,!0),l[e].render(n,!1,1)}),v&&t.min===0&&(l[-1]||(l[-1]=new Pn(t,-1,null,!0)),l[-1].render(-1))),d&&ln(u,function(n,r){r%2===0&&n<t.max&&(h[n]||(h[n]=new Hn(t)),S=n+v,x=u[r+1]!==e?u[r+1]+v:t.max,h[n].options={from:s?_t(S):S,to:s?_t(x):x,color:d},h[n].render(),h[n].isActive=!0)}),t._addedPlotLB||(ln((i.plotLines||[]).concat(i.plotBands||[]),function(e){t.addPlotBandOrLine(e)}),t._addedPlotLB=!0);ln([l,c,h],function(e){var t,r,i=[],s=_?_.duration||500:0,o=function(){r=i.length;while(r--)e[i[r]]&&!e[i[r]].isActive&&(e[i[r]].destroy(),delete e[i[r]])};for(t in e)e[t].isActive||(e[t].render(t,!1,0),e[t].isActive=!1,i.push(t));e===h||!n.hasRendered||!s?o():s&&setTimeout(o,s)}),m&&(g=t.getLinePath(m),t.axisLine?t.axisLine.animate({d:g}):t.axisLine=r.path(g).attr({stroke:i.lineColor,"stroke-width":m,zIndex:7}).add(t.axisGroup),t.axisLine[E?"show":"hide"]()),a&&E&&(a[a.isNew?"attr":"animate"](t.getTitlePosition()),a.isNew=!1);if(p&&p.enabled){var T,N,C,k=t.stackTotalGroup;k||(t.stackTotalGroup=k=r.g("stack-labels").attr({visibility:W,zIndex:6}).add()),k.translate(n.plotLeft,n.plotTop);for(T in f){N=f[T];for(C in N)N[C].render(k)}}t.isDirty=!1},removePlotBandOrLine:function(e){var t=this.plotLinesAndBands,n=t.length;while(n--)t[n].id===e&&t[n].destroy()},setTitle:function(e,t){this.update({title:e},t)},redraw:function(){var e=this,t=e.chart,n=t.pointer;n.reset&&n.reset(!0),e.render(),ln(e.plotLinesAndBands,function(e){e.render()}),ln(e.series,function(e){e.isDirty=!0})},setCategories:function(e,t){this.update({categories:e},t)},destroy:function(){var e=this,t=e.stacks,n;vn(e);for(n in t)Zt(t[n]),t[n]=null;ln([e.ticks,e.minorTicks,e.alternateBands,e.plotLinesAndBands],function(e){Zt(e)}),ln(["stackTotalGroup","axisLine","axisGroup","gridGroup","labelGroup","axisTitle"],function(t){e[t]&&(e[t]=e[t].destroy())})}},Fn.prototype={init:function(e,t){var n=t.borderWidth,r=t.style,i=Ct(r.padding);this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,t.shape,null,null,t.useHTML,null,"tooltip").attr({padding:i,fill:t.backgroundColor,"stroke-width":n,r:t.borderRadius,zIndex:8}).css(r).css({padding:0}).hide().add(),T||this.label.shadow(t.shadow),this.shared=t.shared},destroy:function(){ln(this.crosshairs,function(e){e&&e.destroy()}),this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,t,n,r){var i=this,s=i.now,o=i.options.animation!==!1&&!i.isHidden;xt(s,{x:o?(2*s.x+e)/3:e,y:o?(s.y+t)/2:t,anchorX:o?(2*s.anchorX+n)/3:n,anchorY:o?(s.anchorY+r)/2:r}),i.label.attr(s),o&&(f(e-s.x)>1||f(t-s.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){i&&i.move(e,t,n,r)},32))},hide:function(){var e=this,t;clearTimeout(this.hideTimer),this.isHidden||(t=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){e.label.fadeOut(),e.isHidden=!0},jt(this.options.hideDelay,500)),t&&ln(t,function(e){e.setState()}),this.chart.hoverPoints=null)},hideCrosshairs:function(){ln(this.crosshairs,function(e){e&&e.hide()})},getAnchor:function(t,n){var r,s=this.chart,o=s.inverted,u=s.plotTop,a=0,f=0,l;return t=Bt(t),r=t[0].tooltipPos,this.followPointer&&n&&(n.chartX===e&&(n=s.pointer.normalize(n)),r=[n.chartX-s.plotLeft,n.chartY-u]),r||(ln(t,function(e){l=e.series.yAxis,a+=e.plotX,f+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!o&&l?l.top-u:0)}),a/=t.length,f/=t.length,r=[o?s.plotWidth-f:a,this.shared&&!o&&t.length>1&&n?n.chartY-u:o?s.plotHeight-a:f]),pn(r,i)},getPosition:function(e,t,n){var r=this.chart,i=r.plotLeft,s=r.plotTop,o=r.plotWidth,a=r.plotHeight,f=jt(this.options.distance,12),l=n.plotX,c=n.plotY,h=l+i+(r.inverted?f:-e-f),p=c-t+s+15,d;return h<7&&(h=i+u(l,0)+f),h+e>i+o&&(h-=h+e-(i+o),p=c-t+s-f,d=!0),p<s+5&&(p=s+5,d&&c>=p&&c<=p+t&&(p=c+s+f)),p+t>s+a&&(p=u(s,s+a-t-f)),{x:h,y:p}},defaultFormatter:function(e){var t=this.points||Bt(this),n=t[0].series,r;return r=[n.tooltipHeaderFormatter(t[0])],ln(t,function(e){n=e.series,r.push(n.tooltipFormatter&&n.tooltipFormatter(e)||e.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),r.push(e.options.footerFormat||""),r.join("")},refresh:function(e,t){var n=this,r=n.chart,i=n.label,s=n.options,o,u,a,f,l={},c,h=[],p=s.formatter||n.defaultFormatter,d=r.hoverPoints,v,m=s.crosshairs,g=n.shared,y;clearTimeout(this.hideTimer),n.followPointer=Bt(e)[0].series.tooltipOptions.followPointer,f=n.getAnchor(e,t),o=f[0],u=f[1],g&&(!e.series||!e.series.noSharedTooltip)?(r.hoverPoints=e,d&&ln(d,function(e){e.setState()}),ln(e,function(e){e.setState(G),h.push(e.getLabelConfig())}),l={x:e[0].category,y:e[0].y},l.points=h,e=e[0]):l=e.getLabelConfig(),c=p.call(l,n),y=e.series,a=g||!y.isCartesian||y.tooltipOutsidePlot||r.isInsidePlot(o,u),c===!1||!a?this.hide():(n.isHidden&&(bn(i),i.attr("opacity",1).show()),i.attr({text:c}),v=s.borderColor||e.color||y.color||"#606060",i.attr({stroke:v}),n.updatePosition({plotX:o,plotY:u}),this.isHidden=!1);if(m){m=Bt(m);var b,w=m.length,E,S,x;while(w--)S=e.series[w?"yAxis":"xAxis"],m[w]&&S&&(x=w?jt(e.stackY,e.y):e.x,S.isLog&&(x=Mt(x)),b=S.getPlotLinePath(x,1),n.crosshairs[w]?n.crosshairs[w].attr({d:b,visibility:W}):(E={"stroke-width":m[w].width||1,stroke:m[w].color||"#C0C0C0",zIndex:m[w].zIndex||2},m[w].dashStyle&&(E.dashstyle=m[w].dashStyle),n.crosshairs[w]=r.renderer.path(b).attr(E).add()))}mn(r,"tooltipRefresh",{text:c,x:o+r.plotLeft,y:u+r.plotTop,borderColor:v})},updatePosition:function(e){var t=this.chart,n=this.label,r=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(i(r.x),i(r.y),e.plotX+t.plotLeft,e.plotY+t.plotTop)}},In.prototype={init:function(e,t){var n=T?"":t.chart.zoomType,r=e.inverted,i,s;this.options=t,this.chart=e,this.zoomX=i=/x/.test(n),this.zoomY=s=/y/.test(n),this.zoomHor=i&&!r||s&&r,this.zoomVert=s&&!r||i&&r,this.pinchDown=[],this.lastValidTouch={},t.tooltip.enabled&&(e.tooltip=new Fn(e,t.tooltip)),this.setDOMEvents()},normalize:function(t){var r,s,o,u;return t=t||n.event,t.target||(t.target=t.srcElement),t=gn(t),u=t.touches?t.touches.item(0):t,this.chartPosition=r=hn(this.chart.container),u.pageX===e?(s=t.x,o=t.y):(s=u.pageX-r.left,o=u.pageY-r.top),xt(t,{chartX:i(s),chartY:i(o)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return ln(this.chart.axes,function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})}),t},getIndex:function(e){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-e.chartY:e.chartX-t.plotLeft},runPointActions:function(e){var t=this,n=t.chart,r=n.series,i=n.tooltip,s,o,u=n.hoverPoint,l=n.hoverSeries,c,h,p=n.chartWidth,d=t.getIndex(e),v;if(i&&t.options.tooltip.shared&&(!l||!l.noSharedTooltip)){o=[],c=r.length;for(h=0;h<c;h++)r[h].visible&&r[h].options.enableMouseTracking!==!1&&!r[h].noSharedTooltip&&r[h].tooltipPoints.length&&(s=r[h].tooltipPoints[d],s.series&&(s._dist=f(d-s.clientX),p=a(p,s._dist),o.push(s)));c=o.length;while(c--)o[c]._dist>p&&o.splice(c,1);o.length&&o[0].clientX!==t.hoverX&&(i.refresh(o,e),t.hoverX=o[0].clientX)}l&&l.tracker?(s=l.tooltipPoints[d],s&&s!==u&&s.onMouseOver(e)):i&&i.followPointer&&!i.isHidden&&(v=i.getAnchor([{}],e),i.updatePosition({plotX:v[0],plotY:v[1]}))},reset:function(t){var n=this,r=n.chart,i=r.hoverSeries,s=r.hoverPoint,o=r.tooltip,u=o&&o.shared?r.hoverPoints:s;t=t&&o&&u,t&&Bt(u)[0].plotX===e&&(t=!1),t?o.refresh(u):(s&&s.onMouseOut(),i&&i.onMouseOut(),o&&(o.hide(),o.hideCrosshairs()),n.hoverX=null)},scaleGroups:function(e,t){var n=this.chart;ln(n.series,function(r){r.xAxis.zoomEnabled&&(r.group.attr(e),r.markerGroup&&(r.markerGroup.attr(e),r.markerGroup.clip(t?n.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(e))}),n.clipRect.attr(t||n.clipBox)},pinchTranslateDirection:function(e,t,n,r,i,s,o){var u=this.chart,a=e?"x":"y",l=e?"X":"Y",c="chart"+l,h=e?"width":"height",p=u["plot"+(e?"Left":"Top")],d,v,m,g=1,y=u.inverted,b=u.bounds[e?"h":"v"],w=t.length===1,E=t[0][c],S=n[0][c],x=!w&&t[1][c],T=!w&&n[1][c],N,C,k,L=function(){!w&&f(E-x)>20&&(g=f(S-T)/f(E-x)),m=(p-S)/g+E,d=u["plot"+(e?"Width":"Height")]/g};L(),v=m,v<b.min?(v=b.min,N=!0):v+d>b.max&&(v=b.max-d,N=!0),N?(S-=.8*(S-o[a][0]),w||(T-=.8*(T-o[a][1])),L()):o[a]=[S,T],y||(s[a]=m-p,s[h]=d),k=y?e?"scaleY":"scaleX":"scale"+l,C=y?1/g:g,i[h]=d,i[a]=v,r[k]=g,r["translate"+l]=C*p+(S-C*E)},pinch:function(e){var t=this,n=t.chart,r=t.pinchDown,i=n.tooltip.options.followTouchMove,s=e.touches,o=s.length,f=t.lastValidTouch,l=t.zoomHor||t.pinchHor,c=t.zoomVert||t.pinchVert,h=l||c,p=t.selectionMarker,d={},v={};e.type==="touchstart"&&i&&(t.inClass(e.target,z+"tracker")?(!n.runTrackerClick||o>1)&&e.preventDefault():(!n.runChartClick||o>1)&&e.preventDefault()),pn(s,function(e){return t.normalize(e)}),e.type==="touchstart"?(ln(s,function(e,t){r[t]={chartX:e.chartX,chartY:e.chartY}}),f.x=[r[0].chartX,r[1]&&r[1].chartX],f.y=[r[0].chartY,r[1]&&r[1].chartY],ln(n.axes,function(e){if(e.zoomEnabled){var t=n.bounds[e.horiz?"h":"v"],r=e.minPixelPadding,i=e.toPixels(e.dataMin),s=e.toPixels(e.dataMax),o=a(i,s),f=u(i,s);t.min=a(e.pos,o-r),t.max=u(e.pos+e.len,f+r)}})):r.length&&(p||(t.selectionMarker=p=xt({destroy:H},n.plotBox)),l&&t.pinchTranslateDirection(!0,r,s,d,p,v,f),c&&t.pinchTranslateDirection(!1,r,s,d,p,v,f),t.hasPinched=h,t.scaleGroups(d,v),!h&&i&&o===1&&this.runPointActions(t.normalize(e)))},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,this.mouseDownY=e.chartY},drag:function(e){var t=this.chart,n=t.options.chart,r=e.chartX,i=e.chartY,s=this.zoomHor,o=this.zoomVert,u=t.plotLeft,a=t.plotTop,l=t.plotWidth,c=t.plotHeight,h,p,d=this.mouseDownX,v=this.mouseDownY;r<u?r=u:r>u+l&&(r=u+l),i<a?i=a:i>a+c&&(i=a+c),this.hasDragged=Math.sqrt(Math.pow(d-r,2)+Math.pow(v-i,2)),this.hasDragged>10&&(h=t.isInsidePlot(d-u,v-a),t.hasCartesianSeries&&(this.zoomX||this.zoomY)&&h&&(this.selectionMarker||(this.selectionMarker=t.renderer.rect(u,a,s?1:l,o?1:c,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),this.selectionMarker&&s&&(p=r-d,this.selectionMarker.attr({width:f(p),x:(p>0?0:p)+d})),this.selectionMarker&&o&&(p=i-v,this.selectionMarker.attr({height:f(p),y:(p>0?0:p)+v})),h&&!this.selectionMarker&&n.panning&&t.pan(r))},drop:function(e){var t=this.chart,n=this.hasPinched;if(this.selectionMarker){var r={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},i=this.selectionMarker,s=i.x,o=i.y,f;if(this.hasDragged||n)ln(t.axes,function(e){if(e.zoomEnabled){var t=e.horiz,n=e.toValue(t?s:o),l=e.toValue(t?s+i.width:o+i.height);!isNaN(n)&&!isNaN(l)&&(r[e.xOrY+"Axis"].push({axis:e,min:a(n,l),max:u(n,l)}),f=!0)}}),f&&mn(t,"selection",r,function(e){t.zoom(xt(e,n?{animation:!1}:null))});this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups({translateX:t.plotLeft,translateY:t.plotTop,scaleX:1,scaleY:1})}t&&(Ft(t.container,{cursor:t._cursor}),t.cancelClick=this.hasDragged>10,t.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){this.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition,r=t.hoverSeries;e=gn(e),n&&r&&r.isCartesian&&!t.isInsidePlot(e.pageX-n.left-t.plotLeft,e.pageY-n.top-t.plotTop)&&this.reset()},onContainerMouseLeave:function(){this.reset(),this.chartPosition=null},onContainerMouseMove:function(e){var t=this.chart;e=this.normalize(e),e.returnValue=!1,t.mouseIsDown==="mousedown"&&this.drag(e),t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){var n;while(e){n=Ht(e,"class");if(n){if(n.indexOf(t)!==-1)return!0;if(n.indexOf(z+"container")!==-1)return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries;t&&!t.options.stickyTracking&&!this.inClass(e.toElement||e.relatedTarget,z+"tooltip")&&t.onMouseOut()},onContainerClick:function(e){var t=this.chart,n=t.hoverPoint,r=t.plotLeft,i=t.plotTop,s=t.inverted,o,u,a;e=this.normalize(e),e.cancelBubble=!0,t.cancelClick||(n&&this.inClass(e.target,z+"tracker")?(o=this.chartPosition,u=n.plotX,a=n.plotY,xt(n,{pageX:o.left+r+(s?t.plotWidth-a:u),pageY:o.top+i+(s?t.plotHeight-u:a)}),mn(n.series,"click",xt(e,{point:n})),n.firePointEvent("click",e)):(xt(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-r,e.chartY-i)&&mn(t,"click",e)))},onContainerTouchStart:function(e){var t=this.chart;e.touches.length===1?(e=this.normalize(e),t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&(this.runPointActions(e),this.pinch(e))):e.touches.length===2&&this.pinch(e)},onContainerTouchMove:function(e){(e.touches.length===1||e.touches.length===2)&&this.pinch(e)},onDocumentTouchEnd:function(e){this.drop(e)},setDOMEvents:function(){var e=this,n=e.chart.container,r;this._events=r=[[n,"onmousedown","onContainerMouseDown"],[n,"onmousemove","onContainerMouseMove"],[n,"onclick","onContainerClick"],[n,"mouseleave","onContainerMouseLeave"],[t,"mousemove","onDocumentMouseMove"],[t,"mouseup","onDocumentMouseUp"]],C&&r.push([n,"ontouchstart","onContainerTouchStart"],[n,"ontouchmove","onContainerTouchMove"],[t,"touchend","onDocumentTouchEnd"]),ln(r,function(t){e["_"+t[2]]=function(n){e[t[2]](n)},t[1].indexOf("on")===0?t[0][t[1]]=e["_"+t[2]]:dn(t[0],t[1],e["_"+t[2]])})},destroy:function(){var e=this;ln(e._events,function(t){t[1].indexOf("on")===0?t[0][t[1]]=null:vn(t[0],t[1],e["_"+t[2]])}),delete e._events,clearInterval(e.tooltipTimeout)}},qn.prototype={init:function(e,t){var n=this,r=t.itemStyle,i=jt(t.padding,8),s=t.itemMarginTop||0;this.options=t;if(!t.enabled)return;n.baseline=Ct(r.fontSize)+3+s,n.itemStyle=r,n.itemHiddenStyle=Tt(r,t.itemHiddenStyle),n.itemMarginTop=s,n.padding=i,n.initialItemX=i,n.initialItemY=i-5,n.maxItemWidth=0,n.chart=e,n.itemHeight=0,n.lastLineHeight=0,n.render(),dn(n.chart,"endResize",function(){n.positionCheckboxes()})},colorizeItem:function(t,n){var r=this,i=r.options,s=t.legendItem,o=t.legendLine,u=t.legendSymbol,a=r.itemHiddenStyle.color,f=n?i.itemStyle.color:a,l=n?t.color:a,c=t.options&&t.options.marker,h={stroke:l,fill:l},p,d;s&&s.css({fill:f,color:f}),o&&o.attr({stroke:l});if(u){if(c){c=t.convertAttribs(c);for(p in c)d=c[p],d!==e&&(h[p]=d)}u.attr(h)}},positionItem:function(e){var t=this,n=t.options,r=n.symbolPadding,i=!n.rtl,s=e._legendItemPos,o=s[0],u=s[1],a=e.checkbox;e.legendGroup&&e.legendGroup.translate(i?o:t.legendWidth-o-2*r-4,u),a&&(a.x=o,a.y=u)},destroyItem:function(e){var t=e.checkbox;ln(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&e[t].destroy()}),t&&en(e.checkbox)},destroy:function(){var e=this,t=e.group,n=e.box;n&&(e.box=n.destroy()),t&&(e.group=t.destroy())},positionCheckboxes:function(e){var t=this.group.alignAttr,n,r=this.clipHeight||this.legendHeight;t&&(n=t.translateY,ln(this.allItems,function(i){var s=i.checkbox,o;s&&(o=n+s.y+(e||0)+3,Ft(s,{left:t.translateX+i.legendItemWidth+s.x-20+X,top:o+X,display:o>n-6&&o<n+r-6?"":V}))}))},renderTitle:function(){var e=this.options,t=this.padding,n=e.title,r=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),r=this.title.getBBox().height,this.contentGroup.attr({translateY:r})),this.titleHeight=r},renderItem:function(e){var t=this,n=t.chart,r=n.renderer,i=t.options,s=i.layout==="horizontal",o=i.symbolWidth,a=i.symbolPadding,f=t.itemStyle,l=t.itemHiddenStyle,c=t.padding,h=!i.rtl,p,d=i.width,v=i.itemMarginBottom||0,m=t.itemMarginTop,g=t.initialItemX,y,b,w=e.legendItem,E=e.series||e,S=E.options,x=S.showCheckbox,T=i.useHTML;w||(e.legendGroup=r.g("legend-item").attr({zIndex:1}).add(t.scrollGroup),E.drawLegendSymbol(t,e),e.legendItem=w=r.text(i.labelFormat?Xt(i.labelFormat,e):i.labelFormatter.call(e),h?o+a:-a,t.baseline,T).css(Tt(e.visible?f:l)).attr({align:h?"left":"right",zIndex:2}).add(e.legendGroup),(T?w:e.legendGroup).on("mouseover",function(){e.setState(G),w.css(t.options.itemHoverStyle)}).on("mouseout",function(){w.css(e.visible?f:l),e.setState()}).on("click",function(t){var n="legendItemClick",r=function(){e.setVisible()};t={browserEvent:t},e.firePointEvent?e.firePointEvent(n,t,r):mn(e,n,t,r)}),t.colorizeItem(e,e.visible),S&&x&&(e.checkbox=It("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},i.itemCheckboxStyle,n.container),dn(e.checkbox,"click",function(t){var n=t.target;mn(e,"checkboxClick",{checked:n.checked},function(){e.select()})}))),y=w.getBBox(),b=e.legendItemWidth=i.itemWidth||o+a+y.width+c+(x?20:0),t.itemHeight=p=y.height,s&&t.itemX-g+b>(d||n.chartWidth-2*c-g)&&(t.itemX=g,t.itemY+=m+t.lastLineHeight+v,t.lastLineHeight=0),t.maxItemWidth=u(t.maxItemWidth,b),t.lastItemY=m+t.itemY+v,t.lastLineHeight=u(p,t.lastLineHeight),e._legendItemPos=[t.itemX,t.itemY],s?t.itemX+=b:(t.itemY+=m+p+v,t.lastLineHeight=p),t.offsetWidth=d||u(s?t.itemX-g:b,t.offsetWidth)},render:function(){var e=this,t=e.chart,n=t.renderer,r=e.group,i,s,o,u,a=e.box,f=e.options,l=e.padding,c=f.borderWidth,h=f.backgroundColor;e.itemX=e.initialItemX,e.itemY=e.initialItemY,e.offsetWidth=0,e.lastItemY=0,r||(e.group=r=n.g("legend").attr({zIndex:7}).add(),e.contentGroup=n.g().attr({zIndex:1}).add(r),e.scrollGroup=n.g().add(e.contentGroup)),e.renderTitle(),i=[],ln(t.series,function(e){var t=e.options;if(!t.showInLegend||Pt(t.linkedTo))return;i=i.concat(e.legendItems||(t.legendType==="point"?e.data:e))}),Qt(i,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),f.reversed&&i.reverse(),e.allItems=i,e.display=s=!!i.length,ln(i,function(t){e.renderItem(t)}),o=f.width||e.offsetWidth,u=e.lastItemY+e.lastLineHeight+e.titleHeight,u=e.handleOverflow(u);if(c||h)o+=l,u+=l,a?o>0&&u>0&&(a[a.isNew?"attr":"animate"](a.crisp(null,null,null,o,u)),a.isNew=!1):(e.box=a=n.rect(0,0,o,u,f.borderRadius,c||0).attr({stroke:f.borderColor,"stroke-width":c||0,fill:h||V}).add(r).shadow(f.shadow),a.isNew=!0),a[s?"show":"hide"]();e.legendWidth=o,e.legendHeight=u,ln(i,function(t){e.positionItem(t)}),s&&r.align(xt({width:o,height:u},f),!0,"spacingBox"),t.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t=this,n=this.chart,r=n.renderer,i,s=this.options,u=s.y,f=s.verticalAlign==="top",l=n.spacingBox.height+(f?-u:u)-this.padding,c=s.maxHeight,h,p=this.clipRect,d=s.navigation,v=jt(d.animation,!0),m=d.arrowSize||12,g=this.nav;return s.layout==="horizontal"&&(l/=2),c&&(l=a(l,c)),e>l&&!s.useHTML?(this.clipHeight=h=l-20-this.titleHeight,this.pageCount=i=o(e/h),this.currentPage=jt(this.currentPage,1),this.fullHeight=e,p||(p=t.clipRect=r.clipRect(0,0,9999,0),t.contentGroup.clip(p)),p.attr({height:h}),g||(this.nav=g=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,m,m).on("click",function(){t.scroll(-1,v)}).add(g),this.pager=r.text("",15,10).css(d.style).add(g),this.down=r.symbol("triangle-down",0,0,m,m).on("click",function(){t.scroll(1,v)}).add(g)),t.scroll(0),e=l):g&&(p.attr({height:n.chartHeight}),g.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(t,n){var r=this.pageCount,i=this.currentPage+t,s=this.clipHeight,o=this.options.navigation,u=o.activeColor,f=o.inactiveColor,l=this.pager,c=this.padding,h;i>r&&(i=r),i>0&&(n!==e&&rn(n,this.chart),this.nav.attr({translateX:c,translateY:s+7+this.titleHeight,visibility:W}),this.up.attr({fill:i===1?f:u}).css({cursor:i===1?"default":"pointer"}),l.attr({text:i+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:i===r?f:u}).css({cursor:i===r?"default":"pointer"}),h=-a(s*(i-1),this.fullHeight-s+c)+1,this.scrollGroup.animate({translateY:h}),l.attr({text:i+"/"+r}),this.currentPage=i,this.positionCheckboxes(h))}},Rn.prototype={init:function(e,t){var n,r=e.series;e.series=null,n=Tt(O,e),n.series=e.series=r;var i=n.chart,s=i.margin,o=Lt(s)?s:[s,s,s,s];this.optionsMarginTop=jt(i.marginTop,o[0]),this.optionsMarginRight=jt(i.marginRight,o[1]),this.optionsMarginBottom=jt(i.marginBottom,o[2]),this.optionsMarginLeft=jt(i.marginLeft,o[3]);var u=i.events;this.runChartClick=u&&!!u.click,this.bounds={h:{},v:{}},this.callback=t,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=i.showAxes;var a=this,f;a.index=B.length,B.push(a),i.reflow!==!1&&dn(a,"load",function(){a.initReflow()});if(u)for(f in u)dn(a,f,u[f]);a.xAxis=[],a.yAxis=[],a.animation=T?!1:jt(i.animation,!0),a.pointCount=0,a.counters=new Kt,a.firstRender()},initSeries:function(e){var t=this,n=t.options.chart,r=e.type||n.type||n.defaultSeriesType,i,s=St[r];return s||tn(17,!0),i=new s,i.init(this,e),i},addSeries:function(e,t,n){var r,i=this;return e&&(t=jt(t,!0),mn(i,"addSeries",{options:e},function(){r=i.initSeries(e),i.isDirtyLegend=!0,t&&i.redraw(n)})),r},addAxis:function(e,t,n,r){var i=t?"xAxis":"yAxis",s=this.options,o;o=new jn(this,Tt(e,{index:this[i].length})),s[i]=Bt(s[i]||{}),s[i].push(e),jt(n,!0)&&this.redraw(r)},isInsidePlot:function(e,t,n){var r=n?t:e,i=n?e:t;return r>=0&&r<=this.plotWidth&&i>=0&&i<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&ln(this.axes,function(e){e.adjustTickAmount()}),this.maxTicks=null},redraw:function(e){var t=this,n=t.axes,r=t.series,i=t.pointer,s=t.legend,o=t.isDirtyLegend,u,a=t.isDirtyBox,f=r.length,l=f,c,h=t.renderer,p=h.isHidden(),d=[];rn(e,t),p&&t.cloneRenderTo();while(l--){c=r[l];if(c.isDirty&&c.options.stacking){u=!0;break}}if(u){l=f;while(l--)c=r[l],c.options.stacking&&(c.isDirty=!0)}ln(r,function(e){e.isDirty&&e.options.legendType==="point"&&(o=!0)}),o&&s.options.enabled&&(s.render(),t.isDirtyLegend=!1),t.hasCartesianSeries&&(t.isResizing||(t.maxTicks=null,ln(n,function(e){e.setScale()})),t.adjustTickAmounts(),t.getMargins(),ln(n,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,d.push(function(){mn(e,"afterSetExtremes",e.getExtremes())}));if(e.isDirty||a||u)e.redraw(),a=!0})),a&&t.drawChartBox(),ln(r,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),i&&i.reset&&i.reset(!0),h.draw(),mn(t,"redraw"),p&&t.cloneRenderTo(!0),ln(d,function(e){e.call()})},showLoading:function(e){var t=this,n=t.options,r=t.loadingDiv,i=n.loading;r||(t.loadingDiv=r=It(I,{className:z+"loading"},xt(i.style,{zIndex:10,display:V}),t.container),t.loadingSpan=It("span",null,i.labelStyle,r)),t.loadingSpan.innerHTML=e||n.lang.loading,t.loadingShown||(Ft(r,{opacity:0,display:"",left:t.plotLeft+X,top:t.plotTop+X,width:t.plotWidth+X,height:t.plotHeight+X}),yn(r,{opacity:i.style.opacity},{duration:i.showDuration||0}),t.loadingShown=!0)},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&yn(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){Ft(t,{display:V})}}),this.loadingShown=!1},get:function(e){var t=this,n=t.axes,r=t.series,i,s,o;for(i=0;i<n.length;i++)if(n[i].options.id===e)return n[i];for(i=0;i<r.length;i++)if(r[i].options.id===e)return r[i];for(i=0;i<r.length;i++){o=r[i].points||[];for(s=0;s<o.length;s++)if(o[s].id===e)return o[s]}return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis=Bt(t.xAxis||{}),r=t.yAxis=Bt(t.yAxis||{}),i,s;ln(n,function(e,t){e.index=t,e.isX=!0}),ln(r,function(e,t){e.index=t}),i=n.concat(r),ln(i,function(t){s=new jn(e,t)}),e.adjustTickAmounts()},getSelectedPoints:function(){var e=[];return ln(this.series,function(t){e=e.concat(cn(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return cn(this.series,function(e){return e.selected})},showResetZoom:function(){var e=this,t=O.lang,n=e.options.chart.resetZoomButton,r=n.theme,i=r.states,s=n.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},r,i&&i.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,s)},zoomOut:function(){var e=this;mn(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t=this,n,r=t.pointer,i=!1,s;!e||e.resetSelection?ln(t.axes,function(e){n=e.zoom()}):ln(e.xAxis.concat(e.yAxis),function(e){var t=e.axis,s=t.isXAxis;if(r[s?"zoomX":"zoomY"]||r[s?"pinchX":"pinchY"])n=t.zoom(e.min,e.max),t.displayBtn&&(i=!0)}),s=t.resetZoomButton,i&&!s?t.showResetZoom():!i&&Lt(s)&&(t.resetZoomButton=s.destroy()),n&&t.redraw(jt(t.options.chart.animation,e&&e.animation,t.pointCount<100))},pan:function(e){var t=this,n=t.xAxis[0],r=t.mouseDownX,i=n.pointRange/2,s=n.getExtremes(),o=n.translate(r-e,!0)+i,f=n.translate(r+t.plotWidth-e,!0)-i,l=t.hoverPoints;l&&ln(l,function(e){e.setState()}),n.series.length&&o>a(s.dataMin,s.min)&&f<u(s.dataMax,s.max)&&n.setExtremes(o,f,!0,!1,{trigger:"pan"}),t.mouseDownX=e,Ft(t.container,{cursor:"move"})},setTitle:function(e,t){var n=this,r=n.options,i,s;i=r.title=Tt(r.title,e),s=r.subtitle=Tt(r.subtitle,t),ln([["title",e,i],["subtitle",t,s]],function(e){var t=e[0],r=n[t],i=e[1],s=e[2];r&&i&&(n[t]=r=r.destroy()),s&&s.text&&!r&&(n[t]=n.renderer.text(s.text,0,0,s.useHTML).attr({align:s.align,"class":z+t,zIndex:s.zIndex||4}).css(s.style).add().align(s,!1,"spacingBox"))})},getChartSize:function(){var e=this,t=e.options.chart,n=e.renderToClone||e.renderTo;e.containerWidth=un(n,"width"),e.containerHeight=un(n,"height"),e.chartWidth=u(0,t.width||e.containerWidth||600),e.chartHeight=u(0,jt(t.height,e.containerHeight>19?e.containerHeight:400))},cloneRenderTo:function(e){var n=this.renderToClone,r=this.container;e?n&&(this.renderTo.appendChild(r),en(n),delete this.renderToClone):(r&&this.renderTo.removeChild(r),this.renderToClone=n=this.renderTo.cloneNode(0),Ft(n,{position:q,top:"-9999px",display:"block"}),t.body.appendChild(n),r&&n.appendChild(r))},getContainer:function(){var e=this,n,r=e.options.chart,i,s,o,u="data-highcharts-chart",a,f;e.renderTo=o=r.renderTo,f=z+L++,kt(o)&&(e.renderTo=o=t.getElementById(o)),o||tn(13,!0),a=Ct(Ht(o,u)),!isNaN(a)&&B[a]&&B[a].destroy(),Ht(o,u,e.index),o.innerHTML="",o.offsetWidth||e.cloneRenderTo(),e.getChartSize(),i=e.chartWidth,s=e.chartHeight,e.container=n=It(I,{className:z+"container"+(r.className?" "+r.className:""),id:f},xt({position:R,overflow:U,width:i+X,height:s+X,textAlign:"left",lineHeight:"normal",zIndex:0},r.style),e.renderToClone||o),e._cursor=n.style.cursor,e.renderer=r.forExport?new Ln(n,i,s,!0):new N(n,i,s),T&&e.renderer.create(e,n,i,s)},getMargins:function(){var e=this,t=e.options.chart,n=t.spacingTop,r=t.spacingRight,i=t.spacingBottom,s=t.spacingLeft,o,a=e.legend,f=e.optionsMarginTop,l=e.optionsMarginLeft,c=e.optionsMarginRight,h=e.optionsMarginBottom,p=e.options.title,d=e.options.subtitle,v=e.options.legend,m=jt(v.margin,10),g=v.x,y=v.y,b=v.align,w=v.verticalAlign,E;e.resetMargins(),o=e.axisOffset,(e.title||e.subtitle)&&!Pt(e.optionsMarginTop)&&(E=u(e.title&&!p.floating&&!p.verticalAlign&&p.y||0,e.subtitle&&!d.floating&&!d.verticalAlign&&d.y||0),E&&(e.plotTop=u(e.plotTop,E+jt(p.margin,15)+n))),a.display&&!v.floating&&(b==="right"?Pt(c)||(e.marginRight=u(e.marginRight,a.legendWidth-g+m+r)):b==="left"?Pt(l)||(e.plotLeft=u(e.plotLeft,a.legendWidth+g+m+s)):w==="top"?Pt(f)||(e.plotTop=u(e.plotTop,a.legendHeight+y+m+n)):w==="bottom"&&(Pt(h)||(e.marginBottom=u(e.marginBottom,a.legendHeight-y+m+i)))),e.extraBottomMargin&&(e.marginBottom+=e.extraBottomMargin),e.extraTopMargin&&(e.plotTop+=e.extraTopMargin),e.hasCartesianSeries&&ln(e.axes,function(e){e.getOffset()}),Pt(l)||(e.plotLeft+=o[3]),Pt(f)||(e.plotTop+=o[0]),Pt(h)||(e.marginBottom+=o[2]),Pt(c)||(e.marginRight+=o[1]),e.setChartSize()},initReflow:function(){function o(o){var u=r.width||un(i,"width"),a=r.height||un(i,"height"),f=o?o.target:n;if(!e.hasUserSize&&u&&a&&(f===n||f===t)){if(u!==e.containerWidth||a!==e.containerHeight)clearTimeout(s),e.reflowTimeout=s=setTimeout(function(){e.container&&(e.setSize(u,a,!1),e.hasUserSize=null)},100);e.containerWidth=u,e.containerHeight=a}}var e=this,r=e.options.chart,i=e.renderTo,s;dn(n,"resize",o),dn(e,"destroy",function(){vn(n,"resize",o)})},setSize:function(e,t,n){var r=this,s,o,a;r.isResizing+=1,a=function(){r&&mn(r,"endResize",null,function(){r.isResizing-=1})},rn(n,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,Pt(e)&&(r.chartWidth=s=u(0,i(e)),r.hasUserSize=!!s),Pt(t)&&(r.chartHeight=o=u(0,i(t))),Ft(r.container,{width:s+X,height:o+X}),r.setChartSize(!0),r.renderer.setSize(s,o,n),r.maxTicks=null,ln(r.axes,function(e){e.isDirty=!0,e.setScale()}),ln(r.series,function(e){e.isDirty=!0}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.getMargins(),r.redraw(n),r.oldChartHeight=null,mn(r,"resize"),_===!1?a():setTimeout(a,_&&_.duration||500)},setChartSize:function(e){var t=this,n=t.inverted,r=t.renderer,a=t.chartWidth,f=t.chartHeight,l=t.options.chart,c=l.spacingTop,h=l.spacingRight,p=l.spacingBottom,d=l.spacingLeft,v=t.clipOffset,m,g,y,b,w,E,S;t.plotLeft=y=i(t.plotLeft),t.plotTop=b=i(t.plotTop),t.plotWidth=w=u(0,i(a-y-t.marginRight)),t.plotHeight=E=u(0,i(f-b-t.marginBottom)),t.plotSizeX=n?E:w,t.plotSizeY=n?w:E,t.plotBorderWidth=S=l.plotBorderWidth||0,t.spacingBox=r.spacingBox={x:d,y:c,width:a-d-h,height:f-c-p},t.plotBox=r.plotBox={x:y,y:b,width:w,height:E},m=o(u(S,v[3])/2),g=o(u(S,v[0])/2),t.clipBox={x:m,y:g,width:s(t.plotSizeX-u(S,v[1])/2-m),height:s(t.plotSizeY-u(S,v[2])/2-g)},e||ln(t.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this,t=e.options.chart,n=t.spacingTop,r=t.spacingRight,i=t.spacingBottom,s=t.spacingLeft;e.plotTop=jt(e.optionsMarginTop,n),e.marginRight=jt(e.optionsMarginRight,r),e.marginBottom=jt(e.optionsMarginBottom,i),e.plotLeft=jt(e.optionsMarginLeft,s),e.axisOffset=[0,0,0,0],e.clipOffset=[0,0,0,0]},drawChartBox:function(){var e=this,t=e.options.chart,n=e.renderer,r=e.chartWidth,i=e.chartHeight,s=e.chartBackground,o=e.plotBackground,u=e.plotBorder,a=e.plotBGImage,f=t.borderWidth||0,l=t.backgroundColor,c=t.plotBackgroundColor,h=t.plotBackgroundImage,p=t.plotBorderWidth||0,d,v,m=e.plotLeft,g=e.plotTop,y=e.plotWidth,b=e.plotHeight,w=e.plotBox,E=e.clipRect,S=e.clipBox;d=f+(t.shadow?8:0);if(f||l)s?s.animate(s.crisp(null,null,null,r-d,i-d)):(v={fill:l||V},f&&(v.stroke=t.borderColor,v["stroke-width"]=f),e.chartBackground=n.rect(d/2,d/2,r-d,i-d,t.borderRadius,f).attr(v).add().shadow(t.shadow));c&&(o?o.animate(w):e.plotBackground=n.rect(m,g,y,b,0).attr({fill:c}).add().shadow(t.plotShadow)),h&&(a?a.animate(w):e.plotBGImage=n.image(h,m,g,y,b).add()),E?E.animate({width:S.width,height:S.height}):e.clipRect=n.clipRect(S),p&&(u?u.animate(u.crisp(null,m,g,y,b)):e.plotBorder=n.rect(m,g,y,b,0,p).attr({stroke:t.plotBorderColor,"stroke-width":p,zIndex:1}).add()),e.isDirtyBox=!1},propFromSeries:function(){var e=this,t=e.options.chart,n,r=e.options.series,i,s;ln(["inverted","angular","polar"],function(o){n=St[t.type||t.defaultSeriesType],s=e[o]||t[o]||n&&n.prototype[o],i=r&&r.length;while(!s&&i--)n=St[r[i].type],n&&n.prototype[o]&&(s=!0);e[o]=s})},render:function(){var e=this,t=e.axes,n=e.renderer,r=e.options,i=r.labels,s=r.credits,o;e.setTitle(),e.legend=new qn(e,r.legend),ln(t,function(e){e.setScale()}),e.getMargins(),e.maxTicks=null,ln(t,function(e){e.setTickPositions(!0),e.setMaxTicks()}),e.adjustTickAmounts(),e.getMargins(),e.drawChartBox(),e.hasCartesianSeries&&ln(t,function(e){e.render()}),e.seriesGroup||(e.seriesGroup=n.g("series-group").attr({zIndex:3}).add()),ln(e.series,function(e){e.translate(),e.setTooltipPoints(),e.render()}),i.items&&ln(i.items,function(t){var r=xt(i.style,t.style),s=Ct(r.left)+e.plotLeft,o=Ct(r.top)+e.plotTop+12;delete r.left,delete r.top,n.text(t.html,s,o).attr({zIndex:2}).css(r).add()}),s.enabled&&!e.credits&&(o=s.href,e.credits=n.text(s.text,0,0).on("click",function(){o&&(location.href=o)}).attr({align:s.position.align,zIndex:8}).css(s.style).add().align(s.position)),e.hasRendered=!0},destroy:function(){var t=this,n=t.axes,r=t.series,i=t.container,s,o=i&&i.parentNode;mn(t,"destroy"),B[t.index]=e,t.renderTo.removeAttribute("data-highcharts-chart"),vn(t),s=n.length;while(s--)n[s]=n[s].destroy();s=r.length;while(s--)r[s]=r[s].destroy();ln(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(e){var n=t[e];n&&n.destroy&&(t[e]=n.destroy())}),i&&(i.innerHTML="",vn(i),o&&en(i));for(s in t)delete t[s]},isReadyToRender:function(){var e=this;return!S&&n==n.top&&t.readyState!=="complete"||T&&!n.canvg?(T?Dn.push(function(){e.firstRender()},e.options.global.canvasToolsURL):t.attachEvent("onreadystatechange",function(){t.detachEvent("onreadystatechange",e.firstRender),t.readyState==="complete"&&e.firstRender()}),!1):!0},firstRender:function(){var e=this,t=e.options,n=e.callback;if(!e.isReadyToRender())return;e.getContainer(),mn(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),ln(t.series||[],function(t){e.initSeries(t)}),mn(e,"beforeRender"),e.pointer=new In(e,t),e.render(),e.renderer.draw(),n&&n.apply(e,[e]),ln(e.callbacks,function(t){t.apply(e,[e])}),e.cloneRenderTo(!0),mn(e,"load")}},Rn.prototype.callbacks=[];var Un=function(){};Un.prototype={init:function(e,t,n){var r=this,i;return r.series=e,r.applyOptions(t,n),r.pointAttr={},e.options.colorByPoint&&(i=e.options.colors||e.chart.options.colors,r.color=r.color||i[e.colorCounter++],e.colorCounter===i.length&&(e.colorCounter=0)),e.chart.pointCount++,r},applyOptions:function(t,n){var r=this,i=r.series,s=i.pointValKey;return t=Un.prototype.optionsToObject.call(this,t),xt(r,t),r.options=r.options?xt(r.options,t):t,s&&(r.y=r[s]),r.x===e&&i&&(r.x=n===e?i.autoIncrement():n),r},optionsToObject:function(e){var t,n=this.series,r=n.pointArrayMap||["y"],i=r.length,s,o=0,u=0;if(typeof e=="number"||e===null)t={y:e};else if(At(e)){t={},e.length>i&&(s=typeof e[0],s==="string"?t.name=e[0]:s==="number"&&(t.x=e[0]),o++);while(u<i)t[r[u++]]=e[o++]}else typeof e=="object"&&(t=e,e.dataLabels&&(n._hasPointLabels=!0),e.marker&&(n._hasPointMarkers=!0));return t},destroy:function(){var e=this,t=e.series,n=t.chart,r=n.hoverPoints,i;n.pointCount--,r&&(e.setState(),Dt(r,e),r.length||(n.hoverPoints=null)),e===n.hoverPoint&&e.onMouseOut();if(e.graphic||e.dataLabel)vn(e),e.destroyElements();e.legendItem&&n.legend.destroyItem(e);for(i in e)e[i]=null},destroyElements:function(){var e=this,t=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],n,r=6;while(r--)n=t[r],e[n]&&(e[n]=e[n].destroy())},getLabelConfig:function(){var e=this;return{x:e.category,y:e.y,key:e.name||e.category,series:e.series,point:e,percentage:e.percentage,total:e.total||e.stackTotal}},select:function(e,t){var n=this,r=n.series,i=r.chart;e=jt(e,!n.selected),n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e,r.options.data[fn(n,r.data)]=n.options,n.setState(e&&Y),t||ln(i.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=e.options.selected=!1,r.options.data[fn(e,r.data)]=e.options,e.setState(Q),e.firePointEvent("unselect"))})})},onMouseOver:function(e){var t=this,n=t.series,r=n.chart,i=r.tooltip,s=r.hoverPoint;s&&s!==t&&s.onMouseOut(),t.firePointEvent("mouseOver"),i&&(!i.shared||n.noSharedTooltip)&&i.refresh(t,e),t.setState(G),r.hoverPoint=t},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;if(!t||fn(this,t)===-1)this.firePointEvent("mouseOut"),this.setState(),e.hoverPoint=null},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,r=jt(n.valueDecimals,""),i=n.valuePrefix||"",s=n.valueSuffix||"";return ln(t.pointArrayMap||["y"],function(t){t="{point."+t;if(i||s)e=e.replace(t+"}",i+t+"}"+s);e=e.replace(t+"}",t+":,."+r+"f}")}),Xt(e,{point:this,series:this.series})},update:function(e,t,n){var r=this,i=r.series,s=r.graphic,o,u=i.data,a=i.chart;t=jt(t,!0),r.firePointEvent("update",{options:e},function(){r.applyOptions(e),Lt(e)&&(i.getAttribs(),s&&s.attr(r.pointAttr[i.state])),o=fn(r,u),i.xData[o]=r.x,i.yData[o]=i.toYData?i.toYData(r):r.y,i.zData[o]=r.z,i.options.data[o]=r.options,i.isDirty=!0,i.isDirtyData=!0,t&&a.redraw(n)})},remove:function(e,t){var n=this,r=n.series,i=r.chart,s,o=r.data;rn(t,i),e=jt(e,!0),n.firePointEvent("remove",null,function(){s=fn(n,o),o.splice(s,1),r.options.data.splice(s,1),r.xData.splice(s,1),r.yData.splice(s,1),r.zData.splice(s,1),n.destroy(),r.isDirty=!0,r.isDirtyData=!0,e&&i.redraw()})},firePointEvent:function(e,t,n){var r=this,i=this.series,s=i.options;(s.point.events[e]||r.options&&r.options.events&&r.options.events[e])&&this.importEvents(),e==="click"&&s.allowPointSelect&&(n=function(e){r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),mn(this,e,t,n)},importEvents:function(){if(!this.hasImportedEvents){var e=this,t=Tt(e.series.options.point,e.options),n=t.events,r;e.events=n;for(r in n)dn(e,r,n[r]);this.hasImportedEvents=!0}},setState:function(e){var t=this,n=t.plotX,r=t.plotY,i=t.series,s=i.options.states,o=En[i.type].marker&&i.options.marker,u=o&&!o.enabled,a=o&&o.states[e],f=a&&a.enabled===!1,l=i.stateMarkerGraphic,c=t.marker||{},h=i.chart,p,d,v=t.pointAttr;e=e||Q;if(e===t.state||t.selected&&e!==Y||s[e]&&s[e].enabled===!1||e&&(f||u&&!a.enabled))return;t.graphic?(p=o&&t.graphic.symbolName&&v[e].r,t.graphic.attr(Tt(v[e],p?{x:n-p,y:r-p,width:2*p,height:2*p}:{}))):(e&&a&&(p=a.radius,d=c.symbol||i.symbol,l&&l.currentSymbol!==d&&(l=l.destroy()),l?l.attr({x:n-p,y:r-p}):(i.stateMarkerGraphic=l=h.renderer.symbol(d,n-p,r-p,2*p,2*p).attr(v[e]).add(i.markerGroup),l.currentSymbol=d)),l&&l[e&&h.isInsidePlot(n,r)?"show":"hide"]()),t.state=e}};var zn=function(){};zn.prototype={isCartesian:!0,type:"line",pointClass:Un,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},colorCounter:0,init:function(e,t){var n=this,r,i,s,o=e.series;n.chart=e,n.options=t=n.setOptions(t),n.bindAxes(),xt(n,{name:t.name,state:Q,pointAttr:{},visible:t.visible!==!1,selected:t.selected===!0}),T&&(t.animation=!1),i=t.events;for(r in i)dn(n,r,i[r]);if(i&&i.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect)e.runTrackerClick=!0;n.getColor(),n.getSymbol(),n.setData(t.data,!1),n.isCartesian&&(e.hasCartesianSeries=!0),o.push(n),n._i=o.length-1,Qt(o,function(e,t){return jt(e.options.index,e._i)-jt(t.options.index,e._i)}),ln(o,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)}),s=t.linkedTo,n.linkedSeries=[],kt(s)&&(s===":previous"?s=o[n.index-1]:s=e.get(s),s&&(s.linkedSeries.push(n),n.linkedParent=s))},bindAxes:function(){var t=this,n=t.options,r=t.chart,i;t.isCartesian&&ln(["xAxis","yAxis"],function(s){ln(r[s],function(r){i=r.options;if(n[s]===i.index||n[s]!==e&&n[s]===i.id||n[s]===e&&i.index===0)r.series.push(t),t[s]=r,r.isDirty=!0}),t[s]||tn(18,!0)})},autoIncrement:function(){var e=this,t=e.options,n=e.xIncrement;return n=jt(n,t.pointStart,0),e.pointInterval=jt(e.pointInterval,t.pointInterval,1),e.xIncrement=n+e.pointInterval,n},getSegments:function(){var e=this,t=-1,n=[],r,i=e.points,s=i.length;if(s)if(e.options.connectNulls){r=s;while(r--)i[r].y===null&&i.splice(r,1);i.length&&(n=[i])}else ln(i,function(e,r){e.y===null?(r>t+1&&n.push(i.slice(t+1,r)),t=r):r===s-1&&n.push(i.slice(t+1,r+1))});e.segments=n},setOptions:function(e){var t=this.chart,n=t.options,r=n.plotOptions,i=r[this.type],s;return this.userOptions=e,s=Tt(i,r.series,e),this.tooltipOptions=Tt(n.tooltip,s.tooltip),i.marker===null&&delete s.marker,s},getColor:function(){var e=this.options,t=this.userOptions,n=this.chart.options.colors,r=this.chart.counters,i,s;i=e.color||En[this.type].color,!i&&!e.colorByPoint&&(Pt(t._colorIndex)?s=t._colorIndex:(t._colorIndex=r.color,s=r.color++),i=n[s]),this.color=i,r.wrapColor(n.length)},getSymbol:function(){var e=this,t=e.userOptions,n=e.options.marker,r=e.chart,i=r.options.symbols,s=r.counters,o;e.symbol=n.symbol,e.symbol||(Pt(t._symbolIndex)?o=t._symbolIndex:(t._symbolIndex=s.symbol,o=s.symbol++),e.symbol=i[o]),/^url/.test(e.symbol)&&(n.radius=0),s.wrapSymbol(i.length)},drawLegendSymbol:function(e){var t=this.options,n=t.marker,r,i=e.options,s,o=i.symbolWidth,u=this.chart.renderer,a=this.legendGroup,f=e.baseline,l;t.lineWidth&&(l={"stroke-width":t.lineWidth},t.dashStyle&&(l.dashstyle=t.dashStyle),this.legendLine=u.path([$,0,f-4,J,o,f-4]).attr(l).add(a)),n&&n.enabled&&(r=n.radius,this.legendSymbol=s=u.symbol(this.symbol,o/2-r,f-4-r,2*r,2*r).add(a))},addPoint:function(e,t,n,r){var i=this,s=i.options,o=i.data,u=i.graph,a=i.area,f=i.chart,l=i.xData,c=i.yData,h=i.zData,p=i.names,d=u&&u.shift||0,v=s.data,m;rn(r,f),u&&n&&(u.shift=d+1),a&&(n&&(a.shift=d+1),a.isArea=!0),t=jt(t,!0),m={series:i},i.pointClass.prototype.applyOptions.apply(m,[e]),l.push(m.x),c.push(i.toYData?i.toYData(m):m.y),h.push(m.z),p&&(p[m.x]=m.name),v.push(e),s.legendType==="point"&&i.generatePoints(),n&&(o[0]&&o[0].remove?o[0].remove(!1):(o.shift(),l.shift(),c.shift(),h.shift(),v.shift())),i.getAttribs(),i.isDirty=!0,i.isDirtyData=!0,t&&f.redraw()},setData:function(t,n){var r=this,i=r.points,s=r.options,o=r.chart,u=null,a=r.xAxis,f=a&&a.categories&&!a.categories.length?[]:null,l;r.xIncrement=null,r.pointRange=a&&a.categories?1:s.pointRange,r.colorCounter=0;var c=[],h=[],p=[],d=t?t.length:[],v=s.turboThreshold||1e3,m,g=r.pointArrayMap,y=g&&g.length,b=!!r.toYData;if(d>v){l=0;while(u===null&&l<d)u=t[l],l++;if(Ot(u)){var w=jt(s.pointStart,0),E=jt(s.pointInterval,1);for(l=0;l<d;l++)c[l]=w,h[l]=t[l],w+=E;r.xIncrement=w}else if(At(u))if(y)for(l=0;l<d;l++)m=t[l],c[l]=m[0],h[l]=m.slice(1,y+1);else for(l=0;l<d;l++)m=t[l],c[l]=m[0],h[l]=m[1]}else for(l=0;l<d;l++)t[l]!==e&&(m={series:r},r.pointClass.prototype.applyOptions.apply(m,[t[l]]),c[l]=m.x,h[l]=b?r.toYData(m):m.y,p[l]=m.z,f&&m.name&&(f[l]=m.name));r.requireSorting&&c.length>1&&c[1]<c[0]&&tn(15),kt(h[0])&&tn(14,!0),r.data=[],r.options.data=t,r.xData=c,r.yData=h,r.zData=p,r.names=f,l=i&&i.length||0;while(l--)i[l]&&i[l].destroy&&i[l].destroy();a&&(a.minRange=a.userMinRange),r.isDirty=r.isDirtyData=o.isDirtyBox=!0,jt(n,!0)&&o.redraw(!1)},remove:function(e,t){var n=this,r=n.chart;e=jt(e,!0),n.isRemoving||(n.isRemoving=!0,mn(n,"remove",null,function(){n.destroy(),r.isDirtyLegend=r.isDirtyBox=!0,e&&r.redraw(t)})),n.isRemoving=!1},processData:function(t){var n=this,r=n.xData,i=n.yData,s=r.length,o=0,a=s,f,l,c,h=n.xAxis,p,d=n.options,v=d.cropThreshold,m=n.isCartesian;if(m&&!n.isDirty&&!h.isDirty&&!n.yAxis.isDirty&&!t)return!1;if(m&&n.sorted&&(!v||s>v||n.forceCrop)){var g=h.getExtremes(),y=g.min,b=g.max;if(r[s-1]<y||r[0]>b)r=[],i=[];else if(r[0]<y||r[s-1]>b){for(p=0;p<s;p++)if(r[p]>=y){o=u(0,p-1);break}for(;p<s;p++)if(r[p]>b){a=p+1;break}r=r.slice(o,a),i=i.slice(o,a),f=!0}}for(p=r.length-1;p>0;p--)l=r[p]-r[p-1],l>0&&(c===e||l<c)&&(c=l);n.cropped=f,n.cropStart=o,n.processedXData=r,n.processedYData=i,d.pointRange===null&&(n.pointRange=c||1),n.closestPointRange=c},generatePoints:function(){var t=this,n=t.options,r=n.data,i=t.data,s,o=t.processedXData,u=t.processedYData,a=t.pointClass,f=o.length,l=t.cropStart||0,c,h=t.hasGroupedData,p,d=[],v;if(!i&&!h){var m=[];m.length=r.length,i=t.data=m}for(v=0;v<f;v++)c=l+v,h?d[v]=(new a).init(t,[o[v]].concat(Bt(u[v]))):(i[c]?p=i[c]:r[c]!==e&&(i[c]=p=(new a).init(t,r[c],o[v])),d[v]=p);if(i&&(f!==(s=i.length)||h))for(v=0;v<s;v++)v===l&&!h&&(v+=f),i[v]&&(i[v].destroyElements(),i[v].plotX=e);t.data=i,t.points=d},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t=this,n=t.options,r=n.stacking,s=t.xAxis,o=s.categories,u=t.yAxis,a=t.points,f=a.length,l=!!t.modifyValue,c,h=u.series,p=h.length,d=n.pointPlacement==="between",v=n.threshold;while(p--)if(h[p].visible){h[p]===t&&(c=!0);break}for(p=0;p<f;p++){var m=a[p],g=m.x,y=m.y,b=m.low,w=u.stacks[(y<v?"-":"")+t.stackKey],E,S;u.isLog&&y<=0&&(m.y=y=null),m.plotX=s.translate(g,0,0,0,1,d),r&&t.visible&&w&&w[g]&&(E=w[g],S=E.total,E.cum=b=E.cum-y,y=b+y,c&&(b=jt(v,u.min)),u.isLog&&b<=0&&(b=null),r==="percent"&&(b=S?b*100/S:0,y=S?y*100/S:0),m.percentage=S?m.y*100/S:0,m.total=m.stackTotal=S,m.stackY=y),m.yBottom=Pt(b)?u.translate(b,0,1,0,1):null,l&&(y=t.modifyValue(y,m)),m.plotY=typeof y=="number"&&y!==Infinity?i(u.translate(y,0,1,0,1)*10)/10:e,m.clientX=d?s.translate(g,0,0,0,1):m.plotX,m.negative=m.y<(v||0),m.category=o&&o[m.x]!==e?o[m.x]:m.x}t.getSegments()},setTooltipPoints:function(e){var t=this,n=[],r,i,o,a=t.xAxis,f=a?a.tooltipLen||a.len:t.chart.plotSizeX,l,c,h=[];if(t.options.enableMouseTracking===!1)return;e&&(t.tooltipPoints=null),ln(t.segments||t.points,function(e){n=n.concat(e)}),a&&a.reversed&&(n=n.reverse()),r=n.length;for(c=0;c<r;c++){l=n[c],i=n[c-1]?o+1:0,o=n[c+1]?u(0,s((l.clientX+(n[c+1]?n[c+1].clientX:f))/2)):f;while(i>=0&&i<=o)h[i++]=l}t.tooltipPoints=h},tooltipHeaderFormatter:function(e){var t=this,n=t.tooltipOptions,r=n.xDateFormat,i=n.dateTimeLabelFormats,s=t.xAxis,o=s&&s.options.type==="datetime",u=n.headerFormat,a=s&&s.closestPointRange,f;if(o&&!r)if(a){for(f in P)if(P[f]>=a){r=i[f];break}}else r=i.day;return o&&r&&Ot(e.key)&&(u=u.replace("{point.key}","{point.key:"+r+"}")),Xt(u,{point:e,series:t})},onMouseOver:function(){var e=this,t=e.chart,n=t.hoverSeries;n&&n!==e&&n.onMouseOut(),e.options.events.mouseOver&&mn(e,"mouseOver"),e.setState(G),t.hoverSeries=e},onMouseOut:function(){var e=this,t=e.options,n=e.chart,r=n.tooltip,i=n.hoverPoint;i&&i.onMouseOut(),e&&t.events.mouseOut&&mn(e,"mouseOut"),r&&!t.stickyTracking&&(!r.shared||e.noSharedTooltip)&&r.hide(),e.setState(),n.hoverSeries=null},animate:function(e){var t=this,n=t.chart,r=n.renderer,i,s,o=t.options.animation,u=n.clipBox,a=n.inverted,f;o&&!Lt(o)&&(o=En[t.type].animation),f="_sharedClip"+o.duration+o.easing,e?(i=n[f],s=n[f+"m"],i||(n[f]=i=r.clipRect(xt(u,{width:0})),n[f+"m"]=s=r.clipRect(-99,a?-n.plotLeft:-n.plotTop,99,a?n.chartWidth:n.chartHeight)),t.group.clip(i),t.markerGroup.clip(s),t.sharedClipKey=f):(i=n[f],i&&(i.animate({width:n.plotSizeX},o),n[f+"m"].animate({width:n.plotSizeX+99},o)),t.animate=null,t.animationTimeout=setTimeout(function(){t.afterAnimate()},o.duration))},afterAnimate:function(){var e=this.chart,t=this.sharedClipKey,n=this.group;n&&this.options.clip!==!1&&(n.clip(e.clipRect),this.markerGroup.clip()),setTimeout(function(){t&&e[t]&&(e[t]=e[t].destroy(),e[t+"m"]=e[t+"m"].destroy())},100)},drawPoints:function(){var t=this,n,r=t.points,i=t.chart,s,o,u,a,f,l,c,h,p=t.options,d=p.marker,v,m,g,y=t.markerGroup;if(d.enabled||t._hasPointMarkers){u=r.length;while(u--)a=r[u],s=a.plotX,o=a.plotY,h=a.graphic,v=a.marker||{},m=d.enabled&&v.enabled===e||v.enabled,g=i.isInsidePlot(s,o,i.inverted),m&&o!==e&&!isNaN(o)&&a.y!==null?(n=a.pointAttr[a.selected?Y:Q],f=n.r,l=jt(v.symbol,t.symbol),c=l.indexOf("url")===0,h?h.attr({visibility:g?S?"inherit":W:U}).animate(xt({x:s-f,y:o-f},h.symbolName?{width:2*f,height:2*f}:{})):g&&(f>0||c)&&(a.graphic=h=i.renderer.symbol(l,s-f,o-f,2*f,2*f).attr(n).add(y))):h&&(a.graphic=h.destroy())}},convertAttribs:function(e,t,n,r){var i=this.pointAttrToOptions,s,o,u={};e=e||{},t=t||{},n=n||{},r=r||{};for(s in i)o=i[s],u[s]=jt(e[o],t[s],n[s],r[s]);return u},getAttribs:function(){var e=this,t=e.options,n=En[e.type].marker?t.marker:t,r=n.states,i=r[G],s,o=e.color,u={stroke:o,fill:o},a=e.points||[],f,l,c=[],h,p=e.pointAttrToOptions,d,v=t.negativeColor,m;t.marker?(i.radius=i.radius||n.radius+2,i.lineWidth=i.lineWidth||n.lineWidth+1):i.color=i.color||Cn(i.color||o).brighten(i.brightness).get(),c[Q]=e.convertAttribs(n,u),ln([G,Y],function(t){c[t]=e.convertAttribs(r[t],c[Q])}),e.pointAttr=c,f=a.length;while(f--){l=a[f],n=l.options&&l.options.marker||l.options,n&&n.enabled===!1&&(n.radius=0),l.negative&&v&&(l.color=l.fillColor=v),d=t.colorByPoint||l.color;if(l.options)for(m in p)Pt(n[p[m]])&&(d=!0);d?(n=n||{},h=[],r=n.states||{},s=r[G]=r[G]||{},t.marker||(s.color=Cn(s.color||l.color).brighten(s.brightness||i.brightness).get()),h[Q]=e.convertAttribs(xt({color:l.color},n),c[Q]),h[G]=e.convertAttribs(r[G],c[G],h[Q]),h[Y]=e.convertAttribs(r[Y],c[Y],h[Q]),l.negative&&t.marker&&v&&(h[Q].fill=h[G].fill=h[Y].fill=e.convertAttribs({fillColor:v}).fill)):h=c,l.pointAttr=h}},update:function(e,t){var n=this.chart,r=this.userOptions,i=this.type;e=Tt(r,{animation:!1,index:this.index,pointStart:this.xData[0]},e),this.remove(!1),xt(this,St[e.type||i].prototype),this.init(n,e),jt(t,!0)&&n.redraw(!1)},destroy:function(){var e=this,t=e.chart,n=/AppleWebKit\/533/.test(d),r,i,s=e.data||[],o,u,a;mn(e,"destroy"),vn(e),ln(["xAxis","yAxis"],function(t){a=e[t],a&&(Dt(a.series,e),a.isDirty=a.forceRedraw=!0)}),e.legendItem&&e.chart.legend.destroyItem(e),i=s.length;while(i--)o=s[i],o&&o.destroy&&o.destroy();e.points=null,clearTimeout(e.animationTimeout),ln(["area","graph","dataLabelsGroup","group","markerGroup","tracker","graphNeg","areaNeg","posClip","negClip"],function(t){e[t]&&(r=n&&t==="group"?"hide":"destroy",e[t][r]())}),t.hoverSeries===e&&(t.hoverSeries=null),Dt(t.series,e);for(u in e)delete e[u]},drawDataLabels:function(){var t=this,n=t.options,r=n.dataLabels,i=t.points,s,o,u,a;if(r.enabled||t._hasPointLabels)t.dlProcessOptions&&t.dlProcessOptions(r),a=t.plotGroup("dataLabelsGroup","data-labels",t.visible?W:U,r.zIndex||6),o=r,ln(i,function(n){var i,f=n.dataLabel,l,c,h,p,d=n.connector,v=!0;s=n.options&&n.options.dataLabels,i=o.enabled||s&&s.enabled;if(f&&!i)n.dataLabel=f.destroy();else if(i){p=r.rotation,r=Tt(o,s),l=n.getLabelConfig(),u=r.format?Xt(r.format,l):r.formatter.call(l,r),r.style.color=jt(r.color,r.style.color,t.color,"black");if(f)Pt(u)?(f.attr({text:u}),v=!1):(n.dataLabel=f=f.destroy(),d&&(n.connector=d.destroy()));else if(Pt(u)){c={fill:r.backgroundColor,stroke:r.borderColor,"stroke-width":r.borderWidth,r:r.borderRadius||0,rotation:p,padding:r.padding,zIndex:1};for(h in c)c[h]===e&&delete c[h];f=n.dataLabel=t.chart.renderer[p?"text":"label"](u,0,-999,null,null,null,r.useHTML).attr(c).css(r.style).add(a).shadow(r.shadow)}f&&t.alignDataLabel(n,f,r,null,v)}})},alignDataLabel:function(e,t,n,r,s){var o=this.chart,u=o.inverted,a=jt(e.plotX,-999),f=jt(e.plotY,-999),l=t.getBBox(),c;r=xt({x:u?o.plotWidth-f:a,y:i(u?o.plotHeight-a:f),width:0,height:0},r),xt(n,{width:l.width,height:l.height}),n.rotation?(c={align:n.align,x:r.x+n.x+r.width/2,y:r.y+n.y+r.height/2},t[s?"attr":"animate"](c)):(t.align(n,null,r),c=t.alignAttr),t.attr({visibility:n.crop===!1||o.isInsidePlot(a,f,u)?o.renderer.isSVG?"inherit":W:U})},getSegmentPath:function(e){var t=this,n=[],r=t.options.step;return ln(e,function(i,s){var o=i.plotX,u=i.plotY,a;t.getPointSpline?n.push.apply(n,t.getPointSpline(e,i,s)):(n.push(s?J:$),r&&s&&(a=e[s-1],r==="right"?n.push(a.plotX,u):r==="center"?n.push((a.plotX+o)/2,a.plotY,(a.plotX+o)/2,u):n.push(o,a.plotY)),n.push(i.plotX,i.plotY))}),n},getGraphPath:function(){var e=this,t=[],n,r=[];return ln(e.segments,function(i){n=e.getSegmentPath(i),i.length>1?t=t.concat(n):r.push(i[0])}),e.singlePoints=r,e.graphPath=t,t},drawGraph:function(){var e=this,t=this.options,n=[["graph",t.lineColor||this.color]],r=t.lineWidth,i=t.dashStyle,s=this.getGraphPath(),o=t.negativeColor;o&&n.push(["graphNeg",o]),ln(n,function(n,o){var u=n[0],a=e[u],f;a?(bn(a),a.animate({d:s})):r&&s.length&&(f={stroke:n[1],"stroke-width":r,zIndex:1},i&&(f.dashstyle=i),e[u]=e.chart.renderer.path(s).attr(f).add(e.group).shadow(!o&&t.shadow))})},clipNeg:function(){var e=this.options,t=this.chart,n=t.renderer,r=e.negativeColor,i,s,a,f=this.graph,l=this.area,c=this.posClip,h=this.negClip,p=t.chartWidth,d=t.chartHeight,v=u(p,d),m,g;r&&(f||l)&&(i=o(this.yAxis.len-this.yAxis.translate(e.threshold||0)),m={x:0,y:0,width:v,height:i},g={x:0,y:i,width:v,height:v-i},t.inverted&&n.isVML&&(m={x:t.plotWidth-i-t.plotLeft,y:0,width:p,height:d},g={x:i+t.plotLeft-p,y:0,width:t.plotLeft+i,height:p}),this.yAxis.reversed?(s=g,a=m):(s=m,a=g),c?(c.animate(s),h.animate(a)):(this.posClip=c=n.clipRect(s),this.negClip=h=n.clipRect(a),f&&(f.clip(c),this.graphNeg.clip(h)),l&&(l.clip(c),this.areaNeg.clip(h))))},invertGroups:function(){function n(){var t={width:e.yAxis.len,height:e.xAxis.len};ln(["group","markerGroup"],function(n){e[n]&&e[n].attr(t).invert()})}var e=this,t=e.chart;if(!e.xAxis)return;dn(t,"resize",n),dn(e,"destroy",function(){vn(t,"resize",n)}),n(),e.invertGroups=n},plotGroup:function(e,t,n,r,i){var s=this[e],o=!s,u=this.chart,a=this.xAxis,f=this.yAxis;return o&&(this[e]=s=u.renderer.g(t).attr({visibility:n,zIndex:r||.1}).add(i)),s[o?"attr":"animate"]({translateX:a?a.left:u.plotLeft,translateY:f?f.top:u.plotTop,scaleX:1,scaleY:1}),s},render:function(){var e=this,t=e.chart,n,r=e.options,i=r.animation,s=i&&!!e.animate&&t.renderer.isSVG,o=e.visible?W:U,u=r.zIndex,a=e.hasRendered,f=t.seriesGroup;n=e.plotGroup("group","series",o,u,f),e.markerGroup=e.plotGroup("markerGroup","markers",o,u,f),s&&e.animate(!0),e.getAttribs(),n.inverted=e.isCartesian?t.inverted:!1,e.drawGraph&&(e.drawGraph(),e.clipNeg()),e.drawDataLabels(),e.drawPoints(),e.options.enableMouseTracking!==!1&&e.drawTracker(),t.inverted&&e.invertGroups(),r.clip!==!1&&!e.sharedClipKey&&!a&&n.clip(t.clipRect),s?e.animate():a||e.afterAnimate(),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var e=this,t=e.chart,n=e.isDirtyData,r=e.group,i=e.xAxis,s=e.yAxis;r&&(t.inverted&&r.attr({width:t.plotWidth,height:t.plotHeight}),r.animate({translateX:jt(i&&i.left,t.plotLeft),translateY:jt(s&&s.top,t.plotTop)})),e.translate(),e.setTooltipPoints(!0),e.render(),n&&mn(e,"updatedData")},setState:function(e){var t=this,n=t.options,r=t.graph,i=t.graphNeg,s=n.states,o=n.lineWidth,u;e=e||Q;if(t.state!==e){t.state=e;if(s[e]&&s[e].enabled===!1)return;e&&(o=s[e].lineWidth||o+1),r&&!r.dashstyle&&(u={"stroke-width":o},r.attr(u),i&&i.attr(u))}},setVisible:function(t,n){var r=this,i=r.chart,s=r.legendItem,o,u=i.options.chart.ignoreHiddenSeries,a=r.visible;r.visible=t=r.userOptions.visible=t===e?!a:t,o=t?"show":"hide",ln(["group","dataLabelsGroup","markerGroup","tracker"],function(e){r[e]&&r[e][o]()}),i.hoverSeries===r&&r.onMouseOut(),s&&i.legend.colorizeItem(r,t),r.isDirty=!0,r.options.stacking&&ln(i.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),ln(r.linkedSeries,function(e){e.setVisible(t,!1)}),u&&(i.isDirtyBox=!0),n!==!1&&i.redraw(),mn(r,o)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var n=this;n.selected=t=t===e?!n.selected:t,n.checkbox&&(n.checkbox.checked=t),mn(n,t?"select":"unselect")},drawTracker:function(){var e=this,t=e.options,n=t.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),i=r.length,s=e.chart,o=s.pointer,u=s.renderer,a=s.options.tooltip.snap,f=e.tracker,l=t.cursor,c=l&&{cursor:l},h=e.singlePoints,p,d,v=function(){s.hoverSeries!==e&&e.onMouseOver()};if(i&&!n){d=i+1;while(d--)r[d]===$&&r.splice(d+1,0,r[d+1]-a,r[d+2],J),(d&&r[d]===$||d===i)&&r.splice(d,0,J,r[d-2]+a,r[d-1])}for(d=0;d<h.length;d++)p=h[d],r.push($,p.plotX-a,p.plotY,J,p.plotX+a,p.plotY);f?f.attr({d:r}):(e.tracker=f=u.path(r).attr({"class":z+"tracker","stroke-linejoin":"round",visibility:e.visible?W:U,stroke:K,fill:n?K:V,"stroke-width":t.lineWidth+(n?0:2*a),zIndex:2}).addClass(z+"tracker").on("mouseover",v).on("mouseout",function(e){o.onTrackerMouseOut(e)}).css(c).add(e.markerGroup),C&&f.on("touchstart",v))}};var Wn=qt(zn);St.line=Wn,En.area=Tt(Sn,{threshold:0});var Xn=qt(zn,{type:"area",getSegments:function(){var e=[],t=[],n=[],r=this.xAxis,i=this.yAxis,s=i.stacks[this.stackKey],o={},u,a,f=this.points,l,c;if(this.options.stacking&&!this.cropped){for(l=0;l<f.length;l++)o[f[l].x]=f[l];for(c in s)n.push(+c);n.sort(function(e,t){return e-t}),ln(n,function(e){o[e]?t.push(o[e]):(u=r.translate(e),a=i.toPixels(s[e].cum,!0),t.push({y:null,plotX:u,clientX:u,plotY:a,yBottom:a,onMouseOver:H}))}),t.length&&e.push(t)}else zn.prototype.getSegments.call(this),e=this.segments;this.segments=e},getSegmentPath:function(e){var t=zn.prototype.getSegmentPath.call(this,e),n=[].concat(t),r,i=this.options,s=t.length;s===3&&n.push(J,t[1],t[2]);if(i.stacking&&!this.closedStacks)for(r=e.length-1;r>=0;r--)r<e.length-1&&i.step&&n.push(e[r+1].plotX,e[r].yBottom),n.push(e[r].plotX,e[r].yBottom);else this.closeSegment(n,e);return this.areaPath=this.areaPath.concat(n),t},closeSegment:function(e,t){var n=this.yAxis.getThreshold(this.options.threshold);e.push(J,t[t.length-1].plotX,n,J,t[0].plotX,n)},drawGraph:function(){this.areaPath=[],zn.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,r=n.negativeColor,i=[["area",this.color,n.fillColor]];r&&i.push(["areaNeg",n.negativeColor,n.negativeFillColor]),ln(i,function(r){var i=r[0],s=e[i];s?s.animate({d:t}):e[i]=e.chart.renderer.path(t).attr({fill:jt(r[2],Cn(r[1]).setOpacity(n.fillOpacity||.75).get()),zIndex:0}).add(e.group)})},drawLegendSymbol:function(e,t){t.legendSymbol=this.chart.renderer.rect(0,e.baseline-11,e.options.symbolWidth,12,2).attr({zIndex:3}).add(t.legendGroup)}});St.area=Xn,En.spline=Tt(Sn);var Vn=qt(zn,{type:"spline",getPointSpline:function(e,t,n){var r=1.5,i=r+1,s=t.plotX,o=t.plotY,f=e[n-1],l=e[n+1],c,h,p,d,v;if(f&&l){var m=f.plotX,g=f.plotY,y=l.plotX,b=l.plotY,w;c=(r*s+m)/i,h=(r*o+g)/i,p=(r*s+y)/i,d=(r*o+b)/i,w=(d-h)*(p-s)/(p-c)+o-d,h+=w,d+=w,h>g&&h>o?(h=u(g,o),d=2*o-h):h<g&&h<o&&(h=a(g,o),d=2*o-h),d>b&&d>o?(d=u(b,o),h=2*o-d):d<b&&d<o&&(d=a(b,o),h=2*o-d),t.rightContX=p,t.rightContY=d}return n?(v=["C",f.rightContX||f.plotX,f.rightContY||f.plotY,c||s,h||o,s,o],f.rightContX=f.rightContY=null):v=[$,s,o],v}});St.spline=Vn,En.areaspline=Tt(En.area);var $n=Xn.prototype,Jn=qt(Vn,{type:"areaspline",closedStacks:!0,getSegmentPath:$n.getSegmentPath,closeSegment:$n.closeSegment,drawGraph:$n.drawGraph});St.areaspline=Jn,En.column=Tt(Sn,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,threshold:0});var Kn=qt(zn,{type:"column",tooltipOutsidePlot:!0,requireSorting:!1,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},trackerGroups:["group","dataLabelsGroup"],init:function(){zn.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&ln(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var t=this,n=t.chart,r=t.options,i=this.xAxis,s=i.reversed,o,u={},l,c=0;r.grouping===!1?c=1:ln(n.series,function(n){var r=n.options;n.type===t.type&&n.visible&&t.options.group===r.group&&(r.stacking?(o=n.stackKey,u[o]===e&&(u[o]=c++),l=u[o]):r.grouping!==!1&&(l=c++),n.columnIndex=l)});var h=a(f(i.transA)*(i.ordinalSlope||r.pointRange||i.closestPointRange||1),i.len),p=h*r.groupPadding,d=h-2*p,v=d/c,m=r.pointWidth,g=Pt(m)?(v-m)/2:v*r.pointPadding,y=jt(m,v-2*g),b=(s?c-(t.columnIndex||0):t.columnIndex)||0,w=g+(p+b*v-h/2)*(s?-1:1);return t.columnMetrics={width:y,offset:w}},translate:function(){var e=this,t=e.chart,n=e.options,r=n.stacking,i=n.borderWidth,s=e.yAxis,l=n.threshold,c=e.translatedThreshold=s.getThreshold(l),h=jt(n.minPointLength,5),p=e.getColumnMetrics(),d=p.width,v=o(u(d,1+2*i)),m=p.offset;zn.prototype.translate.apply(e),ln(e.points,function(n){var l=a(u(-999,n.plotY),s.len+999),p=jt(n.yBottom,c),g=n.plotX+m,y=o(a(l,p)),b=o(u(l,p)-y),w=s.stacks[(n.y<0?"-":"")+e.stackKey],E;r&&e.visible&&w&&w[n.x]&&w[n.x].setOffset(m,v),f(b)<h&&h&&(b=h,y=f(y-c)>h?p-h:c-(s.translate(n.y,0,1,0,1)<=c?h:0)),n.barX=g,n.pointWidth=d,n.shapeType="rect",n.shapeArgs=E=t.renderer.Element.prototype.crisp.call(0,i,g,y,v,b),i%2&&(E.y-=1,E.height+=1)})},getSymbol:H,drawLegendSymbol:Xn.prototype.drawLegendSymbol,drawGraph:H,drawPoints:function(){var t=this,n=t.options,r=t.chart.renderer,i;ln(t.points,function(s){var o=s.plotY,u=s.graphic;o!==e&&!isNaN(o)&&s.y!==null?(i=s.shapeArgs,u?(bn(u),u.animate(Tt(i))):s.graphic=u=r[s.shapeType](i).attr(s.pointAttr[s.selected?Y:Q]).add(t.group).shadow(n.shadow,null,n.stacking&&!n.borderRadius)):u&&(s.graphic=u.destroy())})},drawTracker:function(){var t=this,n=t.chart.pointer,r=t.options.cursor,i=r&&{cursor:r},s=function(n){var r=n.target,i;t.onMouseOver();while(r&&!i)i=r.point,r=r.parentNode;i!==e&&i.onMouseOver(n)};ln(t.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),t._hasTracking?t._hasTracking=!0:ln(t.trackerGroups,function(e){t[e]&&(t[e].addClass(z+"tracker").on("mouseover",s).on("mouseout",function(e){n.onTrackerMouseOut(e)}).css(i),C&&t[e].on("touchstart",s))})},alignDataLabel:function(e,t,n,r,i){var s=this.chart,o=s.inverted,u=e.dlBox||e.shapeArgs,a=e.below||e.plotY>jt(this.translatedThreshold,s.plotSizeY),f=jt(n.inside,!!this.options.stacking);u&&(r=Tt(u),o&&(r={x:s.plotWidth-r.y-r.height,y:s.plotHeight-r.x-r.width,width:r.height,height:r.width}),f||(o?(r.x+=a?0:r.width,r.width=0):(r.y+=a?r.height:0,r.height=0))),n.align=jt(n.align,!o||f?"center":a?"right":"left"),n.verticalAlign=jt(n.verticalAlign,o||f?"middle":a?"top":"bottom"),zn.prototype.alignDataLabel.call(this,e,t,n,r,i)},animate:function(e){var t=this,n=this.yAxis,r=t.options,i=this.chart.inverted,s={},o;S&&(e?(s.scaleY=.001,o=a(n.pos+n.len,u(n.pos,n.toPixels(r.threshold))),i?s.translateX=o-n.len:s.translateY=o,t.group.attr(s)):(s.scaleY=1,s[i?"translateX":"translateY"]=n.pos,t.group.animate(s,t.options.animation),t.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&ln(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),zn.prototype.remove.apply(e,arguments)}});St.column=Kn,En.bar=Tt(En.column);var Qn=qt(Kn,{type:"bar",inverted:!0});St.bar=Qn,En.scatter=Tt(Sn,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0},stickyTracking:!1});var Gn=qt(zn,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],drawTracker:Kn.prototype.drawTracker,setTooltipPoints:H});St.scatter=Gn,En.pie=Tt(Sn,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var Yn=qt(Un,{init:function(){Un.prototype.init.apply(this,arguments);var e=this,t;return e.y<0&&(e.y=null),xt(e,{visible:e.visible!==!1,name:jt(e.name,"Slice")}),t=function(){e.slice()},dn(e,"select",t),dn(e,"unselect",t),e},setVisible:function(t){var n=this,r=n.series,i=r.chart,s;n.visible=n.options.visible=t=t===e?!n.visible:t,r.options.data[fn(n,r.data)]=n.options,s=t?"show":"hide",ln(["graphic","dataLabel","connector","shadowGroup"],function(e){n[e]&&n[e][s]()}),n.legendItem&&i.legend.colorizeItem(n,t),!r.isDirty&&r.options.ignoreHiddenPoint&&(r.isDirty=!0,i.redraw())},slice:function(e,t,n){var r=this,i=r.series,s=i.chart,o;rn(n,s),t=jt(t,!0),r.sliced=r.options.sliced=e=Pt(e)?e:!r.sliced,i.options.data[fn(r,i.data)]=r.options,o=e?r.slicedTranslation:{translateX:0,translateY:0},r.graphic.animate(o),r.shadowGroup&&r.shadowGroup.animate(o)}}),Zn={type:"pie",isCartesian:!1,pointClass:Yn,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:H,animate:function(e){var t=this,n=t.points,r=t.startAngleRad;e||(ln(n,function(e){var n=e.graphic,i=e.shapeArgs;n&&(n.attr({r:t.center[3]/2,start:r,end:r}),n.animate({r:i.r,start:i.start,end:i.end},t.options.animation))}),t.animate=null)},setData:function(e,t){zn.prototype.setData.call(this,e,!1),this.processData(),this.generatePoints(),jt(t,!0)&&this.chart.redraw()},getCenter:function(){var e=this.options,t=this.chart,n=2*(e.slicedOffset||0),r,i=t.plotWidth-2*n,s=t.plotHeight-2*n,o=e.center,u=[jt(o[0],"50%"),jt(o[1],"50%"),e.size||"100%",e.innerSize||0],f=a(i,s),l;return pn(u,function(e,t){return l=/%$/.test(e),r=t<2||t===2&&l,(l?[i,s,f,f][t]*Ct(e)/100:e)+(r?n:0)})},translate:function(e){this.generatePoints();var t=0,n=this,s=0,o=1e3,u=n.options,f=u.slicedOffset,p=f+u.borderWidth,d,v,m,g=n.startAngleRad=h/180*((u.startAngle||0)%360-90),y=n.points,b=2*h,w,E,S,x=u.dataLabels.distance,T=u.ignoreHiddenPoint,N,C=y.length,k;e||(n.center=e=n.getCenter()),n.getX=function(t,n){return m=r.asin((t-e[1])/(e[2]/2+x)),e[0]+(n?-1:1)*l(m)*(e[2]/2+x)};for(N=0;N<C;N++)k=y[N],t+=T&&!k.visible?0:k.y;for(N=0;N<C;N++){k=y[N],w=t?k.y/t:0,d=i((g+s*b)*o)/o;if(!T||k.visible)s+=w;v=i((g+s*b)*o)/o,k.shapeType="arc",k.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:d,end:v},m=(v+d)/2,m>.75*b&&(m-=2*h),k.slicedTranslation={translateX:i(l(m)*f),translateY:i(c(m)*f)},E=l(m)*e[2]/2,S=c(m)*e[2]/2,k.tooltipPos=[e[0]+E*.7,e[1]+S*.7],k.half=m<b/4?0:1,k.angle=m,p=a(p,x/2),k.labelPos=[e[0]+E+l(m)*x,e[1]+S+c(m)*x,e[0]+E+l(m)*p,e[1]+S+c(m)*p,e[0]+E,e[1]+S,x<0?"center":k.half?"right":"left",m],k.percentage=w*100,k.total=t}this.setTooltipPoints()},drawGraph:null,drawPoints:function(){var e=this,t=e.chart,n=t.renderer,r,i,s=e.options.shadow,o,u;s&&!e.shadowGroup&&(e.shadowGroup=n.g("shadow").add(e.group)),ln(e.points,function(t){i=t.graphic,u=t.shapeArgs,o=t.shadowGroup,s&&!o&&(o=t.shadowGroup=n.g("shadow").add(e.shadowGroup)),r=t.sliced?t.slicedTranslation:{translateX:0,translateY:0},o&&o.attr(r),i?i.animate(xt(u,r)):t.graphic=i=n.arc(u).setRadialReference(e.center).attr(t.pointAttr[t.selected?Y:Q]).attr({"stroke-linejoin":"round"}).attr(r).add(e.group).shadow(s,o),t.visible===!1&&t.setVisible(!1)})},drawDataLabels:function(){var e=this,t=e.data,n,r=e.chart,s=e.options.dataLabels,o=jt(s.connectorPadding,10),a=jt(s.connectorWidth,1),l=r.plotWidth,c=r.plotHeight,h,p,d=jt(s.softConnector,!0),v=s.distance,m=e.center,g=m[2]/2,y=m[1],b=v>0,w,E,S,x,T=[[],[]],N,C,k,L,A,O,M=[0,0,0,0],_=function(e,t){return t.y-e.y},D=function(e,t){e.sort(function(e,n){return e.angle!==undefined&&(n.angle-e.angle)*t})};if(!s.enabled&&!e._hasPointLabels)return;zn.prototype.drawDataLabels.apply(e),ln(t,function(e){e.dataLabel&&T[e.half].push(e)}),A=0;while(!x&&t[A])x=t[A]&&t[A].dataLabel&&(t[A].dataLabel.getBBox().height||21),A++;A=2;while(A--){var P=[],H,B=[],j=T[A],F,I=j.length,q;D(j,A-.5);if(v>0){for(F=y-g-v;F<=y+g+v;F+=x)P.push(F);H=P.length;if(I>H){L=[].concat(j),L.sort(_),O=I;while(O--)L[O].rank=O;O=I;while(O--)j[O].rank>=H&&j.splice(O,1);I=j.length}for(O=0;O<I;O++){n=j[O],S=n.labelPos;var R=9999,z,X;for(X=0;X<H;X++)z=f(P[X]-S[1]),z<R&&(R=z,q=X);if(q<O&&P[O]!==null)q=O;else if(H<I-O+q&&P[O]!==null){q=H-I+O;while(P[q]===null)q++}else while(P[q]===null)q++;B.push({i:q,y:P[q]}),P[q]=null}B.sort(_)}for(O=0;O<I;O++){var V,K;n=j[O],S=n.labelPos,w=n.dataLabel,k=n.visible===!1?U:W,K=S[1];if(v>0){V=B.pop(),q=V.i,C=V.y;if(K>C&&P[q+1]!==null||K<C&&P[q-1]!==null)C=K}else C=K;N=s.justify?m[0]+(A?-1:1)*(g+v):e.getX(q===0||q===P.length-1?K:C,A),w._attr={visibility:k,align:S[6]},w._pos={x:N+s.x+({left:o,right:-o}[S[6]]||0),y:C+s.y-10},w.connX=N,w.connY=C,this.options.size===null&&(E=w.width,N-E<o?M[3]=u(i(E-N+o),M[3]):N+E>l-o&&(M[1]=u(i(N+E-l+o),M[1])),C-x/2<0?M[0]=u(i(-C+x/2),M[0]):C+x/2>c&&(M[2]=u(i(C+x/2-c),M[2])))}}if(Yt(M)===0||this.verifyDataLabelOverflow(M))this.placeDataLabels(),b&&a&&ln(this.points,function(t){h=t.connector,S=t.labelPos,w=t.dataLabel,k=w._attr.visibility,w&&w._pos?(N=w.connX,C=w.connY,p=d?[$,N+(S[6]==="left"?5:-5),C,"C",N,C,2*S[2]-S[4],2*S[3]-S[5],S[2],S[3],J,S[4],S[5]]:[$,N+(S[6]==="left"?5:-5),C,J,S[2],S[3],J,S[4],S[5]],h?(h.animate({d:p}),h.attr("visibility",k)):t.connector=h=e.chart.renderer.path(p).attr({"stroke-width":a,stroke:s.connectorColor||t.color||"#606060",visibility:k}).add(e.group)):h&&(t.connector=h.destroy())})},verifyDataLabelOverflow:function(e){var t=this.center,n=this.options,r=n.center,i=n.minSize||80,s=i,o;return r[0]!==null?s=u(t[2]-u(e[1],e[3]),i):(s=u(t[2]-e[1]-e[3],i),t[0]+=(e[3]-e[1])/2),r[1]!==null?s=u(a(s,t[2]-u(e[0],e[2])),i):(s=u(a(s,t[2]-e[0]-e[2]),i),t[1]+=(e[0]-e[2])/2),s<t[2]?(t[2]=s,this.translate(t),ln(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels()):o=!0,o},placeDataLabels:function(){ln(this.points,function(e){var t=e.dataLabel,n;t&&(n=t._pos,n?(t.attr(t._attr),t[t.moved?"animate":"attr"](n),t.moved=!0):t&&t.attr({y:-999}))})},alignDataLabel:H,drawTracker:Kn.prototype.drawTracker,drawLegendSymbol:Xn.prototype.drawLegendSymbol,getSymbol:H};Zn=qt(zn,Zn),St.pie=Zn;var er="dataGrouping",tr=zn.prototype,nr=tr.processData,rr=tr.generatePoints,ir=tr.destroy,sr=tr.tooltipHeaderFormatter,or="number",ur={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:Nt(Z,["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],et,["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],tt,["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],nt,["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],rt,["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],it,["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],st,["%B %Y","%B","-%B %Y"],ot,["%Y","%Y","-%Y"])},ar={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},fr=[[Z,[1,2,5,10,20,25,50,100,200,500]],[et,[1,2,5,10,15,30]],[tt,[1,2,5,10,15,30]],[nt,[1,2,3,4,6,8,12]],[rt,[1]],[it,[1]],[st,[1,3,6]],[ot,null]],lr={sum:function(e){var t=e.length,n;if(!t&&e.hasNulls)n=null;else if(t){n=0;while(t--)n+=e[t]}return n},average:function(e){var t=e.length,n=lr.sum(e);return typeof n===or&&t&&(n/=t),n},open:function(t){return t.length?t[0]:t.hasNulls?null:e},high:function(t){return t.length?Yt(t):t.hasNulls?null:e},low:function(t){return t.length?Gt(t):t.hasNulls?null:e},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:e},ohlc:function(e,t,n,r){e=lr.open(e),t=lr.high(t),n=lr.low(n),r=lr.close(r);if(typeof e===or||typeof t===or||typeof n===or||typeof r===or)return[e,t,n,r]},range:function(e,t){e=lr.low(e),t=lr.high(t);if(typeof e===or||typeof t===or)return[e,t]}};tr.groupData=function(t,n,r,i){var s=this,o=s.data,u=s.options.data,a=[],f=[],l=t.length,c,h,p,d=!!n,v=[[],[],[],[]],m=typeof i=="function"?i:lr[i],g=s.pointArrayMap,y=g&&g.length,b;for(b=0;b<=l;b++){while(r[1]!==e&&t[b]>=r[1]||b===l){c=r.shift(),p=m.apply(0,v),p!==e&&(a.push(c),f.push(p)),v[0]=[],v[1]=[],v[2]=[],v[3]=[];if(b===l)break}if(b===l)break;if(g){var w=s.cropStart+b,E=o&&o[w]||s.pointClass.prototype.applyOptions.apply({series:s},[u[w]]),S,x;for(S=0;S<y;S++)x=E[g[S]],typeof x===or?v[S].push(x):x===null&&(v[S].hasNulls=!0)}else h=d?n[b]:null,typeof h===or?v[0].push(h):h===null&&(v[0].hasNulls=!0)}return[a,f]},tr.processData=function(){var e=this,t=e.chart,n=e.options,r=n[er],i=r&&jt(r.enabled,t.options._stock),s;e.forceCrop=i;if(nr.apply(e,arguments)===!1||!i)return;e.destroyGroupedData();var o,a=e.processedXData,f=e.processedYData,l=t.plotSizeX,c=e.xAxis,h=jt(c.groupPixelWidth,r.groupPixelWidth),p=a.length,d=t.series,v=e.pointRange;if(!c.groupPixelWidth){o=d.length;while(o--)d[o].xAxis===c&&d[o].options[er]&&(h=u(h,d[o].options[er].groupPixelWidth));c.groupPixelWidth=h}if(p>l/h||p&&r.forced){s=!0,e.points=null;var m=c.getExtremes(),g=m.min,y=m.max,b=c.getGroupIntervalFactor&&c.getGroupIntervalFactor(g,y,a)||1,w=h*(y-g)/l*b,E=(c.getNonLinearTimeTicks||Jt)($t(w,r.units||fr),g,y,null,a,e.closestPointRange),S=tr.groupData.apply(e,[a,f,E,r.approximation]),x=S[0],T=S[1];if(r.smoothed){o=x.length-1,x[o]=y;while(o--&&o>0)x[o]+=w/2;x[0]=g}e.currentDataGrouping=E.info,n.pointRange===null&&(e.pointRange=E.info.totalRange),e.closestPointRange=E.info.totalRange,e.processedXData=x,e.processedYData=T}else e.currentDataGrouping=null,e.pointRange=v;e.hasGroupedData=s},tr.destroyGroupedData=function(){var e=this.groupedData;ln(e||[],function(t,n){t&&(e[n]=t.destroy?t.destroy():null)}),this.groupedData=null},tr.generatePoints=function(){rr.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},tr.tooltipHeaderFormatter=function(e){var t=this,n=t.options,r=t.tooltipOptions,i=n.dataGrouping,s=r.xDateFormat,o,u=t.xAxis,a,f,l,c,h,p;if(u&&u.options.type==="datetime"&&i&&Ot(e.key)){a=t.currentDataGrouping,f=i.dateTimeLabelFormats;if(a)l=f[a.unitName],a.count===1?s=l[0]:(s=l[1],o=l[2]);else if(!s&&f)for(h in P)if(P[h]>=u.closestPointRange){s=f[h][0];break}c=M(s,e.key),o&&(c+=M(o,e.key+a.totalRange-1)),p=r.headerFormat.replace("{point.key}",c)}else p=sr.call(t,e);return p},tr.destroy=function(){var e=this,t=e.groupedData||[],n=t.length;while(n--)t[n]&&t[n].destroy();ir.apply(e)},zt(tr,"setOptions",function(e,t){var n=e.call(this,t),r=this.type,i=this.chart.options.plotOptions,s=En[r].dataGrouping;return ar[r]&&(s||(s=Tt(ur,ar[r])),n.dataGrouping=Tt(s,i.series&&i.series.dataGrouping,i[r].dataGrouping,t.dataGrouping)),this.chart.options._stock&&(this.requireSorting=!0),n}),En.ohlc=Tt(En.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{series.color};font-weight:bold">{series.name}</span><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null});var cr=qt(St.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],toYData:function(e){return[e.open,e.high,e.low,e.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){St.column.prototype.getAttribs.apply(this,arguments);var e=this,t=e.options,n=t.states,r=t.upColor||e.color,i=Tt(e.pointAttr),s=e.upColorProp;i[""][s]=r,i.hover[s]=n.hover.upColor||r,i.select[s]=n.select.upColor||r,ln(e.points,function(e){e.open<e.close&&(e.pointAttr=i)})},translate:function(){var e=this,t=e.yAxis;St.column.prototype.translate.apply(e),ln(e.points,function(e){e.open!==null&&(e.plotOpen=t.translate(e.open,0,1,0,1)),e.close!==null&&(e.plotClose=t.translate(e.close,0,1,0,1))})},drawPoints:function(){var t=this,n=t.points,r=t.chart,s,o,u,a,f,l,c,h;ln(n,function(n){n.plotY!==e&&(c=n.graphic,s=n.pointAttr[n.selected?"selected":""],a=s["stroke-width"]%2/2,h=i(n.plotX)+a,f=i(n.shapeArgs.width/2),l=["M",h,i(n.yBottom),"L",h,i(n.plotY)],n.open!==null&&(o=i(n.plotOpen)+a,l.push("M",h,o,"L",h-f,o)),n.close!==null&&(u=i(n.plotClose)+a,l.push("M",h,u,"L",h+f,u)),c?c.animate({d:l}):n.graphic=r.renderer.path(l).attr(s).add(t.group))})},animate:null});St.ohlc=cr,En.candlestick=Tt(En.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:En.ohlc.tooltip,threshold:null,upColor:"white"});var hr=qt(cr,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",drawPoints:function(){var t=this,n=t.points,s=t.chart,o,u,a,f,l,c,h,p,d,v;ln(n,function(n){p=n.graphic,n.plotY!==e&&(o=n.pointAttr[n.selected?"selected":""],c=o["stroke-width"]%2/2,h=i(n.plotX)+c,u=i(n.plotOpen)+c,a=i(n.plotClose)+c,f=r.min(u,a),l=r.max(u,a),v=i(n.shapeArgs.width/2),d=["M",h-v,l,"L",h-v,f,"L",h+v,f,"L",h+v,l,"L",h-v,l,"M",h,l,"L",h,i(n.yBottom),"M",h,f,"L",h,i(n.plotY),"Z"],p?p.animate({d:d}):n.graphic=s.renderer.path(d).attr(o).add(t.group))})}});St.candlestick=hr;var pr=Ln.prototype.symbols;En.flags=Tt(En.column,{dataGrouping:null,fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:7,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30}),St.flags=qt(St.column,{type:"flags",sorted:!1,noSharedTooltip:!0,takeOrdinalPosition:!1,forceCrop:!0,init:zn.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){St.column.prototype.translate.apply(this);var t=this,n=t.options,r=t.chart,i=t.points,s=i.length-1,o,u,a=n.onSeries,f=a&&r.get(a),l=f&&f.options.step,c=f&&f.points,h=c&&c.length,p=t.xAxis,d=p.getExtremes(),v,m,g;if(f&&f.visible&&h){m=c[h-1].x,i.sort(function(e,t){return e.x-t.x});while(h--&&i[s]){o=i[s],v=c[h];if(v.x<=o.x&&v.plotY!==e){o.x<=m&&(o.plotY=v.plotY,v.x<o.x&&!l&&(g=c[h+1],g&&g.plotY!==e&&(o.plotY+=(o.x-v.x)/(g.x-v.x)*(g.plotY-v.plotY)))),s--,h++;if(s<0)break}}}ln(i,function(t,n){t.plotY===e&&(t.x>=d.min&&t.x<=d.max?t.plotY=p.lineTop-r.plotTop:t.shapeArgs={}),u=i[n-1],u&&u.plotX===t.plotX&&(u.stackIndex===e&&(u.stackIndex=0),t.stackIndex=u.stackIndex+1)})},drawPoints:function(){var t=this,n,r=t.points,i=t.chart,s=i.renderer,o,u,a=t.options,f=a.y,l,c,h,p,d,v,m,g=a.lineWidth%2/2,y,b;p=r.length;while(p--)d=r[p],o=d.plotX+g,m=d.stackIndex,l=d.options.shape||a.shape,u=d.plotY,u!==e&&(u=d.plotY+f+g-(m!==e&&m*a.stackDistance)),y=m?e:d.plotX+g,b=m?e:d.plotY,v=d.graphic,u!==e?(n=d.pointAttr[d.selected?"select":""],v?v.attr({x:o,y:u,r:n.r,anchorX:y,anchorY:b}):v=d.graphic=s.label(d.options.title||a.title||"A",o,u,l,y,b,a.useHTML).css(Tt(a.style,d.style)).attr(n).attr({align:l==="flag"?"left":"center",width:a.width,height:a.height}).add(t.group).shadow(a.shadow),c=v.box,h=c.getBBox(),d.shapeArgs=xt(h,{x:o-(l==="flag"?0:c.attr("width")/2),y:u})):v&&(d.graphic=v.destroy())},drawTracker:function(){St.column.prototype.drawTracker.apply(this),S&&ln(this.points,function(e){e.graphic&&dn(e.graphic.element,"mouseover",function(){e.graphic.toFront()})})},animate:H}),pr.flag=function(e,t,n,r,i){var s=i&&i.anchorX||e,o=i&&i.anchorY||t;return["M",s,o,"L",e,t+r,e,t,e+n,t,e+n,t+r,e,t+r,"M",s,o,"Z"]},ln(["circle","square"],function(e){pr[e+"pin"]=function(t,n,r,i,s){var o=s&&s.anchorX,u=s&&s.anchorY,a=pr[e](t,n,r,i),f;return o&&u&&(f=n>u?n:n+i,a.push("M",o,f,"L",o,u)),a}}),N===An&&ln(["flag","circlepin","squarepin"],function(e){An.prototype.symbols[e]=pr[e]});var dr=Nt(ut,{x1:0,y1:0,x2:0,y2:1},at,[[0,"#FFF"],[1,"#CCC"]]),vr=[].concat(fr);vr[4]=[rt,[1,2,3,4]],vr[5]=[it,[1,2,3]],xt(O,{navigator:{handles:{backgroundColor:"#FFF",borderColor:"#666"},height:40,margin:10,maskFill:"rgba(255, 255, 255, 0.75)",outlineColor:"#444",outlineWidth:1,series:{type:"areaspline",color:"#4572A7",compare:null,fillOpacity:.4,dataGrouping:{approximation:"average",groupPixelWidth:2,smoothed:!0,units:vr},dataLabels:{enabled:!1},id:z+"navigator-series",lineColor:"#4572A7",lineWidth:1,marker:{enabled:!1},pointRange:0,shadow:!1},xAxis:{tickWidth:0,lineWidth:0,gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",x:3,y:-4}},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},title:{text:null},tickWidth:0}},scrollbar:{height:w?20:14,barBackgroundColor:dr,barBorderRadius:2,barBorderWidth:1,barBorderColor:"#666",buttonArrowColor:"#666",buttonBackgroundColor:dr,buttonBorderColor:"#666",buttonBorderRadius:2,buttonBorderWidth:1,minWidth:6,rifleColor:"#666",trackBackgroundColor:Nt(ut,{x1:0,y1:0,x2:0,y2:1},at,[[0,"#EEE"],[1,"#FFF"]]),trackBorderColor:"#CCC",trackBorderWidth:1,liveRedraw:S}}),mr.prototype={drawHandle:function(e,t){var n=this,r=n.chart,i=r.renderer,s=n.elementsToDestroy,o=n.handles,u=n.navigatorOptions.handles,a={fill:u.backgroundColor,stroke:u.borderColor,"stroke-width":1},f;n.rendered||(o[t]=i.g().css({cursor:"e-resize"}).attr({zIndex:4-t}).add(),f=i.rect(-4.5,0,9,16,3,1).attr(a).add(o[t]),s.push(f),f=i.path(["M",-1.5,4,"L",-1.5,12,"M",.5,4,"L",.5,12]).attr(a).add(o[t]),s.push(f)),o[t][r.isResizing?"animate":"attr"]({translateX:n.scrollerLeft+n.scrollbarHeight+parseInt(e,10),translateY:n.top+n.height/2-8})},drawScrollbarButton:function(e){var t=this,n=t.chart,r=n.renderer,i=t.elementsToDestroy,s=t.scrollbarButtons,o=t.scrollbarHeight,u=t.scrollbarOptions,a;t.rendered||(s[e]=r.g().add(t.scrollbarGroup),a=r.rect(-0.5,-0.5,o+1,o+1,u.buttonBorderRadius,u.buttonBorderWidth).attr({stroke:u.buttonBorderColor,"stroke-width":u.buttonBorderWidth,fill:u.buttonBackgroundColor}).add(s[e]),i.push(a),a=r.path(["M",o/2+(e?-1:1),o/2-3,"L",o/2+(e?-1:1),o/2+3,o/2+(e?2:-2),o/2]).attr({fill:u.buttonArrowColor}).add(s[e]),i.push(a)),e&&s[e].attr({translateX:t.scrollerWidth-o})},render:function(e,t,n,r){var o=this,f=o.chart,l=f.renderer,c,h,p,d,v=o.scrollbarGroup,m=o.navigatorGroup,g=o.scrollbar,y=o.xAxis,b=o.scrollbarTrack,w=o.scrollbarHeight,E=o.scrollbarEnabled,S=o.navigatorOptions,x=o.scrollbarOptions,T=x.minWidth,N=o.height,C=o.top,k=o.navigatorEnabled,L=S.outlineWidth,A=L/2,O,M,_,D,P,H=0,B=o.outlineHeight,j=x.barBorderRadius,F,I=x.barBorderWidth,q,R=C+A,z;if(isNaN(e))return;o.navigatorLeft=c=jt(y.left,f.plotLeft+w),o.navigatorWidth=h=jt(y.len,f.plotWidth-2*w),o.scrollerLeft=p=c-w,o.scrollerWidth=d=d=h+2*w;if(y.getExtremes){var X=f.xAxis[0].getExtremes(),V=X.dataMin===null,K=y.getExtremes(),Q=a(X.dataMin,K.dataMin),G=u(X.dataMax,K.dataMax);!V&&(Q!==K.min||G!==K.max)&&y.setExtremes(Q,G,!0,!1)}n=jt(n,y.translate(e)),r=jt(r,y.translate(t)),o.zoomedMax=M=a(Ct(u(n,r)),h),o.zoomedMin=O=o.fixedWidth?M-o.fixedWidth:u(Ct(a(n,r)),0),o.range=_=M-O,o.fixedWidth=null,o.rendered||(k&&(o.navigatorGroup=m=l.g("navigator").attr({zIndex:3}).add(),o.leftShade=l.rect().attr({fill:S.maskFill}).add(m),o.rightShade=l.rect().attr({fill:S.maskFill}).add(m),o.outline=l.path().attr({"stroke-width":L,stroke:S.outlineColor}).add(m)),E&&(o.scrollbarGroup=v=l.g("scrollbar").add(),F=x.trackBorderWidth,o.scrollbarTrack=b=l.rect().attr({y:-F%2/2,fill:x.trackBackgroundColor,stroke:x.trackBorderColor,"stroke-width":F,r:x.trackBorderRadius||0,height:w}).add(v),o.scrollbar=g=l.rect().attr({y:-I%2/2,height:w,fill:x.barBackgroundColor,stroke:x.barBorderColor,"stroke-width":I,r:j}).add(v),o.scrollbarRifles=l.path().attr({stroke:x.rifleColor,"stroke-width":1}).add(v))),z=f.isResizing?"animate":"attr",k&&(o.leftShade[z]({x:c,y:C,width:O,height:N}),o.rightShade[z]({x:c+M,y:C,width:h-M,height:N}),o.outline[z]({d:[$,p,R,J,c+O+A,R,c+O+A,R+B-w,$,c+M-A,R+B-w,J,c+M-A,R,p+d,R]}),o.drawHandle(O+A,0),o.drawHandle(M+A,1)),E&&(o.drawScrollbarButton(0),o.drawScrollbarButton(1),v[z]({translateX:p,translateY:i(R+N)}),b[z]({width:d}),D=w+O,P=_-I,P<T&&(H=(T-P)/2,P=T,D-=H),o.scrollbarPad=H,g[z]({x:s(D)+I%2/2,width:P}),q=w+O+_/2-.5,o.scrollbarRifles.attr({visibility:_>12?W:U})[z]({d:[$,q-3,w/4,J,q-3,2*w/3,$,q,w/4,J,q,2*w/3,$,q+3,w/4,J,q+3,2*w/3]})),o.scrollbarPad=H,o.rendered=!0},addEvents:function(){var e=this.chart.container,t=this.mouseDownHandler,n=this.mouseMoveHandler,r=this.mouseUpHandler,i;i=[[e,"mousedown",t],[e,"mousemove",n],[document,"mouseup",r]],C&&i.push([e,"touchstart",t],[e,"touchmove",n],[document,"touchend",r]),ln(i,function(e){dn.apply(null,e)}),this._events=i},removeEvents:function(){ln(this._events,function(e){vn.apply(null,e)}),this._events=e,this.navigatorEnabled&&this.baseSeries&&vn(this.baseSeries,"updatedData",this.updatedDataHandler)},init:function(){var e=this,t=e.chart,n,i,s=e.scrollbarHeight,o=e.navigatorOptions,f=e.height,l=e.top,c,h,p,d=document.body.style,v,m=e.baseSeries,g;e.mouseDownHandler=function(i){i=t.pointer.normalize(i);var s=e.zoomedMin,o=e.zoomedMax,u=e.top,l=e.scrollbarHeight,c=e.scrollerLeft,p=e.scrollerWidth,m=e.navigatorLeft,g=e.navigatorWidth,y=e.scrollbarPad,b=e.range,E=i.chartX,S=i.chartY,x=t.xAxis[0],T,N=w?10:7,C,k;S>u&&S<u+f+l&&(k=!e.scrollbarEnabled||S<u+f,k&&r.abs(E-s-m)<N?(e.grabbedLeft=!0,e.otherHandlePos=o):k&&r.abs(E-o-m)<N?(e.grabbedRight=!0,e.otherHandlePos=s):E>m+s-y&&E<m+o+y?(e.grabbedCenter=E,t.renderer.isSVG&&(v=d.cursor,d.cursor="ew-resize"),h=E-s):E>c&&E<c+p&&(k?C=E-m-b/2:E<m?C=s-a(10,b):E>c+p-l?C=s+a(10,b):C=E<m+s?s-b:o,C<0?C=0:C+b>g&&(C=g-b),C!==s&&(e.fixedWidth=b,x.ordinalPositions||(x.fixedRange=x.max-x.min),T=n.translate(C,!0),x.setExtremes(T,x.fixedRange?T+x.fixedRange:n.translate(C+b,!0),!0,!1,{trigger:"navigator"}))))},e.mouseMoveHandler=function(n){var r=e.scrollbarHeight,i=e.navigatorLeft,s=e.navigatorWidth,o=e.scrollerLeft,u=e.scrollerWidth,a=e.range,f;n.pageX!==0&&(n=t.pointer.normalize(n),f=n.chartX,f<i?f=i:f>o+u-r&&(f=o+u-r),e.grabbedLeft?(p=!0,e.render(0,0,f-i,e.otherHandlePos)):e.grabbedRight?(p=!0,e.render(0,0,e.otherHandlePos,f-i)):e.grabbedCenter&&(p=!0,f<h?f=h:f>s+h-a&&(f=s+h-a),e.render(0,0,f-h,f-h+a)),p&&e.scrollbarOptions.liveRedraw&&setTimeout(function(){e.mouseUpHandler(!1)},0))},e.mouseUpHandler=function(r){p&&t.xAxis[0].setExtremes(n.translate(e.zoomedMin,!0),n.translate(e.zoomedMax,!0),!0,!1,{trigger:"navigator"}),r!==!1&&(e.grabbedLeft=e.grabbedRight=e.grabbedCenter=p=h=null,d.cursor=v||"")},e.updatedDataHandler=function(){var n=m.xAxis,r=n.getExtremes(),i=r.min,s=r.max,o=r.dataMin,f=r.dataMax,l=s-i,h,p,d,v,y,b=c.xData,w=!!n.setExtremes;p=s>=b[b.length-1],h=i<=o,g||(c.options.pointStart=m.xData[0],c.setData(m.options.data,!1),y=!0),h&&(v=o,d=v+l),p&&(d=f,h||(v=u(d-l,c.xData[0]))),w&&(h||p)?n.setExtremes(v,d,!0,!1,{trigger:"updatedData"}):(y&&t.redraw(!1),e.render(u(i,o),a(s,f)))};var y=t.xAxis.length,b=t.yAxis.length;t.extraBottomMargin=e.outlineHeight+o.margin;if(e.navigatorEnabled){var E=m?m.options:{},S,x=E.data,T=o.series;g=T.data,e.xAxis=n=new jn(t,Tt({ordinal:m&&m.xAxis.options.ordinal},o.xAxis,{isX:!0,type:"datetime",index:y,height:f,offset:0,offsetLeft:s,offsetRight:-s,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1})),e.yAxis=i=new jn(t,Tt(o.yAxis,{alignTicks:!1,height:f,offset:0,index:b,zoomEnabled:!1})),S=Tt(E,T,{threshold:null,clip:!1,enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:y,yAxis:b,name:"Navigator",showInLegend:!1,isInternal:!0,visible:!0}),S.data=g||x,c=t.initSeries(S),m&&o.adaptToUpdatedData!==!1&&(dn(m,"updatedData",e.updatedDataHandler),m.userOptions.events=xt(m.userOptions.event,{updatedData:e.updatedDataHandler}))}else e.xAxis=n={translate:function(e,n){var r=t.xAxis[0].getExtremes(),i=t.plotWidth-2*s,o=r.dataMin,u=r.dataMax-o;return n?e*u/i+o:i*(e-o)/u}};e.series=c,zt(t,"getMargins",function(t){var r=this.legend,s=r.options;t.call(this),e.top=l=e.navigatorOptions.top||this.chartHeight-e.height-e.scrollbarHeight-this.options.chart.spacingBottom-(s.verticalAlign==="bottom"&&s.enabled?r.legendHeight+jt(s.margin,10):0),n&&i&&(n.options.top=i.options.top=l,n.setAxisSize(),i.setAxisSize())}),e.addEvents()},destroy:function(){var e=this;e.removeEvents(),ln([e.xAxis,e.yAxis,e.leftShade,e.rightShade,e.outline,e.scrollbarTrack,e.scrollbarRifles,e.scrollbarGroup,e.scrollbar],function(e){e&&e.destroy&&e.destroy()}),e.xAxis=e.yAxis=e.leftShade=e.rightShade=e.outline=e.scrollbarTrack=e.scrollbarRifles=e.scrollbarGroup=e.scrollbar=null,ln([e.scrollbarButtons,e.handles,e.elementsToDestroy],function(e){Zt(e)})}},Highcharts.Scroller=mr,zt(jn.prototype,"zoom",function(t,n,r){var i=this.chart,s=i.options,o=s.chart.zoomType,u,a=s.navigator,f=s.rangeSelector,l;return this.isXAxis&&(a&&a.enabled||f&&f.enabled)&&(o==="x"?i.resetZoomButton="blocked":o==="y"?l=!1:o==="xy"&&(u=this.previousZoom,Pt(n)?this.previousZoom=[this.min,this.max]:u&&(n=u[0],r=u[1],delete this.previousZoom))),l!==e?l:t.call(this,n,r)}),zt(Rn.prototype,"init",function(e,t,n){dn(this,"beforeRender",function(){var e=this.options;if(e.navigator.enabled||e.scrollbar.enabled)this.scroller=new mr(this)}),e.call(this,t,n)}),xt(O,{rangeSelector:{buttonTheme:{width:28,height:16,padding:1,r:0,stroke:"#68A",zIndex:7},inputPosition:{align:"right"},labelStyle:{color:"#666"}}}),O.lang=Tt(O.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),gr.prototype={clickButton:function(t,n,r){var i=this,s=i.chart,o=i.buttons,f=s.xAxis[0],l=f&&f.getExtremes(),c=s.scroller&&s.scroller.xAxis,h=c&&c.getExtremes&&c.getExtremes(),p=h&&h.dataMin,d=h&&h.dataMax,v=l&&l.dataMin,m=l&&l.dataMax,g=(Pt(v)&&Pt(p)?a:jt)(v,p),y=(Pt(m)&&Pt(d)?u:jt)(m,d),b,w=f&&a(l.max,y),E,S=new Date(w),x=n.type,T=n.count,N,C,k,L,A={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};if(g===null||y===null||t===i.selected)return;if(A[x])C=A[x]*T,b=u(w-C,g);else if(x==="month")S.setMonth(S.getMonth()-T),b=u(S.getTime(),g),C=2592e6*T;else if(x==="ytd"){if(!f){dn(s,"beforeRender",function(){i.clickButton(t,n)});return}y===e&&(g=Number.MAX_VALUE,y=Number.MIN_VALUE,ln(s.series,function(e){var t=e.xData;g=a(t[0],g),y=u(t[t.length-1],y)}),r=!1),E=new Date(y),L=E.getFullYear(),b=k=u(g||0,Date.UTC(L,0,1)),E=E.getTime(),w=a(y||E,E)}else x==="year"?(S.setFullYear(S.getFullYear()-T),b=u(g,S.getTime()),C=31536e6*T):x==="all"&&f&&(b=g,w=y);o[t]&&o[t].setState(2),f?(f.setExtremes(b,w,jt(r,1),0,{trigger:"rangeSelectorButton",rangeSelectorButton:n}),i.selected=t):(N=s.options.xAxis,N[0]=Tt(N[0],{range:C,min:k}),i.selected=t)},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(t){var n=this,r=t.options.rangeSelector,i=r.buttons||[].concat(n.defaultButtons),s=n.buttons=[],o=r.selected,u=n.blurInputs=function(){var e=n.minInput,t=n.maxInput;e&&e.blur(),t&&t.blur()};n.chart=t,t.extraTopMargin=25,n.buttonOptions=i,dn(t.container,"mousedown",u),dn(t,"resize",u),o!==e&&i[o]&&this.clickButton(o,i[o],!1),dn(t,"load",function(){dn(t.xAxis[0],"afterSetExtremes",function(){this.fixedRange!==this.max-this.min&&(s[n.selected]&&!t.renderer.forExport&&s[n.selected].setState(0),n.selected=null),this.fixedRange=null})})},setInputValue:function(e,t){var n=this.chart.options.rangeSelector;t&&(this[e+"Input"].HCTime=t),this[e+"Input"].value=M(n.inputEditDateFormat||"%Y-%m-%d",this[e+"Input"].HCTime),this[e+"DateBox"].attr({text:M(n.inputDateFormat||"%b %e, %Y",this[e+"Input"].HCTime)})},drawInput:function(t){var n=this,r=n.chart,i=r.options.chart.style,s=r.renderer,o=r.options.rangeSelector,u=O.lang,a=n.div,f=t==="min",l,c,h,p=this.inputGroup;this[t+"Label"]=c=s.label(u[f?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).attr({padding:1}).css(Tt(i,o.labelStyle)).add(p),p.offset+=c.width+5,this[t+"DateBox"]=h=s.label("",p.offset).attr({padding:1,width:90,height:16,stroke:"silver","stroke-width":1}).css(Tt({textAlign:"center"},i,o.inputStyle)).on("click",function(){n[t+"Input"].focus()}).add(p),p.offset+=h.width+(f?10:0),this[t+"Input"]=l=It("input",{name:t,className:z+"range-selector",type:"text"},xt({position:q,border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:i.fontSize,fontFamily:i.fontFamily,top:r.plotTop+X},o.inputStyle),a),l.onfocus=function(){Ft(this,{left:p.translateX+h.x+X,top:p.translateY+X,width:h.width-2+X,height:h.height-2+X,border:"2px solid silver"})},l.onblur=function(){Ft(this,{border:0,width:"1px",height:"1px"}),n.setInputValue(t)},l.onchange=function(){var t=l.value,i=Date.parse(t),s=r.xAxis[0].getExtremes();isNaN(i)&&(i=t.split("-"),i=Date.UTC(Ct(i[0]),Ct(i[1])-1,Ct(i[2]))),isNaN(i)||(O.global.useUTC||(i+=(new Date).getTimezoneOffset()*60*1e3),(f&&i>=s.dataMin&&i<=n.maxInput.HCTime||!f&&i<=s.dataMax&&i>=n.minInput.HCTime)&&r.xAxis[0].setExtremes(f?i:s.min,f?s.max:i,e,e,{trigger:"rangeSelectorInput"}))}},render:function(e,t){var n=this,r=n.chart,i=r.renderer,s=r.container,o=r.options,u=o.exporting&&r.options.navigation.buttonOptions,a=o.rangeSelector,f=n.buttons,l=O.lang,c=n.div,h=n.inputGroup,p=a.buttonTheme,d=a.inputEnabled!==!1,v=p&&p.states,m=r.plotLeft,g,y;n.rendered||(n.zoomText=i.text(l.rangeSelectorZoom,m,r.plotTop-10).css(a.labelStyle).add(),y=m+n.zoomText.getBBox().width+5,ln(n.buttonOptions,function(e,t){f[t]=i.button(e.text,y,r.plotTop-25,function(){n.clickButton(t,e),n.isActive=!0},p,v&&v.hover,v&&v.select).css({textAlign:"center"}).add(),y+=f[t].width+(a.buttonSpacing||0),n.selected===t&&f[t].setState(2)}),d&&(n.div=c=It("div",null,{position:"relative",height:0,zIndex:1}),s.parentNode.insertBefore(c,s),n.inputGroup=h=i.g("input-group").add(),h.offset=0,n.drawInput("min"),n.drawInput("max"))),d&&(g=r.plotTop-35,h.align(xt({y:g,width:h.offset,x:u&&g<(u.y||0)+u.height-o.chart.spacingTop?-40:0},a.inputPosition),!0,r.spacingBox),n.setInputValue("min",e),n.setInputValue("max",t)),n.rendered=!0},destroy:function(){var e=this.minInput,t=this.maxInput,n=this.chart,r=this.blurInputs,i;vn(n.container,"mousedown",r),vn(n,"resize",r),Zt(this.buttons),e&&(e.onfocus=e.onblur=e.onchange=null),t&&(t.onfocus=t.onblur=t.onchange=null);for(i in this)this[i]&&i!=="chart"&&(this[i].destroy?this[i].destroy():this[i].nodeType&&en(this[i])),this[i]=null}},zt(Rn.prototype,"init",function(e,t,n){dn(this,"init",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new gr(this))}),e.call(this,t,n)}),Highcharts.RangeSelector=gr,Rn.prototype.callbacks.push(function(e){function i(){t=e.xAxis[0].getExtremes(),n.render(u(t.min,t.dataMin),a(t.max,t.dataMax))}function s(){t=e.xAxis[0].getExtremes(),r.render(t.min,t.max)}function o(e){n.render(e.min,e.max)}function f(e){r.render(e.min,e.max)}function l(){n&&vn(e.xAxis[0],"afterSetExtremes",o),r&&(vn(e,"resize",s),vn(e.xAxis[0],"afterSetExtremes",f))}var t,n=e.scroller,r=e.rangeSelector;n&&(dn(e.xAxis[0],"afterSetExtremes",o),zt(e,"drawChartBox",function(e){var t=this.isDirtyBox;e.call(this),t&&i()}),i()),r&&(dn(e.xAxis[0],"afterSetExtremes",f),dn(e,"resize",s),s()),dn(e,"destroy",l)}),Highcharts.StockChart=function(e,t){var n=e.series,r,i={marker:{enabled:!1,states:{hover:{radius:5}}},states:{hover:{lineWidth:2}}},s={shadow:!1,borderWidth:0};return e.xAxis=pn(Bt(e.xAxis||{}),function(e){return Tt({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},e,{type:"datetime",categories:null})}),e.yAxis=pn(Bt(e.yAxis||{}),function(e){return r=e.opposite,Tt({labels:{align:r?"right":"left",x:r?-2:2,y:-2},showLastLabel:!1,title:{text:null}},e)}),e.series=null,e=Tt({chart:{panning:!0,pinchType:"x"},navigator:{enabled:!0},scrollbar:{enabled:!0},rangeSelector:{enabled:!0},title:{text:null},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:i,spline:i,area:i,areaspline:i,arearange:i,areasplinerange:i,column:s,columnrange:s,candlestick:s,ohlc:s}},e,{_stock:!0,chart:{inverted:!1}}),e.series=n,new Rn(e,t)},zt(In.prototype,"init",function(e,t,n){var r=n.chart.pinchType||"";e.call(this,t,n),this.pinchX=this.pinchHor=r.indexOf("x")!==-1,this.pinchY=this.pinchVert=r.indexOf("y")!==-1});var yr=tr.init,br=tr.processData,wr=Un.prototype.tooltipFormatter;tr.init=function(){yr.apply(this,arguments),this.setCompare(this.options.compare)},tr.setCompare=function(e){this.modifyValue=e==="value"||e==="percent"?function(t,n){var r=this.compareValue;return t=e==="value"?t-r:t=100*(t/r)-100,n&&(n.change=t),t}:null,this.chart.hasRendered&&(this.isDirty=!0)},tr.processData=function(){var e=this;br.apply(this,arguments);if(e.options.compare){var t=0,n=e.processedXData,r=e.processedYData,i=r.length,s=e.xAxis.getExtremes().min;for(;t<i;t++)if(typeof r[t]===or&&n[t]>=s){e.compareValue=r[t];break}}},jn.prototype.setCompare=function(e,t){this.isXAxis||(ln(this.series,function(t){t.setCompare(e)}),jt(t,!0)&&this.chart.redraw())},Un.prototype.tooltipFormatter=function(e){var t=this;return e=e.replace("{point.change}",(t.change>0?"+":"")+Rt(t.change,t.series.tooltipOptions.changeDecimals||2)),wr.apply(this,[e])},function(){var t=tr.init,n=tr.getSegments;tr.init=function(){var n=this,r,i;t.apply(n,arguments),r=n.chart,i=n.xAxis,i&&i.options.ordinal&&dn(n,"updatedData",function(){delete i.ordinalIndex});if(i&&i.options.ordinal&&!i.hasOrdinalExtension){i.hasOrdinalExtension=!0,i.beforeSetTickPositions=function(){var t=this,n,r=[],s=!1,o,u=t.getExtremes(),a=u.min,f=u.max,l,c,h,p;if(t.options.ordinal){ln(t.series,function(e,t){if(e.visible!==!1&&e.takeOrdinalPosition!==!1){r=r.concat(e.processedXData),n=r.length;if(t&&n){r.sort(function(e,t){return e-t}),t=n-1;while(t--)r[t]===r[t+1]&&r.splice(t,1)}}}),n=r.length;if(n>2){o=r[1]-r[0],p=n-1;while(p--&&!s)r[p+1]-r[p]!==o&&(s=!0)}s?(t.ordinalPositions=r,l=i.val2lin(a,!0),c=i.val2lin(f,!0),t.ordinalSlope=h=(f-a)/(c-l),t.ordinalOffset=a-l*h):t.ordinalPositions=t.ordinalSlope=t.ordinalOffset=e}},i.val2lin=function(e,t){var n=this,r=n.ordinalPositions;if(!r)return e;var i=r.length,s,o,u;s=i;while(s--)if(r[s]===e){u=s;break}s=i-1;while(s--)if(e>r[s]||s===0){o=(e-r[s])/(r[s+1]-r[s]),u=s+o;break}return t?u:n.ordinalSlope*(u||0)+n.ordinalOffset},i.lin2val=function(t,n){var r=this,i=r.ordinalPositions;if(!i)return t;var o=r.ordinalSlope,u=r.ordinalOffset,a=i.length-1,f,l,c;if(n)t<0?t=i[0]:t>a?t=i[a]:(a=s(t),c=t-a);else while(a--){f=o*a+u;if(t>=f){l=o*(a+1)+u,c=(t-f)/(l-f);break}}return c!==e&&i[a]!==e?i[a]+(c?c*(i[a+1]-i[a]):0):t},i.getExtendedPositions=function(){var e=i.series[0].currentDataGrouping,t=i.ordinalIndex,n=e?e.count+e.unitName:"raw",s=i.getExtremes(),o,u;return t||(t=i.ordinalIndex={}),t[n]||(o={series:[],getExtremes:function(){return{min:s.dataMin,max:s.dataMax}},options:{ordinal:!0}},ln(i.series,function(t){u={xAxis:o,xData:t.xData,chart:r,destroyGroupedData:H},u.options={dataGrouping:e?{enabled:!0,forced:!0,approximation:"open",units:[[e.unitName,[e.count]]]}:{enabled:!1}},t.processData.apply(u),o.series.push(u)}),i.beforeSetTickPositions.apply(o),t[n]=o.ordinalPositions),t[n]},i.getGroupIntervalFactor=function(e,t,n){var r=0,i=n.length,o=[],f;for(;r<i-1;r++)o[r]=n[r+1]-n[r];return o.sort(function(e,t){return e-t}),f=o[s(i/2)],e=u(e,n[0]),t=a(t,n[i-1]),i*f/(t-e)},i.postProcessTickInterval=function(e){var t=this.ordinalSlope;return t?e/(t/i.closestPointRange):e},i.getNonLinearTimeTicks=function(t,n,r,o,u,a,f){var l=0,c=0,h,p={},d,v,m,g,y=[],b=-Number.MAX_VALUE,w=i.options.tickPixelInterval;if(!u||u.length===1||n===e)return Jt(t,n,r,o);m=u.length;for(;c<m;c++){g=c&&u[c-1]>r,u[c]<n&&(l=c);if(c===m-1||u[c+1]-u[c]>a*5||g){if(u[c]>b){h=Jt(t,u[l],u[c],o);while(h.length&&h[0]<=b)h.shift();h.length&&(b=h[h.length-1]),y=y.concat(h)}l=c+1}if(g)break}v=h.info;if(f&&v.unitRange<=P[nt]){c=y.length-1;for(l=1;l<c;l++)(new Date(y[l]))[dt]()!==(new Date(y[l-1]))[dt]()&&(p[y[l]]=rt,d=!0);d&&(p[y[0]]=rt),v.higherRanks=p}y.info=v;if(f&&Pt(w)){var E=y.length,S=E,x,T,N=[],C,k,L,A=[];while(S--)T=i.translate(y[S]),C&&(A[S]=C-T),N[S]=C=T;A.sort(),k=A[s(A.length/2)],k<w*.6&&(k=null),S=y[E-1]>r?E-1:E,C=undefined;while(S--)T=N[S],L=C-T,C&&L<w*.8&&(k===null||L<k*.8)?(p[y[S]]&&!p[y[S+1]]?(x=S+1,C=T):x=S,y.splice(x,1)):C=T}return y};var o=r.pan;r.pan=function(e){var t=r.xAxis[0],n=!1;if(t.options.ordinal&&t.series.length){var i=r.mouseDownX,s=t.getExtremes(),l=s.dataMax,c=s.min,h=s.max,p,d,v=r.hoverPoints,m=t.closestPointRange,g=t.translationSlope*(t.ordinalSlope||m),y=(i-e)/g,b={ordinalPositions:t.getExtendedPositions()},w,E,S=t.lin2val,x=t.val2lin,T;b.ordinalPositions?f(y)>1&&(v&&ln(v,function(e){e.setState()}),y<0?(E=b,T=t.ordinalPositions?t:b):(E=t.ordinalPositions?t:b,T=b),w=T.ordinalPositions,l>w[w.length-1]&&w.push(l),p=S.apply(E,[x.apply(E,[c,!0])+y,!0]),d=S.apply(T,[x.apply(T,[h,!0])+y,!0]),p>a(s.dataMin,c)&&d<u(l,h)&&t.setExtremes(p,d,!0,!1,{trigger:"pan"}),r.mouseDownX=e,Ft(r.container,{cursor:"move"})):n=!0}else n=!0;n&&o.apply(r,arguments)}}},tr.getSegments=function(){var e=this,t,r=e.options.gapSize;n.apply(e),r&&(t=e.segments,ln(t,function(n,i){var s=n.length-1;while(s--)n[s+1].x-n[s].x>e.xAxis.closestPointRange*r&&t.splice(i+1,0,n.splice(s+1,n.length-s))}))}}(),xt(Highcharts,{Axis:jn,Chart:Rn,Color:Cn,Legend:qn,Pointer:In,Point:Un,Tick:Pn,Tooltip:Fn,Renderer:N,Series:zn,SVGElement:kn,SVGRenderer:Ln,arrayMin:Gt,arrayMax:Yt,charts:B,dateFormat:M,format:Xt,pathAnim:D,getOptions:Nn,hasBidiBug:x,isTouchDevice:w,numberFormat:Rt,seriesTypes:St,setOptions:Tn,addEvent:dn,removeEvent:vn,createElement:It,discardElement:en,css:Ft,each:ln,extend:xt,map:pn,merge:Tt,pick:jt,splat:Bt,extendClass:qt,pInt:Ct,wrap:zt,svg:S,canvas:T,vml:!S&&!T,product:j,version:F})}(),define("highcharts",["jquery"],function(e){return function(){var t,n;return t||e.Highcharts}}(this)),!function(e,t,n,r){e.fn.accordion=function(t){var n,i=e(this),s=(new Date).getTime(),o=[],u=arguments[0],f="string"==typeof u,l=[].slice.call(arguments,1);return i.each(function(){var p,v=e.isPlainObject(t)?e.extend(!0,{},e.fn.accordion.settings,t):e.extend({},e.fn.accordion.settings),m=v.className,y=v.namespace,w=v.selector,E=v.error,S="."+y,x="module-"+y,T=i.selector||"",N=e(this),C=N.find(w.title),k=N.find(w.content),L=this,A=N.data(x);p={initialize:function(){p.debug("Initializing accordion with bound events",N),C.on("click"+S,p.event.click),p.instantiate()},instantiate:function(){A=p,N.data(x,p)},destroy:function(){p.debug("Destroying previous accordion for",N),N.removeData(x),C.off(S)},event:{click:function(){p.verbose("Title clicked",this);var t=e(this),n=C.index(t);p.toggle(n)},resetStyle:function(){p.verbose("Resetting styles on element",this),e(this).attr("style","").removeAttr("style").children().attr("style","").removeAttr("style")}},toggle:function(e){p.debug("Toggling content content at index",e);var t=C.eq(e),n=t.next(k),r=n.is(":visible");r?v.collapsible?p.close(e):p.debug("Cannot close accordion content collapsing is disabled"):p.open(e)},open:function(t){var n=C.eq(t),r=n.next(k),i=n.siblings(w.title).filter("."+m.active),s=i.next(C),o=i.size()>0;r.is(":animated")||(p.debug("Opening accordion content",n),v.exclusive&&o&&(i.removeClass(m.active),s.stop().children().animate({opacity:0},v.duration,p.event.resetStyle).end().slideUp(v.duration,v.easing,function(){s.removeClass(m.active).attr("style","").removeAttr("style").children().attr("style","").removeAttr("style")})),n.addClass(m.active),r.stop().children().attr("style","").removeAttr("style").end().slideDown(v.duration,v.easing,function(){r.addClass(m.active).attr("style","").removeAttr("style"),e.proxy(v.onOpen,r)(),e.proxy(v.onChange,r)()}))},close:function(t){var n=C.eq(t),r=n.next(k);p.debug("Closing accordion content",r),n.removeClass(m.active),r.removeClass(m.active).show().stop().children().animate({opacity:0},v.duration,p.event.resetStyle).end().slideUp(v.duration,v.easing,function(){r.attr("style","").removeAttr("style"),e.proxy(v.onClose,r)(),e.proxy(v.onChange,r)()})},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,v,t);else{if(n===r)return v[t];v[t]=n}},internal:function(t,n){return p.debug("Changing internal",t,n),n===r?p[t]:(e.isPlainObject(t)?e.extend(!0,p,t):p[t]=n,void 0)},debug:function(){v.debug&&(v.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,v.name+":"),p.debug.apply(console,arguments)))},verbose:function(){v.verbose&&v.debug&&(v.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,v.name+":"),p.verbose.apply(console,arguments)))},error:function(){p.error=Function.prototype.bind.call(console.error,console,v.name+":"),p.error.apply(console,arguments)},performance:{log:function(e){var t,n,r;v.performance&&(t=(new Date).getTime(),r=s||t,n=t-r,s=t,o.push({Element:L,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,100)},display:function(){var t=v.name+":",n=0;s=!1,clearTimeout(p.performance.timer),e.each(o,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",T&&(t+=" '"+T+"'"),(console.group!==r||console.table!==r)&&o.length>0&&(console.groupCollapsed(t),console.table?console.table(o):e.each(o,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),o=[]}},invoke:function(t,i,s){var o,u,f;return i=i||l,s=L||s,"string"==typeof t&&A!==r&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var s=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(A[s])&&n!=o)A=A[s];else{if(A[s]!==r)return u=A[s],!1;if(!e.isPlainObject(A[i])||n==o)return A[i]!==r?(u=A[i],!1):(p.error(E.method,t),!1);A=A[i]}})),e.isFunction(u)?f=u.apply(s,i):u!==r&&(f=u),e.isArray(n)?n.push(f):n!==r?n=[n,f]:f!==r&&(n=f),u}},f?(A===r&&p.initialize(),p.invoke(u)):(A!==r&&p.destroy(),p.initialize())}),n!==r?n:this},e.fn.accordion.settings={name:"Accordion",namespace:"accordion",debug:!0,verbose:!0,performance:!0,exclusive:!0,collapsible:!0,duration:500,easing:"easeInOutQuint",onOpen:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active"},selector:{title:".title",content:".content"}},e.extend(e.easing,{easeInOutQuint:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n}})}(jQuery,window,document),function(e,t,n,r){e.api=e.fn.api=function(n){var i,s,o=e.extend(!0,{},e.api.settings,n),u="function"!=typeof this?this:e("<div/>"),f=o.stateContext?e(o.stateContext):e(u),l="object"==typeof this?e(u):f,c=this,h=(new Date).getTime(),p=[],v=l.selector||"",m=o.namespace+"-module",g=o.className,y=o.metadata,w=o.error,E=l.data(m),S=arguments[0],x=E!==r&&"string"==typeof S,T=[].slice.call(arguments,1);return i={initialize:function(){var n,s,u,c,h,p,v=(new Date).getTime(),m={},E={};return o.serializeForm&&e(this).toJSON()!==r&&(m=i.get.formData(),i.debug("Adding form data to API Request",m),e.extend(!0,o.data,m)),n=e.proxy(o.beforeSend,l)(o),n===r||n?(c=i.get.url(i.get.templateURL()))?(u=e.Deferred().always(function(){o.stateContext&&f.removeClass(g.loading),e.proxy(o.complete,l)()}).done(function(t){i.debug("API request successful"),"json"==o.dataType?t.error!==r?e.proxy(o.failure,f)(t.error,o,l):e.isArray(t.errors)?e.proxy(o.failure,f)(t.errors[0],o,l):e.proxy(o.success,f)(t,o,l):e.proxy(o.success,f)(t,o,l)}).fail(function(t,n,s){var u,l=o.error[n]!==r?o.error[n]:s;if(t!==r)if(t.readyState!==r&&4==t.readyState){if(200!=t.status&&s!==r&&""!==s)i.error(c.statusMessage+s);else if("error"==n&&"json"==o.dataType)try{u=e.parseJSON(t.responseText),u&&u.error!==r&&(l=u.error)}catch(c){i.error(c.JSONParse)}f.removeClass(g.loading).addClass(g.error),o.errorLength>0&&setTimeout(function(){f.removeClass(g.error)},o.errorLength),i.debug("API Request error:",l),e.proxy(o.failure,f)(l,o,this)}else i.debug("Request Aborted (Most likely caused by page change)")}),e.extend(!0,E,o,{success:function(){},failure:function(){},complete:function(){},type:o.method||o.type,data:h,url:c,beforeSend:o.beforeXHR}),o.stateContext&&f.addClass(g.loading),o.progress&&(i.verbose("Adding progress events"),e.extend(!0,E,{xhr:function(){var n=new t.XMLHttpRequest;return n.upload.addEventListener("progress",function(t){var n;t.lengthComputable&&(n=Math.round(t.loaded/t.total*1e4)/100+"%",e.proxy(o.progress,f)(n,t))},!1),n.addEventListener("progress",function(t){var n;t.lengthComputable&&(n=Math.round(t.loaded/t.total*1e4)/100+"%",e.proxy(o.progress,f)(n,t))},!1),n}})),i.verbose("Creating AJAX request with settings: ",E),p=e.ajax(E).always(function(){s=o.loadingLength-((new Date).getTime()-v),o.loadingDelay=0>s?0:s}).done(function(e){var t=this;setTimeout(function(){u.resolveWith(t,[e])},o.loadingDelay)}).fail(function(e,t,n){var r=this;"abort"!=t?setTimeout(function(){u.rejectWith(r,[e,t,n])},o.loadingDelay):f.removeClass(g.error).removeClass(g.loading)}),o.stateContext&&l.data(y.promise,u).data(y.xhr,p),void 0):(i.error(w.missingURL),i.reset(),void 0):(i.error(w.beforeSend),i.reset(),void 0)},get:{formData:function(){return l.closest("form").toJSON()},templateURL:function(){var e,t=l.data(o.metadata.action)||o.action||!1;return t&&(i.debug("Creating url for: ",t),o.api[t]!==r?e=o.api[t]:i.error(w.missingAction)),o.url&&(e=o.url,i.debug("Getting url",e)),e},url:function(t,n){var s;return t&&(s=t.match(o.regExpTemplate),n=n||o.urlData,s&&(i.debug("Looking for URL variables",s),e.each(s,function(o,u){var f=u.substr(2,u.length-3),c=e.isPlainObject(n)&&n[f]!==r?n[f]:l.data(f)!==r?l.data(f):n[f];if(i.verbose("Looking for variable",f,l,l.data(f),n[f]),c===!1)i.debug("Removing variable from URL",s),t=t.replace("/"+u,"");else{if(c===r||!c)return i.error(w.missingParameter+f),t=!1,!1;t=t.replace(u,c)}}))),t}},reset:function(){l.data(y.promise,!1).data(y.xhr,!1),f.removeClass(g.error).removeClass(g.loading)},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,o,t);else{if(n===r)return o[t];o[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,i,t);else{if(n===r)return i[t];i[t]=n}},debug:function(){o.debug&&(o.performance?i.performance.log(arguments):(i.debug=Function.prototype.bind.call(console.info,console,o.name+":"),i.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?i.performance.log(arguments):(i.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),i.verbose.apply(console,arguments)))},error:function(){i.error=Function.prototype.bind.call(console.error,console,o.name+":"),i.error.apply(console,arguments)},performance:{log:function(e){var t,n,r;o.performance&&(t=(new Date).getTime(),r=h||t,n=t-r,h=t,p.push({Element:c,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(i.performance.timer),i.performance.timer=setTimeout(i.performance.display,100)},display:function(){var t=o.name+":",n=0;h=!1,clearTimeout(i.performance.timer),e.each(p,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",v&&(t+=" '"+v+"'"),(console.group!==r||console.table!==r)&&p.length>0&&(console.groupCollapsed(t),console.table?console.table(p):e.each(p,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),p=[]}},invoke:function(t,n,o){var u,f,l;return n=n||T,o=c||o,"string"==typeof t&&E!==r&&(t=t.split(/[\. ]/),u=t.length-1,e.each(t,function(n,s){var o=n!=u?s+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(E[s])&&n!=u)E=E[s];else{if(!e.isPlainObject(E[o])||n==u)return E[s]!==r?(f=E[s],!1):E[o]!==r?(f=E[o],!1):(i.error(w.method,t),!1);E=E[o]}})),e.isFunction(f)?l=f.apply(o,n):f!==r&&(l=f),e.isArray(s)?s.push(l):s!==r?s=[s,l]:l!==r&&(s=l),f}},x?(E===r&&i.initialize(),i.invoke(S)):(E!==r&&i.destroy(),i.initialize()),s!==r?s:this},e.fn.apiButton=function(t){return e(this).each(function(){var n,r=e(this),i=e(this).selector||"",s=e.isFunction(t)?e.extend(!0,{},e.api.settings,e.fn.apiButton.settings,{stateContext:this,success:t}):e.extend(!0,{},e.api.settings,e.fn.apiButton.settings,{stateContext:this},t);n={initialize:function(){s.context&&""!==i?e(s.context).on(i,"click."+s.namespace,n.click):r.on("click."+s.namespace,n.click)},click:function(){s.filter&&0!==e(this).filter(s.filter).size()||e.proxy(e.api,this)(s)}},n.initialize()}),this},e.api.settings={name:"API",namespace:"api",debug:!0,verbose:!0,performance:!0,api:{},beforeSend:function(e){return e},beforeXHR:function(){},success:function(){},complete:function(){},failure:function(){},progress:!1,error:{missingAction:"API action used but no url was defined",missingURL:"URL not specified for the API action",missingParameter:"Missing an essential URL parameter: ",timeout:"Your request timed out",error:"There was an error with your request",parseError:"There was an error parsing your request",JSONParse:"JSON could not be parsed during error handling",statusMessage:"Server gave an error: ",beforeSend:"The before send function has aborted the request",exitConditions:"API Request Aborted. Exit conditions met"},className:{loading:"loading",error:"error"},metadata:{action:"action",promise:"promise",xhr:"xhr"},regExpTemplate:/\{\$([A-z]+)\}/g,action:!1,url:!1,urlData:!1,serializeForm:!1,stateContext:!1,method:"get",data:{},dataType:"json",cache:!0,loadingLength:200,errorLength:2e3},e.fn.apiButton.settings={filter:".disabled, .loading",context:!1,stateContext:!1}}(jQuery,window,document),function(e,t,n,r){e.fn.colorize=function(t){var n=e.extend(!0,{},e.fn.colorize.settings,t),i=arguments||!1;return e(this).each(function(t){var s,o,u,f,l,h,p,v,m=e(this),g=e("<canvas />")[0],y=e("<canvas />")[0],b=e("<canvas />")[0],w=new Image,E=n.colors,S=(n.paths,n.namespace),x=n.error,T=m.data("module-"+S);return v={checkPreconditions:function(){return v.debug("Checking pre-conditions"),!e.isPlainObject(E)||e.isEmptyObject(E)?(v.error(x.undefinedColors),!1):!0},async:function(e){n.async?setTimeout(e,0):e()},getMetadata:function(){v.debug("Grabbing metadata"),f=m.data("image")||n.image||r,l=m.data("name")||n.name||t,h=n.width||m.width(),p=n.height||m.height(),(0===h||0===p)&&v.error(x.undefinedSize)},initialize:function(){v.debug("Initializing with colors",E),v.checkPreconditions()&&v.async(function(){v.getMetadata(),v.canvas.create(),v.draw.image(function(){v.draw.colors(),v.canvas.merge()}),m.data("module-"+S,v)})},redraw:function(){v.debug("Redrawing image"),v.async(function(){v.canvas.clear(),v.draw.colors(),v.canvas.merge()})},change:{color:function(e,t){return v.debug("Changing color",e),E[e]===r?(v.error(x.missingColor),!1):(E[e]=t,v.redraw(),void 0)}},canvas:{create:function(){v.debug("Creating canvases"),g.width=h,g.height=p,y.width=h,y.height=p,b.width=h,b.height=p,s=g.getContext("2d"),o=y.getContext("2d"),u=b.getContext("2d"),m.append(g),s=m.children("canvas")[0].getContext("2d")},clear:function(){v.debug("Clearing canvas"),u.fillStyle="#FFFFFF",u.fillRect(0,0,h,p)},merge:function(){return e.isFunction(s.blendOnto)?(s.putImageData(o.getImageData(0,0,h,p),0,0),u.blendOnto(s,"multiply"),void 0):(v.error(x.missingPlugin),void 0)}},draw:{image:function(e){v.debug("Drawing image"),e=e||function(){},f?(w.src=f,w.onload=function(){o.drawImage(w,0,0),e()}):(v.error(x.noImage),e())},colors:function(){v.debug("Drawing color overlays",E),e.each(E,function(e,t){n.onDraw(u,l,e,t)})}},debug:function(e,t){n.debug&&(t!==r?console.info(n.name+": "+e,t):console.info(n.name+": "+e))},error:function(e){console.warn(n.name+": "+e)},invoke:function(t,i,s){var o;return s=s||Array.prototype.slice.call(arguments,2),"string"==typeof t&&T!==r&&(t=t.split("."),e.each(t,function(t,r){return e.isPlainObject(T[r])?(T=T[r],!0):e.isFunction(T[r])?(o=T[r],!0):(v.error(n.error.method),!1)})),e.isFunction(o)?o.apply(i,s):!1}},T!==r&&i?("invoke"==i[0]&&(i=Array.prototype.slice.call(i,1)),v.invoke(i[0],this,Array.prototype.slice.call(i,1))):(v.initialize(),void 0)}),this},e.fn.colorize.settings={name:"Image Colorizer",debug:!0,namespace:"colorize",onDraw:function(){},async:!0,colors:{},metadata:{image:"image",name:"name"},error:{noImage:"No tracing image specified",undefinedColors:"No default colors specified.",missingColor:"Attempted to change color that does not exist",missingPlugin:"Blend onto plug-in must be included",undefinedHeight:"The width or height of image canvas could not be automatically determined. Please specify a height."}}}(jQuery,window,document),function(e,t,n,r){e.fn.form=function(t,i){var s,o=e(this),u=e.extend(!0,{},e.fn.form.settings,i),f=e.extend({},e.fn.form.settings.defaults,t),l=u.namespace,h=u.metadata,p=u.selector,v=u.className,m=u.error,g="."+l,y="module-"+l,b=o.selector||"",w=(new Date).getTime(),E=[],S=arguments[0],x="string"==typeof S,T=[].slice.call(arguments,1);return o.each(function(){var t,i=e(this),l=e(this).find(p.field),N=e(this).find(p.group),C=e(this).find(p.message),L=(e(this).find(p.prompt),e(this).find(p.submit)),A=[],O=this,M=i.data(y);t={initialize:function(){t.verbose("Initializing form validation",i,f,u),u.keyboardShortcuts&&l.on("keydown"+g,t.event.field.keydown),i.on("submit"+g,t.validate.form),l.on("blur"+g,t.event.field.blur),L.on("click"+g,t.submit),l.on(t.get.changeEvent()+g,t.event.field.change),t.instantiate()},instantiate:function(){t.verbose("Storing instance of module",t),M=t,i.data(y,t)},destroy:function(){t.verbose("Destroying previous module",M),i.off(g).removeData(y)},refresh:function(){t.verbose("Refreshing selector cache"),l=i.find(p.field)},submit:function(){t.verbose("Submitting form",i),i.submit()},event:{field:{keydown:function(n){var r=e(this),i=n.which,s={enter:13,escape:27};return i==s.escape&&(t.verbose("Escape key pressed blurring field"),r.blur()),!n.ctrlKey&&i==s.enter&&r.is(p.input)?(t.debug("Enter key pressed, submitting form"),L.addClass(v.down),r.one("keyup"+g,t.event.field.keyup),n.preventDefault(),!1):void 0},keyup:function(){t.verbose("Doing keyboard shortcut form submit"),L.removeClass(v.down),t.submit()},blur:function(){var n=e(this),r=n.closest(N);r.hasClass(v.error)?(t.debug("Revalidating field",n,t.get.validation(n)),t.validate.field(t.get.validation(n))):("blur"==u.on||"change"==u.on)&&t.validate.field(t.get.validation(n))},change:function(){var n=e(this),r=n.closest(N);("change"==u.on||r.hasClass(v.error)&&u.revalidate)&&(clearTimeout(t.timer),t.timer=setTimeout(function(){t.debug("Revalidating field",n,t.get.validation(n)),t.validate.field(t.get.validation(n))},u.delay))}}},get:{changeEvent:function(){return n.createElement("input").oninput!==r?"input":n.createElement("input").onpropertychange!==r?"propertychange":"keyup"},field:function(n){return t.verbose("Finding field with identifier",n),l.filter("#"+n).size()>0?l.filter("#"+n):l.filter('[name="'+n+'"]').size()>0?l.filter('[name="'+n+'"]'):l.filter("[data-"+h.validate+'="'+n+'"]').size()>0?l.filter("[data-"+h.validate+'="'+n+'"]'):e("<input/>")},validation:function(n){var r;return e.each(f,function(e,i){t.get.field(i.identifier).get(0)==n.get(0)&&(r=i)}),r||!1}},has:{field:function(e){return t.verbose("Checking for existence of a field with identifier",e),l.filter("#"+e).size()>0?!0:l.filter('[name="'+e+'"]').size()>0?!0:l.filter("[data-"+h.validate+'="'+e+'"]').size()>0?!0:!1}},add:{prompt:function(n,s){var o=t.get.field(n.identifier),f=o.closest(N),l=f.find(p.prompt),c=0!==l.size();t.verbose("Adding inline error",n),f.addClass(v.error),u.inline&&(c||(l=u.templates.prompt(s),l.appendTo(f)),l.html(s[0]),c||(u.transition&&e.fn.transition!==r&&i.transition("is supported")?(t.verbose("Displaying error with css transition",u.transition),l.transition(u.transition+" in",u.duration)):(t.verbose("Displaying error with fallback javascript animation"),l.fadeIn(u.duration))))},errors:function(e){t.debug("Adding form error messages",e),C.html(u.templates.error(e))}},remove:{prompt:function(n){var s=t.get.field(n.identifier),o=s.closest(N),f=o.find(p.prompt);o.removeClass(v.error),u.inline&&f.is(":visible")&&(t.verbose("Removing prompt for field",n),u.transition&&e.fn.transition!==r&&i.transition("is supported")?f.transition(u.transition+" out",u.duration,function(){f.remove()}):f.fadeOut(u.duration,function(){f.remove()}))}},validate:{form:function(n){var r=!0;return A=[],e.each(f,function(e,n){t.validate.field(n)||(r=!1)}),r?(t.debug("Form has no validation errors, submitting"),i.removeClass(v.error).addClass(v.success),e.proxy(u.onSuccess,this)(n),void 0):(t.debug("Form has errors"),i.addClass(v.error),u.inline||t.add.errors(A),e.proxy(u.onFailure,this)(A))},field:function(n){var i=t.get.field(n.identifier),s=!0,o=[];return n.rules!==r&&e.each(n.rules,function(e,r){t.has.field(n.identifier)&&!t.validate.rule(n,r)&&(t.debug("Field is invalid",n.identifier,r.type),o.push(r.prompt),s=!1)}),s?(t.remove.prompt(n,o),e.proxy(u.onValid,i)(),!0):(A=A.concat(o),t.add.prompt(n,o),e.proxy(u.onInvalid,i)(o),!1)},rule:function(n,s){var o,f,l=t.get.field(n.identifier),c=s.type,h=l.val()+"",p=/\[(.*?)\]/i,v=p.exec(c),m=!0;return v!==r&&null!==v?(o=""+v[1],f=c.replace(v[0],""),m=e.proxy(u.rules[f],i)(h,o)):m=e.proxy(u.rules[c],l)(h),m}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,u,t);else{if(n===r)return u[t];u[t]=n}},internal:function(n,i){if(e.isPlainObject(n))e.extend(!0,t,n);else{if(i===r)return t[n];t[n]=i}},debug:function(){u.debug&&(u.performance?t.performance.log(arguments):(t.debug=Function.prototype.bind.call(console.info,console,u.name+":"),t.debug.apply(console,arguments)))},verbose:function(){u.verbose&&u.debug&&(u.performance?t.performance.log(arguments):(t.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),t.verbose.apply(console,arguments)))},error:function(){t.error=Function.prototype.bind.call(console.error,console,u.name+":"),t.error.apply(console,arguments)},performance:{log:function(e){var n,r,i;u.performance&&(n=(new Date).getTime(),i=w||n,r=n-i,w=n,E.push({Element:O,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":r})),clearTimeout(t.performance.timer),t.performance.timer=setTimeout(t.performance.display,100)},display:function(){var n=u.name+":",i=0;w=!1,clearTimeout(t.performance.timer),e.each(E,function(e,t){i+=t["Execution Time"]}),n+=" "+i+"ms",b&&(n+=" '"+b+"'"),o.size()>1&&(n+=" ("+o.size()+")"),(console.group!==r||console.table!==r)&&E.length>0&&(console.groupCollapsed(n),console.table?console.table(E):e.each(E,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),E=[]}},invoke:function(n,i,o){var u,f,l;return i=i||T,o=O||o,"string"==typeof n&&M!==r&&(n=n.split(/[\. ]/),u=n.length-1,e.each(n,function(i,s){var o=i!=u?s+n[i+1].charAt(0).toUpperCase()+n[i+1].slice(1):n;if(e.isPlainObject(M[o])&&i!=u)M=M[o];else{if(M[o]!==r)return f=M[o],!1;if(!e.isPlainObject(M[s])||i==u)return M[s]!==r?(f=M[s],!1):(t.error(m.method,n),!1);M=M[s]}})),e.isFunction(f)?l=f.apply(o,i):f!==r&&(l=f),e.isArray(s)?s.push(l):s!==r?s=[s,l]:l!==r&&(s=l),f}},x?(M===r&&t.initialize(),t.invoke(S)):(M!==r&&t.destroy(),t.initialize())}),s!==r?s:this},e.fn.form.settings={name:"Form",namespace:"form",debug:!0,verbose:!0,performance:!0,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:150,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{validate:"validate"},selector:{message:".error.message",field:"input, textarea, select",group:".field",input:"input",prompt:".prompt",submit:".submit"},className:{error:"error",success:"success",down:"down",label:"ui label prompt"},error:{method:"The method you called is not defined."},templates:{error:function(t){var n='<ul class="list">';return e.each(t,function(e,t){n+="<li>"+t+"</li>"}),n+="</ul>",e(n)},prompt:function(t){return e("<div/>").addClass("ui red pointing prompt label").html(t[0])}},rules:{checked:function(){return e(this).filter(":checked").size()>0},empty:function(e){return e!==r&&""!==e},email:function(e){var t=new RegExp("[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?","i");return t.test(e)},length:function(e,t){return e!==r?e.length>=t:!1},not:function(e,t){return e!=t},contains:function(e,t){return t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),-1!==e.search(t)},is:function(e,t){return e==t},maxLength:function(e,t){return e!==r?e.length<=t:!1},match:function(t,n){var i,s=e(this);return s.find("#"+n).size()>0?i=s.find("#"+n).val():s.find("[name="+n+"]").size()>0?i=s.find("[name="+n+"]").val():s.find('[data-validate="'+n+'"]').size()>0&&(i=s.find('[data-validate="'+n+'"]').val()),i!==r?t.toString()==i.toString():!1},url:function(e){var t=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return t.test(e)}}}}(jQuery,window,document),function(e,t,n,r){e.fn.state=function(t){var n,i=e(this),s=e.extend(!0,{},e.fn.state.settings,t),o=i.selector||"",u=(new Date).getTime(),f=[],l=arguments[0],c="string"==typeof l,h=[].slice.call(arguments,1),p=s.error,v=s.metadata,m=s.className,g=s.namespace,y=s.states,b=s.text,w="."+g,E=g+"-module";return i.each(function(){var g,S=e(this),x=this,T=S.data(E);g={initialize:function(){g.verbose("Initializing module"),s.automatic&&g.add.defaults(),s.context&&""!==o?(g.allows("hover")&&e(x,s.context).on(o,"mouseenter"+w,g.enable.hover).on(o,"mouseleave"+w,g.disable.hover),g.allows("down")&&e(x,s.context).on(o,"mousedown"+w,g.enable.down).on(o,"mouseup"+w,g.disable.down),g.allows("focus")&&e(x,s.context).on(o,"focus"+w,g.enable.focus).on(o,"blur"+w,g.disable.focus),e(s.context).on(o,"mouseenter"+w,g.change.text).on(o,"mouseleave"+w,g.reset.text).on(o,"click"+w,g.toggle.state)):(g.allows("hover")&&S.on("mouseenter"+w,g.enable.hover).on("mouseleave"+w,g.disable.hover),g.allows("down")&&S.on("mousedown"+w,g.enable.down).on("mouseup"+w,g.disable.down),g.allows("focus")&&S.on("focus"+w,g.enable.focus).on("blur"+w,g.disable.focus),S.on("mouseenter"+w,g.change.text).on("mouseleave"+w,g.reset.text).on("click"+w,g.toggle.state)),g.instantiate()},instantiate:function(){g.verbose("Storing instance of module",g),T=g,S.data(E,g)},destroy:function(){g.verbose("Destroying previous module",T),S.off(w).removeData(E)},refresh:function(){g.verbose("Refreshing selector cache"),S=e(x)},add:{defaults:function(){var n=t&&e.isPlainObject(t.states)?t.states:{};e.each(s.defaults,function(t,i){g.is[t]!==r&&g.is[t]()&&(g.verbose("Adding default states",t,x),e.extend(s.states,i,n))})}},is:{active:function(){return S.hasClass(m.active)},loading:function(){return S.hasClass(m.loading)},inactive:function(){return!S.hasClass(m.active)},enabled:function(){return!S.is(s.filter.active)},disabled:function(){return S.is(s.filter.active)},textEnabled:function(){return!S.is(s.filter.text)},button:function(){return S.is(".button:not(a, .submit)")},input:function(){return S.is("input")}},allow:function(e){g.debug("Now allowing state",e),y[e]=!0},disallow:function(e){g.debug("No longer allowing",e),y[e]=!1},allows:function(e){return y[e]||!1},enable:{state:function(e){g.allows(e)&&S.addClass(m[e])},focus:function(){S.addClass(m.focus)},hover:function(){S.addClass(m.hover)},down:function(){S.addClass(m.down)}},disable:{state:function(e){g.allows(e)&&S.removeClass(m[e])},focus:function(){S.removeClass(m.focus)},hover:function(){S.removeClass(m.hover)},down:function(){S.removeClass(m.down)}},toggle:{state:function(){var e=S.data(v.promise);g.allows("active")&&g.is.enabled()&&(g.refresh(),e!==r?g.listenTo(e):g.change.state())}},listenTo:function(t){g.debug("API request detected, waiting for state signal",t),t?(b.loading&&g.update.text(b.loading),e.when(t).then(function(){"resolved"==t.state()?(g.debug("API request succeeded"),s.activateTest=function(){return!0},s.deactivateTest=function(){return!0}):(g.debug("API request failed"),s.activateTest=function(){return!1},s.deactivateTest=function(){return!1}),g.change.state()})):(s.activateTest=function(){return!1},s.deactivateTest=function(){return!1})},change:{state:function(){g.debug("Determining state change direction"),g.is.inactive()?g.activate():g.deactivate(),s.sync&&g.sync(),e.proxy(s.onChange,x)()},text:function(){g.is.textEnabled()&&(g.is.active()?b.hover?(g.verbose("Changing text to hover text",b.hover),g.update.text(b.hover)):b.disable&&(g.verbose("Changing text to disable text",b.disable),g.update.text(b.disable)):b.hover?(g.verbose("Changing text to hover text",b.disable),g.update.text(b.hover)):b.enable&&(g.verbose("Changing text to enable text",b.enable),g.update.text(b.enable)))}},activate:function(){e.proxy(s.activateTest,x)()&&(g.debug("Setting state to active"),S.addClass(m.active),g.update.text(b.active)),e.proxy(s.onActivate,x)()},deactivate:function(){e.proxy(s.deactivateTest,x)()&&(g.debug("Setting state to inactive"),S.removeClass(m.active),g.update.text(b.inactive)),e.proxy(s.onDeactivate,x)()},sync:function(){g.verbose("Syncing other buttons to current state"),g.is.active()?i.not(S).state("activate"):i.not(S).state("deactivate")},get:{text:function(){return s.selector.text?S.find(s.selector.text).text():S.html()},textFor:function(e){return b[e]||!1}},flash:{text:function(e,t){var n=g.get.text();g.debug("Flashing text message",e,t),e=e||s.text.flash,t=t||s.flashDuration,g.update.text(e),setTimeout(function(){g.update.text(n)},t)}},reset:{text:function(){var e=b.active||S.data(v.storedText),t=b.inactive||S.data(v.storedText);g.is.textEnabled()&&(g.is.active()&&e?(g.verbose("Resetting active text",e),g.update.text(e)):t&&(g.verbose("Resetting inactive text",e),g.update.text(t)))}},update:{text:function(e){var t=g.get.text();e&&e!==t?(g.debug("Updating text",e),s.selector.text?S.data(v.storedText,e).find(s.selector.text).text(e):S.data(v.storedText,e).html(e)):g.debug("Text is already sane, ignoring update",e)}},setting:function(t,n){return g.debug("Changing setting",t,n),n===r?s[t]:(e.isPlainObject(t)?e.extend(!0,s,t):s[t]=n,void 0)},internal:function(t,n){return g.debug("Changing internal",t,n),n===r?g[t]:(e.isPlainObject(t)?e.extend(!0,g,t):g[t]=n,void 0)},debug:function(){s.debug&&(s.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,s.name+":"),g.debug.apply(console,arguments)))},verbose:function(){s.verbose&&s.debug&&(s.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,s.name+":"),g.verbose.apply(console,arguments)))},error:function(){g.error=Function.prototype.bind.call(console.error,console,s.name+":"),g.error.apply(console,arguments)},performance:{log:function(e){var t,n,r;s.performance&&(t=(new Date).getTime(),r=u||t,n=t-r,u=t,f.push({Element:x,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,100)},display:function(){var t=s.name+":",n=0;u=!1,clearTimeout(g.performance.timer),e.each(f,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",o&&(t+=" '"+o+"'"),i.size()>1&&(t+=" ("+i.size()+")"),(console.group!==r||console.table!==r)&&f.length>0&&(console.groupCollapsed(t),console.table?console.table(f):e.each(f,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),f=[]}},invoke:function(t,i,s){var o,u,f;return i=i||h,s=x||s,"string"==typeof t&&T!==r&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var s=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(T[s])&&n!=o)T=T[s];else{if(T[s]!==r)return u=T[s],!1;if(!e.isPlainObject(T[i])||n==o)return T[i]!==r?(u=T[i],!1):(g.error(p.method,t),!1);T=T[i]}})),e.isFunction(u)?f=u.apply(s,i):u!==r&&(f=u),e.isArray(n)?n.push(f):n!==r?n=[n,f]:f!==r&&(n=f),u}},c?(T===r&&g.initialize(),g.invoke(l)):(T!==r&&g.destroy(),g.initialize())}),n!==r?n:this},e.fn.state.settings={name:"State",debug:!0,verbose:!0,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:3e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{focus:"focus",hover:"hover",down:"down",active:"active",loading:"loading"},selector:{text:!1},defaults:{input:{hover:!0,focus:!0,down:!0,loading:!1,active:!1},button:{hover:!0,focus:!1,down:!0,active:!0,loading:!0}},states:{hover:!0,focus:!0,down:!0,loading:!1,active:!1},text:{flash:!1,hover:!1,active:!1,inactive:!1,enable:!1,disable:!1}}}(jQuery,window,document),function(e,t,n,r){e.fn.chatroom=function(t){var n,i=e(this),s=i.selector||"",o=(new Date).getTime(),u=[],f=arguments[0],l="string"==typeof f,c=[].slice.call(arguments,1);return e(this).each(function(){var n,i,p,v,m,y,w,E=e.extend(!0,{},e.fn.chatroom.settings,t),S=E.className,x=E.namespace,T=E.selector,N=E.error,C=e(this),L=C.find(T.expandButton),A=C.find(T.userListButton),O=C.find(T.userList),M=(C.find(T.room),C.find(T.userCount)),_=C.find(T.log),D=(C.find(T.message),C.find(T.messageInput)),P=C.find(T.messageButton),H=C.data("module"),B=this,F="",I={};w={width:{log:_.width(),userList:O.outerWidth()},initialize:function(){return Pusher===r&&w.error(N.pusher),E.key===r||E.channelName===r?(w.error(N.key),!1):E.endpoint.message||E.endpoint.authentication?(y=new Pusher(E.key),Pusher.channel_auth_endpoint=E.endpoint.authentication,n=y.subscribe(E.channelName),n.bind("pusher:subscription_succeeded",w.user.list.create),n.bind("pusher:subscription_error",w.error),n.bind("pusher:member_added",w.user.joined),n.bind("pusher:member_removed",w.user.left),n.bind("update_messages",w.message.receive),e.each(E.customEvents,function(e,t){n.bind(e,t)}),A.on("click."+x,w.event.toggleUserList),L.on("click."+x,w.event.toggleExpand),D.on("keydown."+x,w.event.input.keydown).on("keyup."+x,w.event.input.keyup),P.on("mouseenter."+x,w.event.hover).on("mouseleave."+x,w.event.hover).on("click."+x,w.event.submit),_.animate({scrollTop:_.prop("scrollHeight")},400),C.data("module",w).addClass(S.loading),void 0):(w.error(N.endpoint),!1)},refresh:function(){A.removeClass(S.active),w.width={log:_.width(),userList:O.outerWidth()},A.hasClass(S.active)&&w.user.list.hide(),C.data("module",w)},user:{updateCount:function(){E.userCount&&(I=C.data("users"),v=0,e.each(I,function(){v++}),M.html(E.templates.userCount(v)))},joined:function(t){I=C.data("users"),"anonymous"!=t.id&&I[t.id]===r&&(I[t.id]=t.info,E.randomColor&&t.info.color===r&&(t.info.color=E.templates.color(t.id)),F=E.templates.userList(t.info),t.info.isAdmin?e(F).prependTo(O):e(F).appendTo(O),E.partingMessages&&(_.append(E.templates.joined(t.info)),w.message.scroll.test()),w.user.updateCount())},left:function(e){I=C.data("users"),e!==r&&"anonymous"!==e.id&&(delete I[e.id],C.data("users",I),O.find("[data-id="+e.id+"]").remove(),E.partingMessages&&(_.append(E.templates.left(e.info)),w.message.scroll.test()),w.user.updateCount())},list:{create:function(t){I={},t.each(function(e){"anonymous"!==e.id&&"undefined"!==e.id&&(E.randomColor&&e.info.color===r&&(e.info.color=E.templates.color(e.id)),F=e.info.isAdmin?E.templates.userList(e.info)+F:F+E.templates.userList(e.info),I[e.id]=e.info)}),C.data("users",I).data("user",I[t.me.id]).removeClass(S.loading),O.html(F),w.user.updateCount(),e.proxy(E.onJoin,O.children())()},show:function(){_.animate({width:w.width.log-w.width.userList},{duration:E.speed,easing:E.easing,complete:w.message.scroll.move})},hide:function(){_.stop().animate({width:w.width.log},{duration:E.speed,easing:E.easing,complete:w.message.scroll.move})}}},message:{scroll:{test:function(){m=_.prop("scrollHeight")-_.height(),Math.abs(_.scrollTop()-m)<E.scrollArea&&w.message.scroll.move()},move:function(){m=_.prop("scrollHeight")-_.height(),_.scrollTop(m)}},send:function(t){w.utils.emptyString(t)||e.api({url:E.endpoint.message,method:"POST",data:{message:{content:t,timestamp:(new Date).getTime()}}})},receive:function(e){p=e.data,I=C.data("users"),i=C.data("user"),I[p.userID]!==r&&(i===r||i.id!=p.userID)&&(p.user=I[p.userID],w.message.display(p))},display:function(t){_.append(E.templates.message(t)),w.message.scroll.test(),e.proxy(E.onMessage,_.children().last())()}},expand:function(){C.addClass(S.expand),e.proxy(E.onExpand,C)(),w.refresh()},contract:function(){C.removeClass(S.expand),e.proxy(E.onContract,C)(),w.refresh()},event:{input:{keydown:function(e){13==e.which&&P.addClass(S.down)},keyup:function(e){13==e.which&&(P.removeClass(S.down),w.event.submit())}},submit:function(){var e=D.val(),t=C.data("user");t===r||w.utils.emptyString(e)||(w.message.send(e),w.message.display({user:t,text:e}),w.message.scroll.move(),D.val(""))},toggleExpand:function(){C.hasClass(S.expand)?(L.removeClass(S.active),w.contract()):(L.addClass(S.active),w.expand())},toggleUserList:function(){_.is(":animated")||(A.hasClass(S.active)?(A.removeClass("active"),w.user.list.hide()):(A.addClass(S.active),w.user.list.show()))}},utils:{emptyString:function(e){return"string"==typeof e?-1==e.search(/\S/):!1}},setting:function(t,n){return n===r?E[t]:(e.isPlainObject(t)?e.extend(!0,E,t):E[t]=n,void 0)},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,w,t);else{if(n===r)return w[t];w[t]=n}},debug:function(){E.debug&&(E.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,E.name+":"),w.debug.apply(console,arguments)))},verbose:function(){E.verbose&&E.debug&&(E.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,E.name+":"),w.verbose.apply(console,arguments)))},error:function(){w.error=Function.prototype.bind.call(console.error,console,E.name+":"),w.error.apply(console,arguments)},performance:{log:function(e){var t,n,r;E.performance&&(t=(new Date).getTime(),r=o||t,n=t-r,o=t,u.push({Element:B,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,100)},display:function(){var t=E.name+":",n=0;o=!1,clearTimeout(w.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(console.group!==r||console.table!==r)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,i){var s,o;return n=n||c,i=B||i,"string"==typeof t&&H!==r&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,i){e.isPlainObject(H[i])&&n!=s?H=H[i]:H[i]!==r?o=H[i]:w.error(N.method,t)})),e.isFunction(o)?o.apply(i,n):o||!1}},l?(H===r&&w.initialize(),w.invoke(f)):(H!==r&&w.destroy(),w.initialize())}),n?n:this},e.fn.chatroom.settings={name:"Chat",debug:!1,namespace:"chat",channel:"present-chat",onJoin:function(){},onMessage:function(){},onExpand:function(){},onContract:function(){},customEvents:{},partingMessages:!1,userCount:!0,randomColor:!0,speed:300,easing:"easeOutQuint",scrollArea:9999,endpoint:{message:!1,authentication:!1},error:{method:"The method you called is not defined",endpoint:"Please define a message and authentication endpoint.",key:"You must specify a pusher key and channel.",pusher:"You must include the Pusher library."},className:{expand:"expand",active:"active",hover:"hover",down:"down",loading:"loading"},selector:{userCount:".actions .message",userListButton:".actions .list.button",expandButton:".actions .expand.button",room:".room",userList:".room .list",log:".room .log",message:".room .log .message",author:".room log .message .author",messageInput:".talk input",messageButton:".talk .send.button"},templates:{userCount:function(e){return e+" users in chat"},color:function(){var e=["#000000","#333333","#666666","#999999","#CC9999","#CC6666","#CC3333","#993333","#663333","#CC6633","#CC9966","#CC9933","#999966","#CCCC66","#99CC66","#669933","#669966","#33A3CC","#336633","#33CCCC","#339999","#336666","#336699","#6666CC","#9966CC","#333399","#663366","#996699","#993366","#CC6699"];return e[Math.floor(Math.random()*e.length)]},message:function(e){var t="";return e.user.isAdmin?(e.user.color="#55356A",t+='<div class="admin message">',t+='<span class="quirky ui flag team"></span>'):t+='<div class="message">',t+="<p>",t+=e.user.color!==r?'<span class="author" style="color: '+e.user.color+';">'+e.user.name+"</span>: ":'<span class="author">'+e.user.name+"</span>: ",t+=""+e.text+" </p></div>"},joined:function(e){return typeof e.name!==r?'<div class="status">'+e.name+" has joined the chat.</div>":!1},left:function(e){return typeof e.name!==r?'<div class="status">'+e.name+" has left the chat.</div>":!1},userList:function(e){var t="";return e.isAdmin&&(e.color="#55356A"),t+='<div class="user" data-id="'+e.id+'"> <div class="image">   <img src="'+e.avatarURL+'"> </div>',t+=e.color!==r?' <p><a href="/users/'+e.id+'" target="_blank" style="color: '+e.color+';">'+e.name+"</a></p>":' <p><a href="/users/'+e.id+'" target="_blank">'+e.name+"</a></p>",t+="</div>"}}}}(jQuery,window,document),function(e,t,n,r){e.fn.checkbox=function(t){var n,i=e(this),s=i.selector||"",o=(new Date).getTime(),u=[],f=arguments[0],l="string"==typeof f,c=[].slice.call(arguments,1);return i.each(function(){var i,p=e.extend(!0,{},e.fn.checkbox.settings,t),v=p.className,m=p.namespace,y=p.error,w="."+m,E="module-"+m,S=e(this),x=e(this).next(p.selector.label).first(),T=e(this).find(p.selector.input),N=S.selector||"",C=S.data(E),L=this;i={initialize:function(){i.verbose("Initializing checkbox",p),p.context&&""!==N?(i.verbose("Adding delegated events"),e(L,p.context).on(N,"click"+w,i.toggle).on(N+" + "+p.selector.label,"click"+w,i.toggle)):(S.on("click"+w,i.toggle).data(E,i),x.on("click"+w,i.toggle)),i.instantiate()},instantiate:function(){i.verbose("Storing instance of module",i),C=i,S.data(E,i)},destroy:function(){i.verbose("Destroying previous module"),S.off(w).removeData(E)},is:{radio:function(){return S.hasClass(v.radio)},enabled:function(){return T.prop("checked")!==r&&T.prop("checked")},disabled:function(){return!i.is.enabled()}},can:{disable:function(){return"boolean"==typeof p.required?p.required:!i.is.radio()}},enable:function(){i.debug("Enabling checkbox",T),T.prop("checked",!0),e.proxy(p.onChange,T.get())(),e.proxy(p.onEnable,T.get())()},disable:function(){i.debug("Disabling checkbox"),T.prop("checked",!1),e.proxy(p.onChange,T.get())(),e.proxy(p.onDisable,T.get())()},toggle:function(){i.verbose("Determining new checkbox state"),i.is.disabled()?i.enable():i.is.enabled()&&i.can.disable()&&i.disable()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===r)return p[t];p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,i,t);else{if(n===r)return i[t];i[t]=n}},debug:function(){p.debug&&(p.performance?i.performance.log(arguments):(i.debug=Function.prototype.bind.call(console.info,console,p.name+":"),i.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?i.performance.log(arguments):(i.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),i.verbose.apply(console,arguments)))},error:function(){i.error=Function.prototype.bind.call(console.error,console,p.name+":"),i.error.apply(console,arguments)},performance:{log:function(e){var t,n,r;p.performance&&(t=(new Date).getTime(),r=o||t,n=t-r,o=t,u.push({Element:L,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(i.performance.timer),i.performance.timer=setTimeout(i.performance.display,100)},display:function(){var t=p.name+":",n=0;o=!1,clearTimeout(i.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(console.group!==r||console.table!==r)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,s,o){var u,f,l;return s=s||c,o=L||o,"string"==typeof t&&C!==r&&(t=t.split(/[\. ]/),u=t.length-1,e.each(t,function(n,s){var o=n!=u?s+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(C[o])&&n!=u)C=C[o];else{if(C[o]!==r)return f=C[o],!1;if(!e.isPlainObject(C[s])||n==u)return C[s]!==r?(f=C[s],!1):(i.error(y.method,t),!1);C=C[s]}})),e.isFunction(f)?l=f.apply(o,s):f!==r&&(l=f),e.isArray(n)?n.push(l):n!==r?n=[n,l]:l!==r&&(n=l),f}},l?(C===r&&i.initialize(),i.invoke(f)):(C!==r&&i.destroy(),i.initialize())}),n!==r?n:this},e.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",verbose:!0,debug:!0,performance:!0,context:!1,required:"auto",onChange:function(){},onEnable:function(){},onDisable:function(){},error:{method:"The method you called is not defined."},selector:{input:"input[type=checkbox], input[type=radio]",label:"label"},className:{radio:"radio"}}}(jQuery,window,document),function(e,t,n,r){e.fn.dimmer=function(t){var i,s=e(this),o=(new Date).getTime(),u=[],f=arguments[0],l="string"==typeof f,h=[].slice.call(arguments,1);return s.each(function(){var p,v,m,y=e.isPlainObject(t)?e.extend(!0,{},e.fn.dimmer.settings,t):e.extend({},e.fn.dimmer.settings),w=y.selector,E=y.namespace,S=y.className,x=y.error,T="."+E,N="module-"+E,C=s.selector||"",L="ontouchstart"in n.documentElement?"touchstart":"click",A=e(this),O=this,M=A.data(N);m={preinitialize:function(){m.is.dimmer()?(v=A.parent(),p=A):(v=A,p=m.has.dimmer()?v.children(w.dimmer).first():m.create())},initialize:function(){m.debug("Initializing dimmer",y),"hover"==y.on?v.on("mouseenter"+T,m.show).on("mouseleave"+T,m.hide):"click"==y.on&&v.on(L+T,m.toggle),m.is.page()&&(m.debug("Setting as a page dimmer",v),m.set.pageDimmer()),y.closable&&(m.verbose("Adding dimmer close event",p),p.on(L+T,m.event.click)),m.set.dimmable(),m.instantiate()},instantiate:function(){m.verbose("Storing instance of module",m),M=m,A.data(N,M)},destroy:function(){m.verbose("Destroying previous module",p),A.removeData(N),v.off(T),p.off(T)},event:{click:function(t){m.verbose("Determining if event occured on dimmer",t),(0===p.find(t.target).size()||e(t.target).is(w.content))&&(m.hide(),t.stopImmediatePropagation())}},addContent:function(t){var n=e(t).detach();m.debug("Add content to dimmer",n),n.parent()[0]!==p[0]&&p.append(n)},create:function(){return e(y.template.dimmer()).appendTo(v)},animate:{show:function(t){t=e.isFunction(t)?t:function(){},m.set.dimmed(),y.useCSS&&e.fn.transition!==r&&A.transition("is supported")?p.transition({animation:y.transition+" in",queue:!0,duration:m.get.duration(),complete:function(){m.set.active(),t()}}):(m.verbose("Showing dimmer animation with javascript"),p.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(m.get.duration(),1,function(){p.removeAttr("style"),m.set.active(),t()}))},hide:function(t){t=e.isFunction(t)?t:function(){},y.useCSS&&e.fn.transition!==r&&A.transition("is supported")?(m.verbose("Hiding dimmer with css"),p.transition({animation:y.transition+" out",duration:m.get.duration(),queue:!0,complete:function(){m.remove.dimmed(),m.remove.active(),t()}})):(m.verbose("Hiding dimmer with javascript"),p.stop().fadeOut(m.get.duration(),function(){p.removeAttr("style"),m.remove.dimmed(),m.remove.active(),t()}))}},get:{dimmer:function(){return p},duration:function(){return"object"==typeof y.duration?m.is.active()?y.duration.hide:y.duration.show:y.duration}},has:{dimmer:function(){return A.children(w.dimmer).size()>0}},is:{active:function(){return p.hasClass(S.active)},animating:function(){return p.is(":animated")||p.hasClass(S.transition)},dimmer:function(){return A.is(w.dimmer)},dimmable:function(){return A.is(w.dimmable)},dimmed:function(){return v.hasClass(S.dimmed)},disabled:function(){return v.hasClass(S.disabled)},enabled:function(){return!m.is.disabled()},page:function(){return v.is("body")},pageDimmer:function(){return p.hasClass(S.pageDimmer)}},can:{show:function(){return!p.hasClass(S.disabled)}},set:{active:function(){m.set.dimmed(),p.removeClass(S.transition).addClass(S.active)},dimmable:function(){v.addClass(S.dimmable)},dimmed:function(){v.addClass(S.dimmed)},pageDimmer:function(){p.addClass(S.pageDimmer)},disabled:function(){p.addClass(S.disabled)}},remove:{active:function(){p.removeClass(S.transition).removeClass(S.active)},dimmed:function(){v.removeClass(S.dimmed)},disabled:function(){p.removeClass(S.disabled)}},show:function(t){t=e.isFunction(t)?t:function(){},m.debug("Showing dimmer",p,y),!m.is.active()&&m.is.enabled()?(m.animate.show(t),e.proxy(y.onShow,O)(),e.proxy(y.onChange,O)()):m.debug("Dimmer is already shown or disabled")},hide:function(t){t=e.isFunction(t)?t:function(){},m.is.active()||m.is.animating()?(m.debug("Hiding dimmer",p),m.animate.hide(t),e.proxy(y.onHide,O)(),e.proxy(y.onChange,O)()):m.debug("Dimmer is not visible")},toggle:function(){m.verbose("Toggling dimmer visibility",p),m.is.dimmed()?m.hide():m.show()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,y,t);else{if(n===r)return y[t];y[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===r)return m[t];m[t]=n}},debug:function(){y.debug&&(y.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,y.name+":"),m.debug.apply(console,arguments)))},verbose:function(){y.verbose&&y.debug&&(y.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,y.name+":"),m.verbose.apply(console,arguments)))},error:function(){m.error=Function.prototype.bind.call(console.error,console,y.name+":"),m.error.apply(console,arguments)},performance:{log:function(e){var t,n,r;y.performance&&(t=(new Date).getTime(),r=o||t,n=t-r,o=t,u.push({Element:O,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,100)},display:function(){var t=y.name+":",n=0;o=!1,clearTimeout(m.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",C&&(t+=" '"+C+"'"),s.size()>1&&(t+=" ("+s.size()+")"),(console.group!==r||console.table!==r)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,s){var o,u,f;return n=n||h,s=O||s,"string"==typeof t&&M!==r&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var s=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(M[s])&&n!=o)M=M[s];else{if(!e.isPlainObject(M[i])||n==o)return M[i]!==r?(u=M[i],!1):M[s]!==r?(u=M[s],!1):(m.error(x.method,t),!1);M=M[i]}})),e.isFunction(u)?f=u.apply(s,n):u!==r&&(f=u),e.isArray(i)?i.push(f):i!==r?i=[i,f]:f!==r&&(i=f),u}},m.preinitialize(),l?(M===r&&m.initialize(),m.invoke(f)):(M!==r&&m.destroy(),m.initialize())}),i!==r?i:this},e.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",debug:!0,verbose:!0,performance:!0,transition:"fade",useCSS:!0,on:!1,closable:!0,duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},selector:{dimmable:".ui.dimmable",dimmer:".ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return e("<div />").attr("class","ui dimmer")}},className:{active:"active",dimmable:"ui dimmable",dimmed:"dimmed",disabled:"disabled",pageDimmer:"page",hide:"hide",show:"show",transition:"transition"}}}(jQuery,window,document),function(e,t,n,r){e.fn.dropdown=function(t){var i,s=e(this),o=e(n),u=s.selector||"",f="ontouchstart"in n.documentElement,l=(new Date).getTime(),h=[],p=arguments[0],v="string"==typeof p,m=[].slice.call(arguments,1);return s.each(function(){var n,c=e.isPlainObject(t)?e.extend(!0,{},e.fn.dropdown.settings,t):e.extend({},e.fn.dropdown.settings),y=c.className,w=c.metadata,E=c.namespace,S=c.selector,x=c.error,T="."+E,N="module-"+E,C=e(this),L=C.find(S.item),A=C.find(S.text),O=C.find(S.input),M=C.children(S.menu),_=this,D=C.data(N);n={initialize:function(){n.debug("Initializing dropdown",c),n.set.selected(),f&&n.bind.touchEvents(),n.bind.mouseEvents(),n.instantiate()},instantiate:function(){n.verbose("Storing instance of dropdown",n),D=n,C.data(N,n)},destroy:function(){n.verbose("Destroying previous dropdown for",C),L.off(T),C.off(T).removeData(N)},bind:{touchEvents:function(){n.debug("Touch device detected binding touch events"),C.on("touchstart"+T,n.event.test.toggle),L.on("touchstart"+T,n.event.item.mouseenter).on("touchstart"+T,n.event.item.click)},mouseEvents:function(){n.verbose("Mouse detected binding mouse events"),"click"==c.on?C.on("click"+T,n.event.test.toggle):"hover"==c.on?C.on("mouseenter"+T,n.delay.show).on("mouseleave"+T,n.delay.hide):C.on(c.on+T,n.toggle),L.on("mouseenter"+T,n.event.item.mouseenter).on("mouseleave"+T,n.event.item.mouseleave).on("click"+T,n.event.item.click)},intent:function(){n.verbose("Binding hide intent event to document"),f&&o.on("touchstart"+T,n.event.test.touch).on("touchmove"+T,n.event.test.touch),o.on("click"+T,n.event.test.hide)}},unbind:{intent:function(){n.verbose("Removing hide intent event from document"),f&&o.off("touchstart"+T),o.off("click"+T)}},event:{test:{toggle:function(e){n.determine.intent(e,n.toggle)&&e.preventDefault()},touch:function(e){n.determine.intent(e,function(){"touchstart"==e.type?n.timer=setTimeout(n.hide,c.delay.touch):"touchmove"==e.type&&clearTimeout(n.timer)}),e.stopPropagation()},hide:function(e){n.determine.intent(e,n.hide)}},item:{mouseenter:function(t){var r=e(this).find(S.menu),i=e(this).siblings(S.item).children(S.menu);r.size()>0&&(clearTimeout(n.itemTimer),n.itemTimer=setTimeout(function(){n.animate.hide(!1,i),n.verbose("Showing sub-menu",r),n.animate.show(!1,r)},2*c.delay.show),t.preventDefault())},mouseleave:function(){var t=e(this).find(S.menu);t.size()>0&&(clearTimeout(n.itemTimer),n.itemTimer=setTimeout(function(){n.verbose("Hiding sub-menu",t),n.animate.hide(!1,t)},c.delay.hide))},click:function(){var t=e(this),i=t.data(w.text)!==r?t.data(w.text):t.text(),s=t.data(w.value)!==r?t.data(w.value):i.toLowerCase();0===t.find(S.menu).size()&&(n.determine.selectAction(i,s),e.proxy(c.onChange,_)(s,i))}},resetStyle:function(){e(this).removeAttr("style")}},determine:{selectAction:function(t,r){n.verbose("Determining action",c.action),e.isFunction(n.action[c.action])?(n.verbose("Triggering preset action",c.action,t,r),n.action[c.action](t,r)):e.isFunction(c.action)?(n.verbose("Triggering user action",c.action,t,r),c.action(t,r)):n.error(x.action,c.action)},intent:function(t,r){return n.debug("Determining whether event occurred in dropdown",t.target),r=r||function(){},0===e(t.target).closest(M).size()?(n.verbose("Triggering event",r),r(),!0):(n.verbose("Event occurred in dropdown, canceling callback"),!1)}},action:{nothing:function(){},hide:function(){n.hide()},activate:function(e,t){t=t!==r?t:e,n.set.selected(t),n.set.value(t),n.hide()},auto:function(e,t){t=t!==r?t:e,n.set.selected(t),n.set.value(t),n.hide()},changeText:function(e,t){t=t!==r?t:e,n.set.selected(t),n.hide()},updateForm:function(e,t){t=t!==r?t:e,n.set.selected(t),n.set.value(t),n.hide()}},get:{text:function(){return A.text()},value:function(){return O.size()>0?O.val():C.data(w.value)},item:function(t){var i;return t=t!==r?t:n.get.value()!==r?n.get.value():n.get.text(),t!==r?L.each(function(){var n=e(this),s=n.data(w.text)!==r?n.data(w.text):n.text(),o=n.data(w.value)!==r?n.data(w.value):s.toLowerCase();return o==t||s==t?(i=e(this),!1):void 0}):t=n.get.text(),i||!1}},set:{text:function(e){n.debug("Changing text",e,A),A.removeClass(y.placeholder),A.text(e)},value:function(e){n.debug("Adding selected value to hidden input",e,O),O.size()>0?O.val(e):C.data(w.value,e)},active:function(){C.addClass(y.active)},visible:function(){C.addClass(y.visible)},selected:function(e){var t,i=n.get.item(e);i&&(n.debug("Setting selected menu item to",i),t=i.data(w.text)!==r?i.data(w.text):i.text(),L.removeClass(y.active),i.addClass(y.active),n.set.text(t))}},remove:{active:function(){C.removeClass(y.active)},visible:function(){C.removeClass(y.visible)}},is:{selection:function(){return C.hasClass(y.selection)},animated:function(e){return e?e.is(":animated")||e.transition("is animating"):M.is(":animated")||M.transition("is animating")},visible:function(e){return e?e.is(":visible"):M.is(":visible")},hidden:function(e){return e?e.is(":not(:visible)"):M.is(":not(:visible)")}},can:{click:function(){return f||"click"==c.on},show:function(){return!C.hasClass(y.disabled)}},animate:{show:function(t,i){var s=i||M;t=t||function(){},n.is.hidden(s)&&(n.verbose("Doing menu show animation",s),"none"==c.transition?t():e.fn.transition!==r&&C.transition("is supported")?s.transition({animation:c.transition+" in",duration:c.duration,complete:t,queue:!1}):"slide down"==c.transition?s.hide().clearQueue().children().clearQueue().css("opacity",0).delay(50).animate({opacity:1},c.duration,"easeOutQuad",n.event.resetStyle).end().slideDown(100,"easeOutQuad",function(){e.proxy(n.event.resetStyle,this)(),t()}):"fade"==c.transition?s.hide().clearQueue().fadeIn(c.duration,function(){e.proxy(n.event.resetStyle,this)(),t()}):n.error(x.transition,c.transition))},hide:function(t,i){var s=i||M;t=t||function(){},n.is.visible(s)&&(n.verbose("Doing menu hide animation",s),e.fn.transition!==r&&C.transition("is supported")?s.transition({animation:c.transition+" out",duration:c.duration,complete:t,queue:!1}):"none"==c.transition?t():"slide down"==c.transition?s.show().clearQueue().children().clearQueue().css("opacity",1).animate({opacity:0},100,"easeOutQuad",n.event.resetStyle).end().delay(50).slideUp(100,"easeOutQuad",function(){e.proxy(n.event.resetStyle,this)(),t()}):"fade"==c.transition?s.show().clearQueue().fadeOut(150,function(){e.proxy(n.event.resetStyle,this)(),t()}):n.error(x.transition))}},show:function(){n.debug("Checking if dropdown can show"),n.is.hidden()&&(n.hideOthers(),n.set.active(),n.animate.show(function(){n.can.click()&&n.bind.intent(),n.set.visible()}),e.proxy(c.onShow,_)())},hide:function(){!n.is.animated()&&n.is.visible()&&(n.debug("Hiding dropdown"),n.can.click()&&n.unbind.intent(),n.remove.active(),n.animate.hide(n.remove.visible),e.proxy(c.onHide,_)())},delay:{show:function(){n.verbose("Delaying show event to ensure user intent"),clearTimeout(n.timer),n.timer=setTimeout(n.show,c.delay.show)},hide:function(){n.verbose("Delaying hide event to ensure user intent"),clearTimeout(n.timer),n.timer=setTimeout(n.hide,c.delay.hide)}},hideOthers:function(){n.verbose("Finding other dropdowns to hide"),s.not(C).has(S.menu+":visible").dropdown("hide")},toggle:function(){n.verbose("Toggling menu visibility"),n.is.hidden()?n.show():n.hide()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,c,t);else{if(n===r)return c[t];c[t]=n}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,n,t);else{if(i===r)return n[t];n[t]=i}},debug:function(){c.debug&&(c.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,c.name+":"),n.debug.apply(console,arguments)))},verbose:function(){c.verbose&&c.debug&&(c.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,c.name+":"),n.verbose.apply(console,arguments)))},error:function(){n.error=Function.prototype.bind.call(console.error,console,c.name+":"),n.error.apply(console,arguments)},performance:{log:function(e){var t,r,i;c.performance&&(t=(new Date).getTime(),i=l||t,r=t-i,l=t,h.push({Element:_,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":r})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,100)},display:function(){var t=c.name+":",i=0;l=!1,clearTimeout(n.performance.timer),e.each(h,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",u&&(t+=" '"+u+"'"),(console.group!==r||console.table!==r)&&h.length>0&&(console.groupCollapsed(t),console.table?console.table(h):e.each(h,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(t,s,o){var u,f,l;return s=s||m,o=_||o,"string"==typeof t&&D!==r&&(t=t.split(/[\. ]/),u=t.length-1,e.each(t,function(i,s){var o=i!=u?s+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(D[o])&&i!=u)D=D[o];else{if(D[o]!==r)return f=D[o],!1;if(!e.isPlainObject(D[s])||i==u)return D[s]!==r?(f=D[s],!1):(n.error(x.method,t),!1);D=D[s]}})),e.isFunction(f)?l=f.apply(o,s):f!==r&&(l=f),e.isArray(i)?i.push(l):i!==r?i=[i,l]:l!==r&&(i=l),f}},v?(D===r&&n.initialize(),n.invoke(p)):(D!==r&&n.destroy(),n.initialize())}),i?i:this},e.fn.dropdown.settings={name:"Dropdown",namespace:"dropdown",verbose:!0,debug:!0,performance:!0,on:"click",action:"activate",delay:{show:200,hide:300,touch:50},transition:"slide down",duration:250,onChange:function(){},onShow:function(){},onHide:function(){},error:{action:"You called a dropdown action that was not defined",method:"The method you called is not defined.",transition:"The requested transition was not found"},metadata:{text:"text",value:"value"},selector:{menu:".menu",item:".menu > .item",text:"> .text",input:'> input[type="hidden"]'},className:{active:"active",placeholder:"default",disabled:"disabled",visible:"visible",selection:"selection"}}}(jQuery,window,document),function(e,t,n,r){e.fn.modal=function(i){var s,o=e(this),u=e(t),f=e(n),l=(new Date).getTime(),h=[],p=arguments[0],v="string"==typeof p,m=[].slice.call(arguments,1);return o.each(function(){var y,w,E,S,x,T,N=e.isPlainObject(i)?e.extend(!0,{},e.fn.modal.settings,i):e.extend({},e.fn.modal.settings),C=N.selector,L=N.className,A=N.namespace,O=N.error,M="."+A,_="module-"+A,D=o.selector||"",P=e(this),H=e(N.context),B=P.find(C.close),F=this,I=P.data(_);T={initialize:function(){return T.verbose("Initializing dimmer",H),typeof e.fn.dimmer===r?(T.error(O.dimmer),void 0):(S=H.dimmer({closable:!1,useCSS:T.is.modernBrowser(),show:.9*N.duration,hide:1.1*N.duration}).dimmer("add content",P),x=S.dimmer("get dimmer"),w=P.siblings(C.modal),y=w.add(P),T.verbose("Attaching close events",B),B.on("click"+M,T.event.close),u.on("resize"+M,function(){T.event.debounce(T.refresh,50)}),T.instantiate(),void 0)},instantiate:function(){T.verbose("Storing instance of modal"),I=T,P.data(_,I)},destroy:function(){T.verbose("Destroying previous modal"),P.removeData(_).off(M),B.off(M),H.dimmer("destroy")},refresh:function(){T.remove.scrolling(),T.cacheSizes(),T.set.type(),T.set.position()},attachEvents:function(t,n){var r=e(t);n=e.isFunction(T[n])?T[n]:T.toggle,r.size()>0?(T.debug("Attaching modal events to element",t,n),r.off(M).on("click"+M,n)):T.error(O.notFound)},event:{close:function(){T.verbose("Closing element pressed"),e(this).is(C.approve)?e.proxy(N.onApprove,F)()!==!1?T.hide():T.verbose("Approve callback returned false cancelling hide"):e(this).is(C.deny)?e.proxy(N.onDeny,F)()!==!1?T.hide():T.verbose("Deny callback returned false cancelling hide"):T.hide()},click:function(t){0===e(t.target).closest(C.modal).size()&&(T.debug("Dimmer clicked, hiding all modals"),T.hideAll(),t.stopImmediatePropagation())},debounce:function(e,t){clearTimeout(T.timer),T.timer=setTimeout(e,t)},keyboard:function(e){var t=e.which,n=27;t==n&&(N.closable?(T.debug("Escape key pressed hiding modal"),T.hide()):T.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){S.dimmer("is active")&&T.refresh()}},toggle:function(){T.is.active()?T.hide():T.show()},show:function(t){t=e.isFunction(t)?t:function(){},T.showDimmer(),T.showModal(t)},showModal:function(t){t=e.isFunction(t)?t:function(){},T.is.active()?T.debug("Modal is already visible"):(T.cacheSizes(),T.set.position(),T.set.type(),w.filter(":visible").size()>0?(T.debug("Other modals visible, queueing show animation"),T.hideOthers(T.showModal)):(N.transition&&e.fn.transition!==r&&P.transition("is supported")?(T.debug("Showing modal with css animations"),P.transition(N.transition+" in",N.duration,function(){T.set.active(),t()})):(T.debug("Showing modal with javascript"),P.fadeIn(N.duration,N.easing,function(){T.set.active(),t()})),e.proxy(N.onShow,F)()))},showDimmer:function(){S.dimmer("is active")?T.debug("Dimmer already visible"):(T.debug("Showing dimmer"),S.dimmer("show"))},hide:function(t){t=e.isFunction(t)?t:function(){},T.hideDimmer(),T.hideModal(t)},hideDimmer:function(){S.dimmer("is active")?(T.debug("Hiding dimmer"),N.closable&&x.off("click"+M),S.dimmer("hide")):T.debug("Dimmer is not visible cannot hide")},hideModal:function(t){t=e.isFunction(t)?t:function(){},T.is.active()&&(T.debug("Hiding modal"),T.remove.keyboardShortcuts(),N.transition&&e.fn.transition!==r&&P.transition("is supported")?P.transition(N.transition+" out",N.duration,function(){T.remove.active(),T.restore.focus(),t()}):P.fadeOut(N.duration,N.easing,function(){T.remove.active(),T.restore.focus(),t()}),e.proxy(N.onHide,F)())},hideAll:function(t){t=e.isFunction(t)?t:function(){},y.is(":visible")&&(T.debug("Hiding all visible modals"),T.hideDimmer(),y.filter(":visible").modal("hide modal",t))},hideOthers:function(t){t=e.isFunction(t)?t:function(){},w.is(":visible")&&(T.debug("Hiding other modals"),w.filter(":visible").modal("hide modal",t))},add:{keyboardShortcuts:function(){T.verbose("Adding keyboard shortcuts"),f.on("keyup"+M,T.event.keyboard)}},save:{focus:function(){E=e(n.activeElement).blur()}},restore:{focus:function(){E&&E.size()>0&&E.focus()}},remove:{active:function(){P.removeClass(L.active)},keyboardShortcuts:function(){T.verbose("Removing keyboard shortcuts"),f.off("keyup"+M)},scrolling:function(){S.removeClass(L.scrolling),P.removeClass(L.scrolling)}},cacheSizes:function(){T.cache={height:P.outerHeight()+N.offset,contextHeight:"body"==N.context?e(t).height():S.height()},T.debug("Caching modal and container sizes",T.cache)},can:{fit:function(){return T.cache.height<T.cache.contextHeight}},is:{active:function(){return P.hasClass(L.active)},modernBrowser:function(){return"Microsoft Internet Explorer"!==navigator.appName}},set:{active:function(){T.add.keyboardShortcuts(),T.save.focus(),P.addClass(L.active),N.closable&&x.off("click"+M).on("click"+M,T.event.click)},scrolling:function(){S.addClass(L.scrolling),P.addClass(L.scrolling)},type:function(){T.can.fit()?(T.verbose("Modal fits on screen"),T.remove.scrolling()):(T.verbose("Modal cannot fit on screen setting to scrolling"),T.set.scrolling())},position:function(){T.verbose("Centering modal on page",T.cache,T.cache.height/2),T.can.fit()?P.css({top:"",marginTop:-(T.cache.height/2)}):P.css({marginTop:"1em",top:f.scrollTop()})}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,N,t);else{if(n===r)return N[t];N[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,T,t);else{if(n===r)return T[t];T[t]=n}},debug:function(){N.debug&&(N.performance?T.performance.log(arguments):(T.debug=Function.prototype.bind.call(console.info,console,N.name+":"),T.debug.apply(console,arguments)))},verbose:function(){N.verbose&&N.debug&&(N.performance?T.performance.log(arguments):(T.verbose=Function.prototype.bind.call(console.info,console,N.name+":"),T.verbose.apply(console,arguments)))},error:function(){T.error=Function.prototype.bind.call(console.error,console,N.name+":"),T.error.apply(console,arguments)},performance:{log:function(e){var t,n,r;N.performance&&(t=(new Date).getTime(),r=l||t,n=t-r,l=t,h.push({Element:F,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(T.performance.timer),T.performance.timer=setTimeout(T.performance.display,100)},display:function(){var t=N.name+":",n=0;l=!1,clearTimeout(T.performance.timer),e.each(h,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",D&&(t+=" '"+D+"'"),(console.group!==r||console.table!==r)&&h.length>0&&(console.groupCollapsed(t),console.table?console.table(h):e.each(h,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(t,n,i){var o,u,f;return n=n||m,i=F||i,"string"==typeof t&&I!==r&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var s=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(I[s])&&n!=o)I=I[s];else{if(I[s]!==r)return u=I[s],!1;if(!e.isPlainObject(I[i])||n==o)return I[i]!==r?(u=I[i],!1):(T.error(O.method,t),!1);I=I[i]}})),e.isFunction(u)?f=u.apply(i,n):u!==r&&(f=u),e.isArray(s)?s.push(f):s!==r?s=[s,f]:f!==r&&(s=f),u}},v?(I===r&&T.initialize(),T.invoke(p)):(I!==r&&T.destroy(),T.initialize())}),s!==r?s:this},e.fn.modal.settings={name:"Modal",namespace:"modal",debug:!0,verbose:!0,performance:!0,closable:!0,context:"body",duration:500,easing:"easeOutExpo",offset:0,transition:"scale",onShow:function(){},onHide:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:".close, .actions .button",approve:".actions .positive, .actions .approve",deny:".actions .negative, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined."},className:{active:"active",scrolling:"scrolling"}}}(jQuery,window,document),function(e,t,n,r){e.fn.nag=function(n){var i,s=e(this),o=s.selector||"",u=(new Date).getTime(),f=[],l=arguments[0],c="string"==typeof l,h=[].slice.call(arguments,1);return e(this).each(function(){var p,v,m,y,w,E,S,x,T,N=e.extend(!0,{},e.fn.nag.settings,n),C=N.className,L=N.selector,A=N.error,O=N.namespace,M="."+O,_=O+"-module",D=e(this),P=D.find(L.close),H=e(N.context),B=this,F=D.data(_),I=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};T={initialize:function(){T.verbose("Initializing element"),p=D.offset(),v=D.outerHeight(),m=H.outerWidth(),y=H.outerHeight(),w=H.offset(),D.data(_,T),P.on("click"+M,T.dismiss),N.context==t&&"fixed"==N.position&&D.addClass(C.fixed),N.sticky&&(T.verbose("Adding scroll events"),"absolute"==N.position?H.on("scroll"+M,T.event.scroll).on("resize"+M,T.event.scroll):e(t).on("scroll"+M,T.event.scroll).on("resize"+M,T.event.scroll),e.proxy(T.event.scroll,this)()),N.displayTime>0&&setTimeout(T.hide,N.displayTime),T.should.show()?D.is(":visible")||T.show():T.hide()},destroy:function(){T.verbose("Destroying instance"),D.removeData(_).off(M),N.sticky&&H.off(M)},refresh:function(){T.debug("Refreshing cached calculations"),p=D.offset(),v=D.outerHeight(),m=H.outerWidth(),y=H.outerHeight(),w=H.offset()},show:function(){T.debug("Showing nag",N.animation.show),"fade"==N.animation.show?D.fadeIn(N.duration,N.easing):D.slideDown(N.duration,N.easing)},hide:function(){T.debug("Showing nag",N.animation.hide),"fade"==N.animation.show?D.fadeIn(N.duration,N.easing):D.slideUp(N.duration,N.easing)},onHide:function(){T.debug("Removing nag",N.animation.hide),D.remove(),N.onHide&&N.onHide()},stick:function(){if(T.refresh(),"fixed"==N.position){var n=e(t).prop("pageYOffset")||e(t).scrollTop(),r=D.hasClass(C.bottom)?w.top+(y-v)-n:w.top-n;D.css({position:"fixed",top:r,left:w.left,width:m-N.scrollBarWidth})}else D.css({top:S})},unStick:function(){D.css({top:""})},dismiss:function(e){N.storageMethod&&T.storage.set(N.storedKey,N.storedValue),T.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return N.persist?(T.debug("Persistent nag is set, can show nag"),!0):T.storage.get(N.storedKey)!=N.storedValue?(T.debug("Stored value is not set, can show nag",T.storage.get(N.storedKey)),!0):(T.debug("Stored value is set, cannot show nag",T.storage.get(N.storedKey)),!1)},stick:function(){return E=H.prop("pageYOffset")||H.scrollTop(),S=D.hasClass(C.bottom)?y-D.outerHeight()+E:E,S>p.top?!0:"fixed"==N.position?!0:!1}},storage:{set:function(n,i){T.debug("Setting stored value",n,i,N.storageMethod),"local"==N.storageMethod&&t.store!==r?t.store.set(n,i):e.cookie!==r?e.cookie(n,i):T.error(A.noStorage)},get:function(n){return T.debug("Getting stored value",n,N.storageMethod),"local"==N.storageMethod&&t.store!==r?t.store.get(n):e.cookie!==r?e.cookie(n):(T.error(A.noStorage),void 0)}},event:{scroll:function(){x!==r&&clearTimeout(x),x=setTimeout(function(){T.should.stick()?I(T.stick):T.unStick()},N.lag)}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,N,t);else{if(n===r)return N[t];N[t]=n}},internal:function(t,n){return T.debug("Changing internal",t,n),n===r?T[t]:(e.isPlainObject(t)?e.extend(!0,T,t):T[t]=n,void 0)},debug:function(){N.debug&&(N.performance?T.performance.log(arguments):(T.debug=Function.prototype.bind.call(console.info,console,N.name+":"),T.debug.apply(console,arguments)))},verbose:function(){N.verbose&&N.debug&&(N.performance?T.performance.log(arguments):(T.verbose=Function.prototype.bind.call(console.info,console,N.name+":"),T.verbose.apply(console,arguments)))},error:function(){T.error=Function.prototype.bind.call(console.error,console,N.name+":"),T.error.apply(console,arguments)},performance:{log:function(e){var t,n,r;N.performance&&(t=(new Date).getTime(),r=u||t,n=t-r,u=t,f.push({Element:B,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(T.performance.timer),T.performance.timer=setTimeout(T.performance.display,100)},display:function(){var t=N.name+":",n=0;u=!1,clearTimeout(T.performance.timer),e.each(f,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",o&&(t+=" '"+o+"'"),s.size()>1&&(t+=" ("+s.size()+")"),(console.group!==r||console.table!==r)&&f.length>0&&(console.groupCollapsed(t),console.table?console.table(f):e.each(f,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),f=[]}},invoke:function(t,n,s){var o,u,f;return n=n||h,s=B||s,"string"==typeof t&&F!==r&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var s=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(F[s])&&n!=o)F=F[s];else{if(F[s]!==r)return u=F[s],!1;if(!e.isPlainObject(F[i])||n==o)return F[i]!==r?(u=F[i],!1):(T.error(A.method,t),!1);F=F[i]}})),e.isFunction(u)?f=u.apply(s,n):u!==r&&(f=u),e.isArray(i)?i.push(f):i!==r?i=[i,f]:f!==r&&(i=f),u}},c?(F===r&&T.initialize(),T.invoke(l)):(F!==r&&T.destroy(),T.initialize())}),i!==r?i:this},e.fn.nag.settings={name:"Nag",verbose:!0,debug:!0,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},position:"fixed",scrollBarWidth:18,storageMethod:"cookie",storedKey:"nag",storedValue:"dismiss",sticky:!1,lag:0,context:t,error:{noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".icon.close"},speed:500,easing:"easeOutQuad",onHide:function(){}}}(jQuery,window,document),function(e,t,n,r){e.fn.popup=function(i){var s,o=e(this),u=e(n),f=o.selector||"",l=(new Date).getTime(),h=[],p=arguments[0],v="string"==typeof p,m=[].slice.call(arguments,1);return o.each(function(){var n,o=e.isPlainObject(i)?e.extend(!0,{},e.fn.popup.settings,i):e.extend({},e.fn.popup.settings),c=o.selector,g=o.className,y=o.error,w=o.metadata,E=o.namespace,S="."+o.namespace,x="module-"+E,T=e(this),N=e(o.context),C=o.target?e(o.target):T,L=e(t),A=o.inline?C.offsetParent():L,O=o.inline?C.next(o.selector.popup):L.children(o.selector.popup).last(),M=0,_=this,D=T.data(x);n={initialize:function(){n.debug("Initializing module",T),"click"==o.on?T.on("click",n.toggle):T.on(n.get.startEvent()+S,n.event.start).on(n.get.endEvent()+S,n.event.end),o.target&&n.debug("Target set to element",C),L.on("resize"+S,n.event.resize),n.instantiate()},instantiate:function(){n.verbose("Storing instance of module",n),D=n,T.data(x,D)},refresh:function(){o.inline?(O=C.next(c.popup),A=C.offsetParent()):O=L.children(c.popup).last()},destroy:function(){n.debug("Destroying previous module"),L.off(S),O.remove(),T.off(S).removeData(x)},event:{start:function(){n.timer=setTimeout(function(){n.is.hidden()&&n.show()},o.delay)},end:function(){clearTimeout(n.timer),n.is.visible()&&n.hide()},resize:function(){n.is.visible()&&n.set.position()}},create:function(){n.debug("Creating pop-up html");var t=T.data(w.html)||o.html,r=T.data(w.variation)||o.variation,i=T.data(w.title)||o.title,s=T.data(w.content)||T.attr("title")||o.content;t||s||i?(t||(t=o.template({title:i,content:s})),O=e("<div/>").addClass(g.popup).addClass(r).html(t),o.inline?(n.verbose("Inserting popup element inline",O),O.insertAfter(T)):(n.verbose("Appending popup element to body",O),O.appendTo(N)),e.proxy(o.onCreate,O)()):n.error(y.content)},toggle:function(){n.debug("Toggling pop-up"),n.is.hidden()?(n.hideAll(),n.show()):n.hide()},show:function(e){e=e||function(){},n.debug("Showing pop-up",o.transition),o.preserve||n.refresh(),n.exists()||n.create(),n.set.position(),n.animate.show(e)},hide:function(e){e=e||function(){},T.removeClass(g.visible),n.unbind.close(),n.is.visible()&&n.animate.hide(e)},hideAll:function(){e(c.popup).filter(":visible").popup("hide")},hideGracefully:function(t){0===e(t.target).closest(c.popup).size()&&n.hide()},exists:function(){return o.inline?0!==O.size():O.parent(N).size()},remove:function(){n.debug("Removing popup"),O.remove()},animate:{show:function(t){t=t||function(){},T.addClass(g.visible),o.transition&&e.fn.transition!==r&&T.transition("is supported")?O.transition(o.transition+" in",o.duration,function(){n.bind.close(),e.proxy(t,_)()}):O.stop().fadeIn(o.duration,o.easing,function(){n.bind.close(),e.proxy(t,_)()}),e.proxy(o.onShow,_)()},hide:function(t){t=t||function(){},n.debug("Hiding pop-up"),o.transition&&e.fn.transition!==r&&T.transition("is supported")?O.transition(o.transition+" out",o.duration,function(){n.reset(),t()}):O.stop().fadeOut(o.duration,o.easing,function(){n.reset(),t()}),e.proxy(o.onHide,_)()}},get:{startEvent:function(){return"hover"==o.on?"mouseenter":"focus"==o.on?"focus":void 0},endEvent:function(){return"hover"==o.on?"mouseleave":"focus"==o.on?"blur":void 0},offstagePosition:function(){var r={top:e(t).scrollTop(),bottom:e(t).scrollTop()+e(t).height(),left:0,right:e(t).width()},i={width:O.width(),height:O.outerHeight(),position:O.offset()},s={},o=[];return i.position&&(s={top:i.position.top<r.top,bottom:i.position.top+i.height>r.bottom,right:i.position.left+i.width>r.right,left:i.position.left<r.left}),n.verbose("Checking if outside viewable area",i.position),e.each(s,function(e,t){t&&o.push(e)}),o.length>0?o.join(" "):!1},nextPosition:function(e){switch(e){case"top left":e="bottom left";break;case"bottom left":e="top right";break;case"top right":e="bottom right";break;case"bottom right":e="top center";break;case"top center":e="bottom center";break;case"bottom center":e="right center";break;case"right center":e="left center";break;case"left center":e="top center"}return e}},set:{position:function(r,i){var s,u,f=(e(t).width(),e(t).height(),C.outerWidth()),l=C.outerHeight(),c=O.width(),h=O.outerHeight(),p=A.outerWidth(),d=A.outerHeight(),v=o.distanceAway,m=o.inline?C.position():C.offset();switch(r=r||T.data(w.position)||o.position,i=i||T.data(w.offset)||o.offset,o.inline&&("left center"==r||"right center"==r?(i+=parseInt(t.getComputedStyle(_).getPropertyValue("margin-top"),10),v+=-parseInt(t.getComputedStyle(_).getPropertyValue("margin-left"),10)):(i+=parseInt(t.getComputedStyle(_).getPropertyValue("margin-left"),10),v+=parseInt(t.getComputedStyle(_).getPropertyValue("margin-top"),10))),n.debug("Calculating offset for position",r),r){case"top left":s={bottom:d-m.top+v,right:p-m.left-i,top:"auto",left:"auto"};break;case"top center":s={bottom:d-m.top+v,left:m.left+f/2-c/2+i,top:"auto",right:"auto"};break;case"top right":s={top:"auto",bottom:d-m.top+v,left:m.left+f+i,right:"auto"};break;case"left center":s={top:m.top+l/2-h/2+i,right:p-m.left+v,left:"auto",bottom:"auto"};break;case"right center":s={top:m.top+l/2-h/2+i,left:m.left+f+v,bottom:"auto",right:"auto"};break;case"bottom left":s={top:m.top+l+v,right:p-m.left-i,left:"auto",bottom:"auto"};break;case"bottom center":s={top:m.top+l+v,left:m.left+f/2-c/2+i,bottom:"auto",right:"auto"};break;case"bottom right":s={top:m.top+l+v,left:m.left+f+i,bottom:"auto",right:"auto"}}return O.css(s).removeClass(g.position).addClass(r).addClass(g.loading),u=n.get.offstagePosition(),u?(n.debug("Element is outside boundaries",u),M<o.maxSearchDepth?(r=n.get.nextPosition(r),M++,n.debug("Trying new position",r),n.set.position(r)):(n.error(y.recursion),M=0,n.reset(),!1)):(n.debug("Position is on stage",r),M=0,!0)}},bind:{close:function(){"click"==o.on&&o.closable&&(n.verbose("Binding popup close event to document"),u.on("click"+S,n.hideGracefully))}},unbind:{close:function(){"click"==o.on&&o.closable&&(n.verbose("Removing close event from document"),u.off("click"+S))}},is:{visible:function(){return O.is(":visible")},hidden:function(){return!n.is.visible()}},reset:function(){O.attr("style","").removeAttr("style"),o.preserve||n.remove()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,o,t);else{if(n===r)return o[t];o[t]=n}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,n,t);else{if(i===r)return n[t];n[t]=i}},debug:function(){o.debug&&(o.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,o.name+":"),n.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),n.verbose.apply(console,arguments)))},error:function(){n.error=Function.prototype.bind.call(console.error,console,o.name+":"),n.error.apply(console,arguments)},performance:{log:function(e){var t,r,i;o.performance&&(t=(new Date).getTime(),i=l||t,r=t-i,l=t,h.push({Element:_,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":r})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,100)},display:function(){var t=o.name+":",i=0;l=!1,clearTimeout(n.performance.timer),e.each(h,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",f&&(t+=" '"+f+"'"),(console.group!==r||console.table!==r)&&h.length>0&&(console.groupCollapsed(t),console.table?console.table(h):e.each(h,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(t,i,o){var u,f,l;return i=i||m,o=_||o,"string"==typeof t&&D!==r&&(t=t.split(/[\. ]/),u=t.length-1,e.each(t,function(i,s){var o=i!=u?s+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(D[s])&&i!=u)D=D[s];else{if(!e.isPlainObject(D[o])||i==u)return D[s]!==r?(f=D[s],!1):D[o]!==r?(f=D[o],!1):(n.error(y.method,t),!1);D=D[o]}})),e.isFunction(f)?l=f.apply(o,i):f!==r&&(l=f),e.isArray(s)?s.push(l):s!==r?s=[s,l]:l!==r&&(s=l),f}},v?(D===r&&n.initialize(),n.invoke(p)):(D!==r&&n.destroy(),n.initialize())}),s!==r?s:this},e.fn.popup.settings={name:"Popup",debug:!0,verbose:!0,performance:!0,namespace:"popup",onCreate:function(){},onShow:function(){},onHide:function(){},variation:"",content:!1,html:!1,title:!1,on:"hover",target:!1,closable:!0,context:"body",position:"top center",delay:150,inline:!1,preserve:!1,duration:250,easing:"easeOutQuint",transition:"scale",distanceAway:0,offset:0,maxSearchDepth:10,error:{content:"Your popup has no content specified",method:"The method you called is not defined.",recursion:"Popup attempted to reposition element to fit, but could not find an adequate position."},metadata:{content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},template:function(e){var t="";return typeof e!==r&&(typeof e.title!==r&&e.title&&(t+='<div class="header">'+e.title+'</div class="header">'),typeof e.content!==r&&e.content&&(t+='<div class="content">'+e.content+"</div>")),t}}}(jQuery,window,document),function(e,t,n,r){e.fn.rating=function(t){var n,i=e(this),s=i.selector||"",o=(new Date).getTime(),u=[],f=arguments[0],l="string"==typeof f,c=[].slice.call(arguments,1);return i.each(function(){var p,v=e.isPlainObject(t)?e.extend(!0,{},e.fn.rating.settings,t):e.extend({},e.fn.rating.settings),m=v.namespace,y=v.className,w=v.metadata,E=v.selector,S=v.error,x="."+m,T="module-"+m,N=this,C=e(this).data(T),L=e(this),A=L.find(E.icon);p={initialize:function(){p.verbose("Initializing rating module",v),v.interactive?p.enable():p.disable(),v.initialRating&&(p.debug("Setting initial rating"),p.setRating(v.initialRating)),L.data(w.rating)&&(p.debug("Rating found in metadata"),p.setRating(L.data(w.rating))),p.instantiate()},instantiate:function(){p.verbose("Instantiating module",v),C=p,L.data(T,p)},destroy:function(){p.verbose("Destroying previous instance",C),L.removeData(T),A.off(x)},event:{mouseenter:function(){var t=e(this);t.nextAll().removeClass(y.hover),L.addClass(y.hover),t.addClass(y.hover).prevAll().addClass(y.hover)},mouseleave:function(){L.removeClass(y.hover),A.removeClass(y.hover)},click:function(){var t=e(this),n=p.getRating(),r=A.index(t)+1;v.clearable&&n==r?p.clearRating():p.setRating(r)}},clearRating:function(){p.debug("Clearing current rating"),p.setRating(0)},getRating:function(){var e=A.filter("."+y.active).size();return p.verbose("Current rating retrieved",e),e},enable:function(){p.debug("Setting rating to interactive mode"),A.on("mouseenter"+x,p.event.mouseenter).on("mouseleave"+x,p.event.mouseleave).on("click"+x,p.event.click),L.removeClass(y.disabled)},disable:function(){p.debug("Setting rating to read-only mode"),A.off(x),L.addClass(y.disabled)},setRating:function(t){var n=t-1>=0?t-1:0,r=A.eq(n);L.removeClass(y.hover),A.removeClass(y.hover).removeClass(y.active),t>0&&(p.verbose("Setting current rating to",t),r.addClass(y.active).prevAll().addClass(y.active)),e.proxy(v.onRate,N)(t)},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,v,t);else{if(n===r)return v[t];v[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===r)return p[t];p[t]=n}},debug:function(){v.debug&&(v.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,v.name+":"),p.debug.apply(console,arguments)))},verbose:function(){v.verbose&&v.debug&&(v.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,v.name+":"),p.verbose.apply(console,arguments)))},error:function(){p.error=Function.prototype.bind.call(console.error,console,v.name+":"),p.error.apply(console,arguments)},performance:{log:function(e){var t,n,r;v.performance&&(t=(new Date).getTime(),r=o||t,n=t-r,o=t,u.push({Element:N,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,100)},display:function(){var t=v.name+":",n=0;o=!1,clearTimeout(p.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),i.size()>1&&(t+=" ("+i.size()+")"),(console.group!==r||console.table!==r)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,i,s){var o,u,f;return i=i||c,s=N||s,"string"==typeof t&&C!==r&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var s=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(C[s])&&n!=o)C=C[s];else{if(C[s]!==r)return u=C[s],!1;if(!e.isPlainObject(C[i])||n==o)return C[i]!==r?(u=C[i],!1):(p.error(S.method,t),!1);C=C[i]}})),e.isFunction(u)?f=u.apply(s,i):u!==r&&(f=u),e.isArray(n)?n.push(f):n!==r?n=[n,f]:f!==r&&(n=f),u}},l?(C===r&&p.initialize(),p.invoke(f)):(C!==r&&p.destroy(),p.initialize())}),n!==r?n:this},e.fn.rating.settings={name:"Rating",namespace:"rating",verbose:!0,debug:!0,performance:!0,initialRating:0,interactive:!0,clearable:!1,onRate:function(){},error:{method:"The method you called is not defined"},metadata:{rating:"rating"},className:{active:"active",disabled:"disabled",hover:"hover",loading:"loading"},selector:{icon:".icon"}}}(jQuery,window,document),function(e,t,n,r){e.fn.search=function(n,i){var s,o=e(this),u=o.selector||"",f=(new Date).getTime(),l=[],c=arguments[0],h="string"==typeof c,p=[].slice.call(arguments,1);return e(this).each(function(){var v,y=e.extend(!0,{},e.fn.search.settings,i),w=y.className,E=y.selector,S=y.error,x=y.namespace,T="."+x,N=x+"-module",C=e(this),L=C.find(E.prompt),A=C.find(E.searchButton),O=C.find(E.results),M=(C.find(E.result),C.find(E.category),this),_=C.data(N);v={initialize:function(){v.verbose("Initializing module");var e=L[0],t=e.oninput!==r?"input":e.onpropertychange!==r?"propertychange":"keyup";L.on("focus"+T,v.event.focus).on("blur"+T,v.event.blur).on("keydown"+T,v.handleKeyboard),y.automatic&&L.on(t+T,v.search.throttle),A.on("click"+T,v.search.query),O.on("click"+T,E.result,v.results.select),v.instantiate()},instantiate:function(){v.verbose("Storing instance of module",v),_=v,C.data(N,v)},destroy:function(){v.verbose("Destroying instance"),C.removeData(N)},event:{focus:function(){C.addClass(w.focus),v.results.show()},blur:function(){v.search.cancel(),C.removeClass(w.focus),v.results.hide()}},handleKeyboard:function(t){var n,r=C.find(E.result),i=C.find(E.category),s=t.which,o={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40},u=w.active,f=r.index(r.filter("."+u)),l=r.size();if(s==o.escape&&(v.verbose("Escape key pressed, blurring search field"),L.trigger("blur")),O.filter(":visible").size()>0)if(s==o.enter){if(v.verbose("Enter key pressed, selecting active result"),r.filter("."+u).exists())return e.proxy(v.results.select,r.filter("."+u))(),t.preventDefault(),!1}else s==o.upArrow?(v.verbose("Up key pressed, changing active result"),n=0>f-1?f:f-1,i.removeClass(u),r.removeClass(u).eq(n).addClass(u).closest(i).addClass(u),t.preventDefault()):s==o.downArrow&&(v.verbose("Down key pressed, changing active result"),n=f+1>=l?f:f+1,i.removeClass(u),r.removeClass(u).eq(n).addClass(u).closest(i).addClass(u),t.preventDefault());else s==o.enter&&(v.verbose("Enter key pressed, executing query"),v.search.query(),A.addClass(w.down),L.one("keyup",function(){A.removeClass(w.down)}))},search:{cancel:function(){var e=C.data("xhr")||!1;e&&"resolved"!=e.state()&&(v.debug("Cancelling last search"),e.abort())},throttle:function(){var e=L.val(),t=e.length;clearTimeout(v.timer),t>=y.minCharacters?v.timer=setTimeout(v.search.query,y.searchThrottle):v.results.hide()},query:function(){var t=L.val(),r=v.search.cache.read(t);r?(v.debug("Reading result for '"+t+"' from cache"),v.results.add(r)):(v.debug("Querying for '"+t+"'"),"object"==typeof n?v.search.local(t):v.search.remote(t),e.proxy(y.onSearchQuery,C)(t))},local:function(t){var r,i=[],s=[],o=e.isArray(y.searchFields)?y.searchFields:[y.searchFields],u=new RegExp("(?:s|^)"+t,"i"),f=new RegExp(t,"i");C.addClass(w.loading),e.each(o,function(t,r){e.each(n,function(t,n){"string"==typeof n[r]&&-1==e.inArray(n,i)&&-1==e.inArray(n,s)&&(u.test(n[r])?i.push(n):f.test(n[r])&&s.push(n))})}),r=v.results.generate({results:e.merge(i,s)}),C.removeClass(w.loading),v.search.cache.write(t,r),v.results.add(r)},remote:function(t){var r,i={stateContext:C,url:n,urlData:{query:t},success:function(e){r=v.results.generate(e),v.search.cache.write(t,r),v.results.add(r)},failure:v.error};v.search.cancel(),v.debug("Executing search"),e.extend(!0,i,y.apiSettings),e.api(i)},cache:{read:function(e){var t=C.data("cache");return y.cache&&"object"==typeof t&&t[e]!==r?t[e]:!1},write:function(e,t){var n=C.data("cache")!==r?C.data("cache"):{};n[e]=t,C.data("cache",n)}}},results:{generate:function(t){v.debug("Generating html from response",t);var n=y.templates[y.type],r="";return e.isPlainObject(t.results)&&!e.isEmptyObject(t.results)||e.isArray(t.results)&&t.results.length>0?(y.maxResults>0&&(t.results=e.makeArray(t.results).slice(0,y.maxResults)),t.results.length>0&&(e.isFunction(n)?r=n(t):v.error(S.noTemplate,!1))):r=v.message(S.noResults,"empty"),e.proxy(y.onResults,C)(t),r},add:function(t){("default"==y.onResultsAdd||"default"==e.proxy(y.onResultsAdd,O)(t))&&O.html(t),v.results.show()},show:function(){0===O.filter(":visible").size()&&L.filter(":focus").size()>0&&""!==O.html()&&(O.stop().fadeIn(200),e.proxy(y.onResultsOpen,O)())},hide:function(){O.filter(":visible").size()>0&&(O.stop().fadeOut(200),e.proxy(y.onResultsClose,O)())},select:function(n){v.debug("Search result selected");var r=e(this),i=r.find(".title"),s=i.html();if("default"==y.onSelect||"default"==e.proxy(y.onSelect,this)(n)){var o=r.find("a[href]").eq(0),u=o.attr("href")||!1,f=o.attr("target")||!1;v.results.hide(),L.val(s),u&&("_blank"==f||n.ctrlKey?t.open(u):t.location.href=u)}}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,y,t);else{if(n===r)return y[t];y[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,v,t);else{if(n===r)return v[t];v[t]=n}},debug:function(){y.debug&&(y.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,y.name+":"),v.debug.apply(console,arguments)))},verbose:function(){y.verbose&&y.debug&&(y.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,y.name+":"),v.verbose.apply(console,arguments)))},error:function(){v.error=Function.prototype.bind.call(console.error,console,y.name+":"),v.error.apply(console,arguments)},performance:{log:function(e){var t,n,r;y.performance&&(t=(new Date).getTime(),r=f||t,n=t-r,f=t,l.push({Element:M,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,100)},display:function(){var t=y.name+":",n=0;f=!1,clearTimeout(v.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",u&&(t+=" '"+u+"'"),o.size()>1&&(t+=" ("+o.size()+")"),(console.group!==r||console.table!==r)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,i){var o,u,f;return n=n||p,i=M||i,"string"==typeof t&&_!==r&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var s=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(_[s])&&n!=o)_=_[s];else{if(_[s]!==r)return u=_[s],!1;if(!e.isPlainObject(_[i])||n==o)return _[i]!==r?(u=_[i],!1):(v.error(S.method,t),!1);_=_[i]}})),e.isFunction(u)?f=u.apply(i,n):u!==r&&(f=u),e.isArray(s)?s.push(f):s!==r?s=[s,f]:f!==r&&(s=f),u}},h?(_===r&&v.initialize(),v.invoke(c)):(_!==r&&v.destroy(),v.initialize())}),s!==r?s:this},e.fn.search.settings={name:"Search Module",namespace:"search",debug:!0,verbose:!0,performance:!0,onSelect:"default",onResultsAdd:"default",onSearchQuery:function(){},onResults:function(){},onResultsOpen:function(){},onResultsClose:function(){},automatic:"true",type:"simple",minCharacters:3,searchThrottle:300,maxResults:7,cache:!0,searchFields:["title","description"],apiSettings:{},className:{active:"active",down:"down",focus:"focus",empty:"empty",loading:"loading"},error:{noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noTemplate:"A valid template name was not specified.",serverError:"There was an issue with querying the server.",method:"The method you called is not defined."},selector:{prompt:".prompt",searchButton:".search.button",results:".results",category:".category",result:".result"},templates:{message:function(e,t){var n="";return e!==r&&t!==r&&(n+='<div class="message '+t+'">',n+="empty"==t?'<div class="header">No Results</div class="header"><div class="description">'+e+'</div class="description">':' <div class="description">'+e+"</div>",n+="</div>"),n},categories:function(t){var n="";return t.results!==r?(e.each(t.results,function(t,i){i.results!==r&&i.results.length>0&&(n+='<div class="category"><div class="name">'+i.name+"</div>",e.each(i.results,function(e,t){n+='<div class="result">',n+='<a href="'+t.url+'"></a>',t.image!==r&&(n+='<div class="image"> <img src="'+t.image+'"></div>'),n+='<div class="info">',t.price!==r&&(n+='<div class="price">'+t.price+"</div>"),t.title!==r&&(n+='<div class="title">'+t.title+"</div>"),t.description!==r&&(n+='<div class="description">'+t.description+"</div>"),n+="</div></div>"}),n+="</div>")}),t.resultPage&&(n+='<a href="'+t.resultPage.url+'" class="all">'+t.resultPage.text+"</a>"),n):!1},simple:function(t){var n="";return t.results!==r?(e.each(t.results,function(e,t){n+='<a class="result" href="'+t.url+'">',t.image!==r&&(n+='<div class="image"> <img src="'+t.image+'"></div>'),n+='<div class="info">',t.price!==r&&(n+='<div class="price">'+t.price+"</div>"),t.title!==r&&(n+='<div class="title">'+t.title+"</div>"),t.description!==r&&(n+='<div class="description">'+t.description+"</div>"),n+="</div></a>"}),t.resultPage&&(n+='<a href="'+t.resultPage.url+'" class="all">'+t.resultPage.text+"</a>"),n):!1}}}}(jQuery,window,document),function(e,t,n,r){e.fn.shape=function(t){var i,s=e(this),o=e("body"),u=(new Date).getTime(),f=[],l=arguments[0],h="string"==typeof l,p=[].slice.call(arguments,1);return s.each(function(){var v,m,y,w=s.selector||"",E=e.extend(!0,{},e.fn.shape.settings,t),S=E.namespace,x=E.selector,T=E.error,N=E.className,C="."+S,L="module-"+S,A=e(this),O=A.find(x.sides),M=A.find(x.side),_=!1,D=this,P=A.data(L);y={initialize:function(){y.verbose("Initializing module for",D),y.set.defaultSide(),y.instantiate()},instantiate:function(){y.verbose("Storing instance of module",y),P=y,A.data(L,P)},destroy:function(){y.verbose("Destroying previous module for",D),A.removeData(L).off(C)},refresh:function(){y.verbose("Refreshing selector cache for",D),A=e(D),O=e(this).find(x.shape),M=e(this).find(x.side)},repaint:function(){y.verbose("Forcing repaint event");var e=O.get(0)||n.createElement("div");e.offsetWidth},animate:function(t,n){y.verbose("Animating box with properties",t),n=n||function(e){y.verbose("Executing animation callback"),e!==r&&e.stopPropagation(),y.reset(),y.set.active()},e.proxy(E.beforeChange,m[0])(),y.get.transitionEvent()?(y.verbose("Starting CSS animation"),A.addClass(N.animating),y.repaint(),A.addClass(N.animating),v.addClass(N.hidden),O.css(t).one(y.get.transitionEvent(),n),y.set.duration(E.duration)):n()},queue:function(e){y.debug("Queueing animation of",e),O.one(y.get.transitionEvent(),function(){y.debug("Executing queued animation"),setTimeout(function(){A.shape(e)},0)})},reset:function(){y.verbose("Animating states reset"),A.removeClass(N.animating).attr("style","").removeAttr("style"),O.attr("style","").removeAttr("style"),M.attr("style","").removeAttr("style").removeClass(N.hidden),m.removeClass(N.animating).attr("style","").removeAttr("style")},is:{animating:function(){return A.hasClass(N.animating)}},set:{defaultSide:function(){v=A.find("."+E.className.active),m=v.next(x.side).size()>0?v.next(x.side):A.find(x.side).first(),_=!1,y.verbose("Active side set to",v),y.verbose("Next side set to",m)},duration:function(e){e=e||E.duration,e="number"==typeof e?e+"ms":e,y.verbose("Setting animation duration",e),O.add(M).css({"-webkit-transition-duration":e,"-moz-transition-duration":e,"-ms-transition-duration":e,"-o-transition-duration":e,"transition-duration":e})},stageSize:function(){var e=A.clone().addClass(N.loading),t=e.find("."+E.className.active),n=_?e.find(_):t.next(x.side).size()>0?t.next(x.side):e.find(x.side).first(),r={};t.removeClass(N.active),n.addClass(N.active),e.prependTo(o),r={width:n.outerWidth(),height:n.outerHeight()},e.remove(),A.css(r),y.verbose("Resizing stage to fit new content",r)},nextSide:function(e){_=e,m=A.find(e),0===m.size()&&y.error(T.side),y.verbose("Next side manually set to",m)},active:function(){y.verbose("Setting new side to active",m),M.removeClass(N.active),m.addClass(N.active),e.proxy(E.onChange,m[0])(),y.set.defaultSide()}},flip:{up:function(){y.debug("Flipping up",m),y.is.animating()?y.queue("flip up"):(y.set.stageSize(),y.stage.above(),y.animate(y.get.transform.up()))},down:function(){y.debug("Flipping down",m),y.is.animating()?y.queue("flip down"):(y.set.stageSize(),y.stage.below(),y.animate(y.get.transform.down()))},left:function(){y.debug("Flipping left",m),y.is.animating()?y.queue("flip left"):(y.set.stageSize(),y.stage.left(),y.animate(y.get.transform.left()))},right:function(){y.debug("Flipping right",m),y.is.animating()?y.queue("flip right"):(y.set.stageSize(),y.stage.right(),y.animate(y.get.transform.right()))},over:function(){y.debug("Flipping over",m),y.is.animating()?y.queue("flip over"):(y.set.stageSize(),y.stage.behind(),y.animate(y.get.transform.over()))},back:function(){y.debug("Flipping back",m),y.is.animating()?y.queue("flip back"):(y.set.stageSize(),y.stage.behind(),y.animate(y.get.transform.back()))}},get:{transform:{up:function(){var e={y:-((v.outerHeight()-m.outerHeight())/2),z:-(v.outerHeight()/2)};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(-90deg)"}},down:function(){var e={y:-((v.outerHeight()-m.outerHeight())/2),z:-(v.outerHeight()/2)};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(90deg)"}},left:function(){var e={x:-((v.outerWidth()-m.outerWidth())/2),z:-(v.outerWidth()/2)};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(90deg)"}},right:function(){var e={x:-((v.outerWidth()-m.outerWidth())/2),z:-(v.outerWidth()/2)};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(-90deg)"}},over:function(){var e={x:-((v.outerWidth()-m.outerWidth())/2)};return{transform:"translateX("+e.x+"px) rotateY(180deg)"}},back:function(){var e={x:-((v.outerWidth()-m.outerWidth())/2)};return{transform:"translateX("+e.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var e,t=n.createElement("element"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(t.style[e]!==r)return i[e]},nextSide:function(){return v.next(x.side).size()>0?v.next(x.side):A.find(x.side).first()}},stage:{above:function(){var e={origin:(v.outerHeight()-m.outerHeight())/2,depth:{active:m.outerHeight()/2,next:v.outerHeight()/2}};y.verbose("Setting the initial animation position as above",m,e),v.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),m.addClass(N.animating).css({display:"block",top:e.origin+"px",transform:"rotateX(90deg) translateZ("+e.depth.next+"px)"})},below:function(){var e={origin:(v.outerHeight()-m.outerHeight())/2,depth:{active:m.outerHeight()/2,next:v.outerHeight()/2}};y.verbose("Setting the initial animation position as below",m,e),v.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),m.addClass(N.animating).css({display:"block",top:e.origin+"px",transform:"rotateX(-90deg) translateZ("+e.depth.next+"px)"})},left:function(){var e={origin:(v.outerWidth()-m.outerWidth())/2,depth:{active:m.outerWidth()/2,next:v.outerWidth()/2}};y.verbose("Setting the initial animation position as left",m,e),v.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),m.addClass(N.animating).css({display:"block",left:e.origin+"px",transform:"rotateY(-90deg) translateZ("+e.depth.next+"px)"})},right:function(){var e={origin:(v.outerWidth()-m.outerWidth())/2,depth:{active:m.outerWidth()/2,next:v.outerWidth()/2}};y.verbose("Setting the initial animation position as left",m,e),v.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),m.addClass(N.animating).css({display:"block",left:e.origin+"px",transform:"rotateY(90deg) translateZ("+e.depth.next+"px)"})},behind:function(){var e={origin:(v.outerWidth()-m.outerWidth())/2,depth:{active:m.outerWidth()/2,next:v.outerWidth()/2}};y.verbose("Setting the initial animation position as behind",m,e),v.css({transform:"rotateY(0deg)"}),m.addClass(N.animating).css({display:"block",left:e.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,E,t);else{if(n===r)return E[t];E[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,y,t);else{if(n===r)return y[t];y[t]=n}},debug:function(){E.debug&&(E.performance?y.performance.log(arguments):(y.debug=Function.prototype.bind.call(console.info,console,E.name+":"),y.debug.apply(console,arguments)))},verbose:function(){E.verbose&&E.debug&&(E.performance?y.performance.log(arguments):(y.verbose=Function.prototype.bind.call(console.info,console,E.name+":"),y.verbose.apply(console,arguments)))},error:function(){y.error=Function.prototype.bind.call(console.error,console,E.name+":"),y.error.apply(console,arguments)},performance:{log:function(e){var t,n,r;E.performance&&(t=(new Date).getTime(),r=u||t,n=t-r,u=t,f.push({Element:D,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(y.performance.timer),y.performance.timer=setTimeout(y.performance.display,100)},display:function(){var t=E.name+":",n=0;u=!1,clearTimeout(y.performance.timer),e.each(f,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",w&&(t+=" '"+w+"'"),s.size()>1&&(t+=" ("+s.size()+")"),(console.group!==r||console.table!==r)&&f.length>0&&(console.groupCollapsed(t),console.table?console.table(f):e.each(f,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),f=[]}},invoke:function(t,n,s){var o,u,f;return n=n||p,s=D||s,"string"==typeof t&&P!==r&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var s=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(P[s])&&n!=o)P=P[s];else{if(P[s]!==r)return u=P[s],!1;if(!e.isPlainObject(P[i])||n==o)return P[i]!==r?(u=P[i],!1):(y.error(T.method,t),!1);P=P[i]}})),e.isFunction(u)?f=u.apply(s,n):u!==r&&(f=u),e.isArray(i)?i.push(f):i!==r?i=[i,f]:f!==r&&(i=f),u}},h?(P===r&&y.initialize(),y.invoke(l)):(P!==r&&y.destroy(),y.initialize())}),i!==r?i:this},e.fn.shape.settings={name:"Shape",debug:!0,verbose:!0,performance:!0,namespace:"shape",beforeChange:function(){},onChange:function(){},duration:700,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function(e,t,n,r){e.fn.sidebar=function(t){var i,s=e(this),o=e("body"),u=e("head"),f=s.selector||"",l=(new Date).getTime(),h=[],p=arguments[0],v="string"==typeof p,m=[].slice.call(arguments,1);return s.each(function(){var y,w=e.isPlainObject(t)?e.extend(!0,{},e.fn.sidebar.settings,t):e.extend({},e.fn.sidebar.settings),E=w.selector,S=w.className,x=w.namespace,T=w.error,N="."+x,C="module-"+x,L=e(this),A=e("style[title="+x+"]"),O=this,M=L.data(C);y={initialize:function(){y.debug("Initializing sidebar",L),y.instantiate()},instantiate:function(){y.verbose("Storing instance of module",y),M=y,L.data(C,y)},destroy:function(){y.verbose("Destroying previous module for",L),L.off(N).removeData(C)},refresh:function(){y.verbose("Refreshing selector cache"),A=e("style[title="+x+"]")},attachEvents:function(t,n){var r=e(t);n=e.isFunction(y[n])?y[n]:y.toggle,r.size()>0?(y.debug("Attaching sidebar events to element",t,n),r.off(N).on("click"+N,n)):y.error(T.notFound)},show:function(t){t=e.isFunction(t)?t:function(){},y.debug("Showing sidebar",t),y.is.closed()?(w.overlay||(w.exclusive&&y.hideAll(),y.pushPage()),y.set.active(),t(),e.proxy(w.onChange,O)(),e.proxy(w.onShow,O)()):y.debug("Sidebar is already visible")},hide:function(t){t=e.isFunction(t)?t:function(){},y.debug("Hiding sidebar",t),y.is.open()&&(w.overlay||(y.pullPage(),y.remove.pushed()),y.remove.active(),t(),e.proxy(w.onChange,O)(),e.proxy(w.onHide,O)())},hideAll:function(){e(E.sidebar).filter(":visible").sidebar("hide")},toggle:function(){y.is.closed()?y.show():y.hide()},pushPage:function(){var e=y.get.direction(),t=y.is.vertical()?L.outerHeight():L.outerWidth();w.useCSS?(y.debug("Using CSS to animate body"),y.add.bodyCSS(e,t),y.set.pushed()):y.animatePage(e,t,y.set.pushed)},pullPage:function(){var e=y.get.direction();w.useCSS?(y.debug("Resetting body position css"),y.remove.bodyCSS()):(y.debug("Resetting body position using javascript"),y.animatePage(e,0)),y.remove.pushed()},animatePage:function(e,t){var n={};n["padding-"+e]=t,y.debug("Using javascript to animate body",n),o.animate(n,w.duration,y.set.pushed)},add:{bodyCSS:function(e,t){var n;e!==S.bottom&&(n='<style title="'+x+'">body.pushed {  margin-'+e+": "+t+"px !important;}</style>"),u.append(n),y.debug("Adding body css to head",A)}},remove:{bodyCSS:function(){y.debug("Removing body css styles",A),y.refresh(),A.remove()},active:function(){L.removeClass(S.active)},pushed:function(){y.verbose("Removing body push state",y.get.direction()),o.removeClass(S[y.get.direction()]).removeClass(S.pushed)}},set:{active:function(){L.addClass(S.active)},pushed:function(){y.verbose("Adding body push state",y.get.direction()),o.addClass(S[y.get.direction()]).addClass(S.pushed)}},get:{direction:function(){return L.hasClass(S.top)?S.top:L.hasClass(S.right)?S.right:L.hasClass(S.bottom)?S.bottom:S.left},transitionEvent:function(){var e,t=n.createElement("element"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(t.style[e]!==r)return i[e]}},is:{open:function(){return L.is(":animated")||L.hasClass(S.active)},closed:function(){return!y.is.open()},vertical:function(){return L.hasClass(S.top)}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,w,t);else{if(n===r)return w[t];w[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,y,t);else{if(n===r)return y[t];y[t]=n}},debug:function(){w.debug&&(w.performance?y.performance.log(arguments):(y.debug=Function.prototype.bind.call(console.info,console,w.name+":"),y.debug.apply(console,arguments)))},verbose:function(){w.verbose&&w.debug&&(w.performance?y.performance.log(arguments):(y.verbose=Function.prototype.bind.call(console.info,console,w.name+":"),y.verbose.apply(console,arguments)))},error:function(){y.error=Function.prototype.bind.call(console.error,console,w.name+":"),y.error.apply(console,arguments)},performance:{log:function(e){var t,n,r;w.performance&&(t=(new Date).getTime(),r=l||t,n=t-r,l=t,h.push({Element:O,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(y.performance.timer),y.performance.timer=setTimeout(y.performance.display,100)},display:function(){var t=w.name+":",n=0;l=!1,clearTimeout(y.performance.timer),e.each(h,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",f&&(t+=" '"+f+"'"),s.size()>1&&(t+=" ("+s.size()+")"),(console.group!==r||console.table!==r)&&h.length>0&&(console.groupCollapsed(t),console.table?console.table(h):e.each(h,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(t,n,s){var o,u,f;return n=n||m,s=O||s,"string"==typeof t&&M!==r&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var s=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(M[s])&&n!=o)M=M[s];else{if(M[s]!==r)return u=M[s],!1;if(!e.isPlainObject(M[i])||n==o)return M[i]!==r?(u=M[i],!1):(y.error(T.method,t),!1);M=M[i]}})),e.isFunction(u)?f=u.apply(s,n):u!==r&&(f=u),e.isArray(i)?i.push(f):i!==r?i=[i,f]:f!==r&&(i=f),u}},v?(M===r&&y.initialize(),y.invoke(p)):(M!==r&&y.destroy(),y.initialize())}),i!==r?i:this},e.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",verbose:!0,debug:!0,performance:!0,useCSS:!0,exclusive:!0,overlay:!1,duration:300,onChange:function(){},onShow:function(){},onHide:function(){},className:{active:"active",pushed:"pushed",top:"top",left:"left",right:"right",bottom:"bottom"},selector:{sidebar:".ui.sidebar"},error:{method:"The method you called is not defined.",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(e,t,n,r){e.fn.tab=function(n){var i,s,o,u,f,l=e.extend(!0,{},e.fn.tab.settings,n),c=e(this),h=e(l.context).find(l.selector.tabs),p=c.selector||"",v={},m=!0,g=0,y=this,w=(new Date).getTime(),E=[],S=l.className,x=l.metadata,T=l.error,N="."+l.namespace,C="module-"+l.namespace,k=c.data(C),L=arguments[0],A=k!==r&&"string"==typeof L,O=[].slice.call(arguments,1);return u={initialize:function(){if(u.debug("Initializing Tabs",c),l.auto&&(u.verbose("Setting up automatic tab retrieval from server"),l.apiSettings={url:l.path+"/{$tab}"}),l.history){if(u.debug("Initializing page state"),e.address===r)return u.error(T.state),!1;if("html5"==l.historyType){if(u.debug("Using HTML5 to manage state"),l.path===!1)return u.error(T.path),!1;e.address.history(!0).state(l.path)}e.address.unbind("change").bind("change",u.event.history.change)}e.isWindow(y)||(u.debug("Attaching tab activation events to element",c),c.on("click"+N,u.event.click)),u.instantiate()},instantiate:function(){u.verbose("Storing instance of module",u),c.data(C,u)},destroy:function(){u.debug("Destroying tabs",c),c.removeData(C).off(N)},event:{click:function(t){var n=e(this).data(x.tab);n!==r?(l.history?(u.verbose("Updating page state",t),e.address.value(n)):(u.verbose("Changing tab without state management",t),u.changeTab(n)),t.preventDefault()):u.debug("No tab specified")},history:{change:function(t){var n=t.pathNames.join("/")||u.get.initialPath(),i=l.templates.determineTitle(n)||!1;u.debug("History change event",n,t),o=t,n!==r&&u.changeTab(n),i&&e.address.title(i)}}},refresh:function(){i&&(u.debug("Refreshing tab",i),u.changeTab(i))},cache:{read:function(e){return e!==r?v[e]:!1},add:function(e,t){e=e||i,u.debug("Adding cached content for",e),v[e]=t},remove:function(e){e=e||i,u.debug("Removing cached content for",e),delete v[e]}},set:{state:function(t){e.address.value(t)}},changeTab:function(n){var r=t.history&&t.history.pushState,f=r&&l.ignoreFirstLoad&&m,c=l.auto||e.isPlainObject(l.apiSettings),h=c&&!f?u.utilities.pathToArray(n):u.get.defaultPathArray(n);n=u.utilities.arrayToPath(h),u.deactivate.all(),e.each(h,function(t,r){var p,d,v,g=h.slice(0,t+1),y=u.utilities.arrayToPath(g),b=u.is.tab(y),w=t+1==h.length,E=u.get.tabElement(y);return u.verbose("Looking for tab",r),b?(u.verbose("Tab was found",r),i=y,s=u.utilities.filterArray(h,g),w?v=!0:(p=h.slice(0,t+2),d=u.utilities.arrayToPath(p),v=!u.is.tab(d),v&&u.verbose("Tab parameters found",p)),v&&c?(f?(u.debug("Ignoring remote content on first tab load",y),m=!1,u.cache.add(n,E.html()),u.activate.all(y),e.proxy(l.onTabInit,E)(y,s,o),e.proxy(l.onTabLoad,E)(y,s,o)):(u.activate.navigation(y),u.content.fetch(y,n)),!1):(u.debug("Opened local tab",y),u.activate.all(y),u.cache.read(y)||(u.cache.add(y,!0),u.debug("First time tab loaded calling tab init"),e.proxy(l.onTabInit,E)(y,s,o)),e.proxy(l.onTabLoad,E)(y,s,o),void 0)):(u.error(T.missingTab,r),!1)})},content:{fetch:function(t,n){var f,c,h=u.get.tabElement(t),p={dataType:"html",stateContext:h,success:function(r){u.cache.add(n,r),u.content.update(t,r),t==i?(u.debug("Content loaded",t),u.activate.tab(t)):u.debug("Content loaded in background",t),e.proxy(l.onTabInit,h)(t,s,o),e.proxy(l.onTabLoad,h)(t,s,o)},urlData:{tab:n}},v=h.data(x.promise)||!1,m=v&&"pending"===v.state();n=n||t,c=u.cache.read(n),l.cache&&c?(u.debug("Showing existing content",n),u.content.update(t,c),u.activate.tab(t),e.proxy(l.onTabLoad,h)(t,s,o)):m?(u.debug("Content is already loading",n),h.addClass(S.loading)):e.api!==r?(console.log(l.apiSettings),f=e.extend(!0,{headers:{"X-Remote":!0}},l.apiSettings,p),u.debug("Retrieving remote content",n,f),e.api(f)):u.error(T.api)},update:function(e,t){u.debug("Updating html for",e);var n=u.get.tabElement(e);n.html(t)}},activate:{all:function(e){u.activate.tab(e),u.activate.navigation(e)},tab:function(e){var t=u.get.tabElement(e);u.verbose("Showing tab content for",t),t.addClass(S.active)},navigation:function(e){var t=u.get.navElement(e);u.verbose("Activating tab navigation for",t,e),t.addClass(S.active)}},deactivate:{all:function(){u.deactivate.navigation(),u.deactivate.tabs()},navigation:function(){c.removeClass(S.active)},tabs:function(){h.removeClass(S.active+" "+S.loading)}},is:{tab:function(e){return e!==r?u.get.tabElement(e).size()>0:!1}},get:{initialPath:function(){return c.eq(0).data(x.tab)||h.eq(0).data(x.tab)},path:function(){return e.address.value()},defaultPathArray:function(e){return u.utilities.pathToArray(u.get.defaultPath(e))},defaultPath:function(e){var t=c.filter("[data-"+x.tab+'^="'+e+'/"]').eq(0),n=t.data(x.tab)||!1;if(n){if(u.debug("Found default tab",n),g<l.maxDepth)return g++,u.get.defaultPath(n);u.error(T.recursion)}else u.debug("No default tabs found for",e,h);return g=0,e},navElement:function(e){return e=e||i,c.filter("[data-"+x.tab+'="'+e+'"]')},tabElement:function(e){var t,n,r,s;return e=e||i,r=u.utilities.pathToArray(e),s=u.utilities.last(r),t=h.filter("[data-"+x.tab+'="'+s+'"]'),n=h.filter("[data-"+x.tab+'="'+e+'"]'),t.size()>0?t:n},tab:function(){return i}},utilities:{filterArray:function(t,n){return e.grep(t,function(t){return-1==e.inArray(t,n)})},last:function(t){return e.isArray(t)?t[t.length-1]:!1},pathToArray:function(e){return e===r&&(e=i),"string"==typeof e?e.split("/"):[e]},arrayToPath:function(t){return e.isArray(t)?t.join("/"):!1}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,l,t);else{if(n===r)return l[t];l[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,u,t);else{if(n===r)return u[t];u[t]=n}},debug:function(){l.debug&&(l.performance?u.performance.log(arguments):(u.debug=Function.prototype.bind.call(console.info,console,l.name+":"),u.debug.apply(console,arguments)))},verbose:function(){l.verbose&&l.debug&&(l.performance?u.performance.log(arguments):(u.verbose=Function.prototype.bind.call(console.info,console,l.name+":"),u.verbose.apply(console,arguments)))},error:function(){u.error=Function.prototype.bind.call(console.error,console,l.name+":"),u.error.apply(console,arguments)},performance:{log:function(e){var t,n,r;l.performance&&(t=(new Date).getTime(),r=w||t,n=t-r,w=t,E.push({Element:y,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(u.performance.timer),u.performance.timer=setTimeout(u.performance.display,100)},display:function(){var t=l.name+":",n=0;w=!1,clearTimeout(u.performance.timer),e.each(E,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",p&&(t+=" '"+p+"'"),(console.group!==r||console.table!==r)&&E.length>0&&(console.groupCollapsed(t),console.table?console.table(E):e.each(E,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),E=[]}},invoke:function(t,n,i){var s,o,l;return n=n||O,i=y||i,"string"==typeof t&&k!==r&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,i){var f=n!=s?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(k[i])&&n!=s)k=k[i];else{if(!e.isPlainObject(k[f])||n==s)return k[i]!==r?(o=k[i],!1):k[f]!==r?(o=k[f],!1):(u.error(T.method,t),!1);k=k[f]}})),e.isFunction(o)?l=o.apply(i,n):o!==r&&(l=o),e.isArray(f)?f.push(l):f!==r?f=[f,l]:l!==r&&(f=l),o}},A?(k===r&&u.initialize(),u.invoke(L)):(k!==r&&u.destroy(),u.initialize()),f!==r?f:this},e.tab=function(n){e(t).tab(n)},e.fn.tab.settings={name:"Tab",verbose:!0,debug:!0,performance:!0,namespace:"tab",onTabInit:function(){},onTabLoad:function(){},templates:{determineTitle:function(){}},auto:!1,history:!0,historyType:"hash",path:!1,context:"body",maxDepth:25,ignoreFirstLoad:!1,alwaysRefresh:!1,cache:!0,apiSettings:!1,error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Tab cannot be found",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",state:"The state library has not been initialized"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab"}}}(jQuery,window,document),function(e,t,n,r){e.fn.transition=function(){var i,s=e(this),o=s.selector||"",u=(new Date).getTime(),f=[],l=arguments,h=l[0],p=[].slice.call(arguments,1),v="string"==typeof h;return t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},s.each(function(){var t,y,b,w,E,S,x,T,N,C,L=e(this),A=this;C={initialize:function(){t=C.get.settings.apply(A,l),C.verbose("Converted arguments into settings object",t),b=t.error,w=t.className,T=t.namespace,E=t.metadata,N="module-"+T,S=C.get.animationEvent(),x=C.get.animationName(),y=L.data(N),y===r&&C.instantiate(),v&&(v=C.invoke(h)),v===!1&&C.animate()},instantiate:function(){C.verbose("Storing instance of module",C),y=C,L.data(N,y)},destroy:function(){C.verbose("Destroying previous module for",A),L.removeData(N)},animate:function(e){return t=e||t,C.is.supported()?(C.debug("Preparing animation",t.animation),C.is.animating()?(t.queue&&C.queue(t.animation),!1):(C.save.conditions(),C.set.duration(t.duration),C.set.animating(),C.repaint(),L.addClass(w.transition).addClass(t.animation).one(S,C.complete),!C.has.direction()&&C.can.transition()&&C.set.direction(),C.has.transitionAvailable()?(C.show(),C.debug("Starting tween",t.animation,L.attr("class")),void 0):(C.restore.conditions(),C.error(b.noAnimation),!1))):(C.error(b.support),!1)},queue:function(e){C.debug("Queueing animation of",e),y.queuing=!0,L.one(S,function(){y.queuing=!1,C.animate.apply(this,t)})},complete:function(){C.verbose("CSS animation complete",t.animation),C.is.looping()||(L.hasClass(w.outward)?(C.restore.conditions(),C.hide(),e.proxy(t.onHide,this)()):L.hasClass(w.inward)?(C.restore.conditions(),C.show(),e.proxy(t.onShow,this)()):C.restore.conditions(),C.remove.animating()),e.proxy(t.complete,this)()},repaint:function(e){C.verbose("Forcing repaint event"),e=A.offsetWidth},has:{direction:function(e){return e=e||t.animation,L.hasClass(w.inward)||L.hasClass(w.outward)?!0:void 0},transitionAvailable:function(){return"none"!==L.css(x)?(C.debug("CSS definition found"),!0):(C.debug("Unable to find css definition"),!1)}},set:{animating:function(){L.addClass(w.animating)},direction:function(){L.is(":visible")?(C.debug("Automatically determining the direction of animation","Outward"),L.addClass(w.outward).removeClass(w.inward)):(C.debug("Automatically determining the direction of animation","Inward"),L.addClass(w.inward).removeClass(w.outward))},looping:function(){C.debug("Transition set to loop"),L.addClass(w.looping)},duration:function(e){e=e||t.duration,e="number"==typeof e?e+"ms":e,C.verbose("Setting animation duration",e),L.css({"-webkit-animation-duration":e,"-moz-animation-duration":e,"-ms-animation-duration":e,"-o-animation-duration":e,"animation-duration":e})}},save:{conditions:function(){C.cache={className:L.attr("class"),style:L.attr("style")},C.verbose("Saving original attributes",C.cache)}},restore:{conditions:function(){return typeof C.cache===r?(C.error(b.cache),!1):(C.cache.className?L.attr("class",C.cache.className):L.removeAttr("class"),C.cache.style?L.attr("style",C.cache.style):L.removeAttr("style"),C.is.looping()&&C.remove.looping(),C.verbose("Restoring original attributes",C.cache),void 0)}},remove:{animating:function(){L.removeClass(w.animating)},looping:function(){C.debug("Transitions are no longer looping"),L.removeClass(w.looping),C.repaint()}},get:{settings:function(t,n,r){return e.isPlainObject(t)?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof r?e.extend(!0,{},e.fn.transition.settings,{animation:t,complete:r,duration:n}):"string"==typeof n||"number"==typeof n?e.extend(!0,{},e.fn.transition.settings,{animation:t,duration:n}):"object"==typeof n?e.extend(!0,{},e.fn.transition.settings,n,{animation:t}):"function"==typeof n?e.extend(!0,{},e.fn.transition.settings,{animation:t,complete:n}):e.extend(!0,{},e.fn.transition.settings,{animation:t})},animationName:function(){var e,t=n.createElement("div"),i={animation:"animationName",OAnimation:"oAnimationName",MozAnimation:"mozAnimationName",WebkitAnimation:"webkitAnimationName"};for(e in i)if(t.style[e]!==r)return C.verbose("Determined animation vendor name property",i[e]),i[e];return!1},animationEvent:function(){var e,t=n.createElement("div"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(t.style[e]!==r)return C.verbose("Determined animation vendor end event",i[e]),i[e];return!1}},can:{transition:function(){var t=e("<div>").addClass(L.attr("class")).appendTo(e("body")),n=t.css(x),r=t.addClass(w.inward).css(x);return n!=r?(C.debug("In/out transitions exist"),t.remove(),!0):(C.debug("Static animation found"),t.remove(),!1)}},is:{animating:function(){return L.hasClass(w.animating)},looping:function(){return L.hasClass(w.looping)},visible:function(){return L.is(":visible")},supported:function(){return x!==!1&&S!==!1}},hide:function(){C.verbose("Hiding element"),L.removeClass(w.visible).addClass(w.transition).addClass(w.hidden),C.repaint()},show:function(){C.verbose("Showing element"),L.removeClass(w.hidden).addClass(w.transition).addClass(w.visible),C.repaint()},start:function(){C.verbose("Starting animation"),L.removeClass(w.disabled)},stop:function(){C.debug("Stopping animation"),L.addClass(w.disabled)},toggle:function(){C.debug("Toggling play status"),L.toggleClass(w.disabled)},setting:function(n,i){if(e.isPlainObject(n))e.extend(!0,t,n);else{if(i===r)return t[n];t[n]=i}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,C,t);else{if(n===r)return C[t];C[t]=n}},debug:function(){t.debug&&(t.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,t.name+":"),C.debug.apply(console,arguments)))},verbose:function(){t.verbose&&t.debug&&(t.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,t.name+":"),C.verbose.apply(console,arguments)))},error:function(){C.error=Function.prototype.bind.call(console.error,console,t.name+":"),C.error.apply(console,arguments)},performance:{log:function(e){var n,r,i;t.performance&&(n=(new Date).getTime(),i=u||n,r=n-i,u=n,f.push({Element:A,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":r})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,100)},display:function(){var n=t.name+":",i=0;u=!1,clearTimeout(C.performance.timer),e.each(f,function(e,t){i+=t["Execution Time"]}),n+=" "+i+"ms",o&&(n+=" '"+o+"'"),s.size()>1&&(n+=" ("+s.size()+")"),(console.group!==r||console.table!==r)&&f.length>0&&(console.groupCollapsed(n),console.table?console.table(f):e.each(f,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),f=[]}},invoke:function(t,n,s){var o,u,f;return n=n||p,s=A||s,"string"==typeof t&&y!==r&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var s=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(y[s])&&n!=o)y=y[s];else{if(y[s]!==r)return u=y[s],!1;if(!e.isPlainObject(y[i])||n==o)return y[i]!==r?(u=y[i],!1):!1;y=y[i]}})),e.isFunction(u)?f=u.apply(s,n):u!==r&&(f=u),e.isArray(i)?i.push(f):i!==r?i=[i,f]:f!==r&&(i=f),u||!1}},C.initialize()}),i!==r?i:this},e.fn.transition.settings={name:"Transition",debug:!1,verbose:!0,performance:!0,namespace:"transition",complete:function(){},onShow:function(){},onHide:function(){},animation:"fade",duration:"700ms",queue:!0,className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"ui transition",visible:"visible"},error:{noAnimation:"There is no css animation matching the one you specified.",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(e,t,n,r){e.fn.video=function(t){var n,i=e(this),s=i.selector||"",o=(new Date).getTime(),u=[],f=arguments[0],l="string"==typeof f,c=[].slice.call(arguments,1);return i.each(function(){var p,v=e.isPlainObject(t)?e.extend(!0,{},e.fn.video.settings,t):e.extend({},e.fn.video.settings),m=v.selector,y=v.className,w=v.error,E=v.metadata,S=v.namespace,x="."+S,T="module-"+S,N=e(this),C=N.find(m.placeholder),L=N.find(m.playButton),A=N.find(m.embed),O=this,M=N.data(T);p={initialize:function(){p.debug("Initializing video"),C.on("click"+x,p.play),L.on("click"+x,p.play),p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p),M=p,N.data(T,p)},destroy:function(){p.verbose("Destroying previous instance of video"),N.removeData(T).off(x),C.off(x),L.off(x)},change:function(e,t,n){p.debug("Changing video to ",e,t,n),N.data(E.source,e).data(E.id,t).data(E.url,n),v.onChange()},reset:function(){p.debug("Clearing video embed and showing placeholder"),N.removeClass(y.active),A.html(" "),C.show(),v.onReset()},play:function(){p.debug("Playing video");var e=N.data(E.source)||!1,t=N.data(E.url)||!1,n=N.data(E.id)||!1;A.html(p.generate.html(e,n,t)),N.addClass(y.active),v.onPlay()},generate:{html:function(e,t,n){p.debug("Generating embed html");var r,i="auto"==v.width?N.width():v.width,s="auto"==v.height?N.height():v.height;return e&&t?"vimeo"==e?r='<iframe src="http://player.vimeo.com/video/'+t+"?="+p.generate.url(e)+'" width="'+i+'" height="'+s+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>':"youtube"==e&&(r='<iframe src="http://www.youtube.com/embed/'+t+"?="+p.generate.url(e)+'" width="'+i+'" height="'+s+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'):n?r='<iframe src="'+n+'" width="'+i+'" height="'+s+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>':p.error(w.noVideo),r},url:function(e){var t=v.api?1:0,n=v.autoplay?1:0,r=v.hd?1:0,i=v.showUI?1:0,s=v.showUI?0:1,o="";return"vimeo"==e&&(o="api="+t+"&amp;title="+i+"&amp;byline="+i+"&amp;portrait="+i+"&amp;autoplay="+n,v.color&&(o+="&amp;color="+v.color)),"ustream"==e?(o="autoplay="+n,v.color&&(o+="&amp;color="+v.color)):"youtube"==e&&(o="enablejsapi="+t+"&amp;autoplay="+n+"&amp;autohide="+s+"&amp;hq="+r+"&amp;modestbranding=1",v.color&&(o+="&amp;color="+v.color)),o}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,v,t);else{if(n===r)return v[t];v[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===r)return p[t];p[t]=n}},debug:function(){v.debug&&(v.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,v.name+":"),p.debug.apply(console,arguments)))},verbose:function(){v.verbose&&v.debug&&(v.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,v.name+":"),p.verbose.apply(console,arguments)))},error:function(){p.error=Function.prototype.bind.call(console.error,console,v.name+":"),p.error.apply(console,arguments)},performance:{log:function(e){var t,n,r;v.performance&&(t=(new Date).getTime(),r=o||t,n=t-r,o=t,u.push({Element:O,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,100)},display:function(){var t=v.name+":",n=0;o=!1,clearTimeout(p.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),i.size()>1&&(t+=" ("+i.size()+")"),(console.group!==r||console.table!==r)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,i,s){var o,u,f;return i=i||c,s=O||s,"string"==typeof t&&M!==r&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var s=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(M[s])&&n!=o)M=M[s];else{if(M[s]!==r)return u=M[s],!1;if(!e.isPlainObject(M[i])||n==o)return M[i]!==r?(u=M[i],!1):(p.error(w.method,t),!1);M=M[i]}})),e.isFunction(u)?f=u.apply(s,i):u!==r&&(f=u),e.isArray(n)?n.push(f):n!==r?n=[n,f]:f!==r&&(n=f),u}},l?(M===r&&p.initialize(),p.invoke(f)):(M!==r&&p.destroy(),p.initialize())}),n!==r?n:this},e.fn.video.settings={name:"Video",namespace:"video",debug:!0,verbose:!0,performance:!0,metadata:{source:"source",id:"id",url:"url"},onPlay:function(){},onReset:function(){},onChange:function(){},onPause:function(){},onStop:function(){},width:"auto",height:"auto",autoplay:!1,color:"#442359",hd:!0,showUI:!1,api:!0,error:{noVideo:"No video specified",method:"The method you called is not defined"},className:{active:"active"},selector:{embed:".embed",placeholder:".placeholder",playButton:".play"}}}(jQuery,window,document),define("semantic",function(){}),define("Views/GraphView",["backbone","jquery","Views/Messages","underscore","highcharts","semantic"],function(e,t,n,r,i){var s=e.View.extend({settings:function(){return{legend:{enabled:!0},animation:!1,navigator:{enabled:!1},rangeSelector:{buttons:[{type:"day",count:1,text:"1d"},{type:"week",count:1,text:"1w"},{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],selected:1},title:{text:this.model.get("title")},chart:{renderTo:this.el}}},render:function(){return this.chart=i.StockChart(this.settings()),this},remove:function(){e.View.prototype.remove.apply(this,arguments),this.chart.destroy()}});return s}),define("tpl!Templates/MoreInfo.html",function(){return function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("<div class='left'><div class='ui very relaxed divided list'> <div class='item'><span class='header'>Target</span><span class='right floated'>",target,"</span></div><div class='item'><span class='header'>Version</span><span class='right floated'>",ver,"</span></div><div class='item'><span class='header'>Runtime</span><span class='right floated'>",rtm,"</span></div><div class='item'><span class='header'>Host</span><span class='right floated'>",hostname,"</span></div><div class='item'><span class='header'>Cmdorb</span> <span class='right floated'>",orbc,"</span></div><div class='item'><span class='header'>model</span><span class='right floated'>",model,"</span></div><div class='item'><span class='header'>Sn</span><span class='right floated'>",sn,"</span></div><div class='item'><span class='header'>Ptag</span><span class='right floated'>",pt,"</span></div><div class='item'><span class='header'>Nchan</span><span class='right floated'>",nc,"</span></div><div class='item'><span class='header'>Nrb</span><span class='right floated'>",nrb,"</span></div><div class='item'><span class='header'>Trb</span><span class='right floated'>",trb,"</span></div><div class='item'><span class='header'>11(gp24)</span><span class='right floated'>",gp24,"</span></div><div class='item'><span class='header'>12(opt)</span><span class='right floated'>",opt,"</span></div><div class='item'><span class='header'>13(dlt)</span><span class='right floated'>",dlt,"</span></div><div class='item'><span class='header'>Lat</span><span class='right floated'>",lat,"</span></div><div class='item'><span class='header'>Lon</span><span class='right floated'>",lon,"</span></div></div></div><div id='all-graph' class='right'><!-- Graph gets rendered here --></div>");return __p.join("")}}),define("Views/InfoGraph",["backbone","tpl!Templates/MoreInfo.html","Views/GraphView"],function(e,t,n){var r=e.Marionette.ItemView.extend({className:"content",template:t,initialize:function(e){this.graph=e.graph},onShow:function(){this.title=$("<h1 class='header'>"+this.model.get("id")+"</h1>"),this.$el.before(this.title)},onRender:function(){this.$el.find("#all-graph").append(this.graph.render().$el),console.log(this.title)},remove:function(){var t=this;e.Marionette.ItemView.prototype.remove.apply(this,arguments),setTimeout(function(){t.title.remove(),t.graph.remove()},1e3)}});return r}),define("TemplateHelpers",["Settings"],function(e){return{getTemp:function(e){return isNaN(this.dt)?this.dt:Math.round(this.dt)+"C"},getVolt:function(){return isNaN(this.dv)?this.dv:parseFloat(this.dv).toFixed(1)+"V"},getAmp:function(){return isNaN(this.da)?this.da:Math.round(this.da*1e3)+"mA"},getCld:function(){return isNaN(this.cld)?this.cld:Math.round(this.cld)+"us"},seconds:function(e){return isNaN(e)?e:Math.round(e)+"s"},percent:function(e){return isNaN(e)?e:Math.round(e)+"%"},fixed:function(e,t){return isNaN(e)?e:parseFloat(e).toFixed(t)},round:function(e){return isNaN(e)?e:Math.round(e)},getElevation:function(){return isNaN(this.elev)?this.elev:Math.round(this.elev*1e3)+"m"},bigNumber:function(e){var t;return isNaN(e)?t=e:parseInt(e)>1e6?t=Math.round(e/1e6)+"M":parseInt(e)>=1e3?t=Math.round(e/1e3)+"K":t=parseInt(e),t},uptime:function(e){var t=Math.floor(e/60)%60,n=Math.floor(e/3600)%24,r=Math.floor(e/86400),i=r?r+"d":"",s=n?n+"h":"",o=t?t+"m":"";return i+s+o||e},getColor:function(t){var n=e.WARNING_MAP[t],r=e.STYLE,i=this[t],s;return!n||isNaN(i)?r.DEFAULT:(i=parseFloat(i),i<=n.MAX&&i>=n.MIN?i>=n.MAX-n.WARN_SPAN||i<=e.MIN+n.WARN_SPAN?s=r.WARN:s=r.OK:s=r.DANGER,s)}}}),define("Views/DataView",["backbone","jquery","underscore","Settings","Views/Messages","Views/GraphView","Views/InfoGraph","TemplateHelpers","tpl!Templates/TableView.html","tpl!Templates/TableRow.html","semantic","marionette"],function(e,t,n,r,i,s,o,u,a,f){var l=e.Marionette.ItemView.extend({templateHelpers:u,modelEvents:{change:"render"},events:{"click .info":"graphInfo","click [data-field]":"graphSingle"},initialize:function(){this.vent=this.model.collection.vent,n.bindAll(this,"error")},graph:function(e){return function(n){var r=new Date,i=6048e5;e.chart.addSeries(n,!1),e.chart.xAxis[0].setExtremes(r-i,r),e.chart.hideLoading()}},graphSingle:function(n){var r=t(n.currentTarget).data("field"),i=this.model.get("id"),o=new s({model:new e.Model({title:i+"_"+r})});this.vent.trigger("display:modal",o),this.vent.trigger("FieldDataFetchBehavior",i,r,this.graph(o)),o.chart.showLoading()},graphInfo:function(){var t=this.model.get("id"),n=new s({model:new e.Model({title:t})});this.vent.trigger("display:modal",new o({model:this.model,graph:n})),this.vent.trigger("InfoDataFetchBehavior",t,this.graph(n)),n.chart.showLoading()},error:function(){this.vent.trigger("hide:spinner"),this.vent.trigger("flash",{message:r.RRD_ERROR,type:"error"})},attributes:function(){return{"data-id":this.model.get("id")}}});return l}),define("Views/TableView",["backbone","underscore","jquery","tpl!Templates/TableView.html","tpl!Templates/TableRow.html","Views/DataView","semantic","marionette"],function(e,t,n,r,i,s,o){var u=e.Marionette.CompositeView.extend({tagName:"table",template:r,className:"ui basic huge sortable table segment",events:{"click th":"sortBy"},itemViewContainer:"tbody",collectionEvents:{sort:"render"},itemView:s.extend({tagName:"tr",template:i})});return u}),function(e,t){typeof exports=="object"?module.exports=t():typeof define=="function"&&define.amd?define("spin",t):e.Spinner=t()}(this,function(){function r(e,t){var n=document.createElement(e||"div"),r;for(r in t)n[r]=t[r];return n}function i(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}function o(e,r,i,o){var u=["opacity",r,~~(e*100),i,o].join("-"),a=.01+i/o*100,f=Math.max(1-(1-e)/r*(100-a),e),l=n.substring(0,n.indexOf("Animation")).toLowerCase(),c=l&&"-"+l+"-"||"";return t[u]||(s.insertRule("@"+c+"keyframes "+u+"{"+"0%{opacity:"+f+"}"+a+"%{opacity:"+e+"}"+(a+.01)+"%{opacity:1}"+(a+r)%100+"%{opacity:"+e+"}"+"100%{opacity:"+f+"}"+"}",s.cssRules.length),t[u]=1),u}function u(t,n){var r=t.style,i,s;n=n.charAt(0).toUpperCase()+n.slice(1);for(s=0;s<e.length;s++){i=e[s]+n;if(r[i]!==undefined)return i}if(r[n]!==undefined)return n}function a(e,t){for(var n in t)e.style[u(e,n)||n]=t[n];return e}function f(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]===undefined&&(e[r]=n[r])}return e}function l(e){var t={x:e.offsetLeft,y:e.offsetTop};while(e=e.offsetParent)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}function c(e,t){return typeof e=="string"?e:e[t%e.length]}function p(e){if(typeof this=="undefined")return new p(e);this.opts=f(e||{},p.defaults,h)}function d(){function e(e,t){return r("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}s.addRule(".spin-vml","behavior:url(#default#VML)"),p.prototype.lines=function(t,n){function o(){return a(e("group",{coordsize:s+" "+s,coordorigin:-r+" "+ -r}),{width:s,height:s})}function h(t,s,u){i(f,i(a(o(),{rotation:360/n.lines*t+"deg",left:~~s}),i(a(e("roundrect",{arcsize:n.corners}),{width:r,height:n.width,left:n.radius,top:-n.width>>1,filter:u}),e("fill",{color:c(n.color,t),opacity:n.opacity}),e("stroke",{opacity:0}))))}var r=n.length+n.width,s=2*r,u=-(n.width+n.length)*2+"px",f=a(o(),{position:"absolute",top:u,left:u}),l;if(n.shadow)for(l=1;l<=n.lines;l++)h(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=n.lines;l++)h(l);return i(t,f)},p.prototype.opacity=function(e,t,n,r){var i=e.firstChild;r=r.shadow&&r.lines||0,i&&t+r<i.childNodes.length&&(i=i.childNodes[t+r],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}}var e=["webkit","Moz","ms","O"],t={},n,s=function(){var e=r("style",{type:"text/css"});return i(document.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),h={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};p.defaults={},f(p.prototype,{spin:function(e){this.stop();var t=this,i=t.opts,s=t.el=a(r(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex}),o=i.radius+i.length+i.width,u,f;e&&(e.insertBefore(s,e.firstChild||null),f=l(e),u=l(s),a(s,{left:(i.left=="auto"?f.x-u.x+(e.offsetWidth>>1):parseInt(i.left,10)+o)+"px",top:(i.top=="auto"?f.y-u.y+(e.offsetHeight>>1):parseInt(i.top,10)+o)+"px"})),s.setAttribute("role","progressbar"),t.lines(s,t.opts);if(!n){var c=0,h=(i.lines-1)*(1-i.direction)/2,p,d=i.fps,v=d/i.speed,m=(1-i.opacity)/(v*i.trail/100),g=v/i.lines;(function y(){c++;for(var e=0;e<i.lines;e++)p=Math.max(1-(c+(i.lines-e)*g)%v*m,i.opacity),t.opacity(s,e*i.direction+h,p,i);t.timeout=t.el&&setTimeout(y,~~(1e3/d))})()}return t},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=undefined),this},lines:function(e,t){function l(e,n){return a(r(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*s+t.rotate)+"deg) translate("+t.radius+"px"+",0)",borderRadius:(t.corners*t.width>>1)+"px"})}var s=0,u=(t.lines-1)*(1-t.direction)/2,f;for(;s<t.lines;s++)f=a(r(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:n&&o(t.opacity,t.trail,u+s*t.direction,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&i(f,a(l("#000","0 0 4px #000"),{top:"2px"})),i(e,i(f,l(c(t.color,s),"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var v=a(r("group"),{behavior:"url(#default#VML)"});return!u(v,"transform")&&v.adj?d():n=u(v,"animation"),p}),define("Views/Modal",["backbone","spin","semantic"],function(e,t){var n=e.View.extend({el:".modal",initialize:function(){var e=document.getElementById("spinner"),n=this;this.spinner=(new t({color:"#aaa",top:"75px",left:"75px"})).spin(e),this.spinner.hide=function(){$(e).removeClass("visible").addClass("hidden"),this.stop()},this.spinner.show=function(t){n._spinTarget=t?n.$(t):$("body"),$(e).appendTo(n._spinTarget).removeClass("hidden").addClass("visible"),this.spin(e)}},render:function(e){this.spinner.hide(),this.$el.html(e),this.$el.modal("show")},spin:function(e){this.spinner.show(e)},stopSpin:function(){this.spinner.hide()},hide:function(){this.$el.modal("hide")}});return n}),define("Router",["backbone","marionette"],function(e){var t=e.Marionette.AppRouter.extend({appRoutes:{"":"overview",overview:"overview",details:"details"}});return t}),define("Views/Menu",["backbone","jquery","Collection","Router"],function(e,t,n,r){var i=e.View.extend({el:"#region-menu",events:{"click .item[data-action=details]":"details","click .item[data-action=overview]":"overview"},initialize:function(e){this.vent=e.vent,this.model.on("change:count",this.renderCounter,this)},renderCounter:function(e,t){var n=this.$(".label");t?(n.show(),document.title="("+t+(t>1?" warning":" warning")+") WebDLMon | NEES@UCSB",this.$(".label").html(t)):(n.hide(),document.title="WebDLMon | NEES@UCSB")},details:function(){this.vent.trigger("select:details")},overview:function(){this.vent.trigger("select:overview")},select:function(e){this.$(".active").removeClass("active"),this.$("[data-action="+e+"]").addClass("active")}});return i}),define("tpl!Templates/Overview.html",function(){return function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("<article class='ui three column celled grid'><div class='row'><section class='column'><div data-content='Digitizer temperature' data-field='dt' class='ui ",getColor("dt")," inverted segment'>",getTemp(),"</div></section><section class='column'><div data-content='Digitizer voltage' data-field='dv' class='ui ",getColor("dv")," inverted segment'>",getVolt(),"</div></section><section class='column'><div data-content='Digitizer current' data-field='da' class='ui ",getColor("da")," inverted segment'>",getAmp(),"</div></section></div><div class='three column row'><section class='ui three column wide ",ok?"green":"red"," button'><div title='",diff!=="0"?diff+" ago":"recently","' data-content='id' class='info ui center aligned header'>",id,"</div></section></div><div class='row'><section class='column'><div data-content='Data latency' data-field='dlt' class='ui ",getColor("dlt")," inverted segment'>",seconds(dlt),"</div></section><section class='column'><div data-content='Clock quality' data-field='lcq' class='ui ",getColor("lcq")," inverted segment'>",percent(lcq),"</div></section></div></article>");return __p.join("")}}),define("Views/Overview",["backbone","jquery","tpl!Templates/Overview.html","Views/DataView","Settings","marionette"],function(e,t,n,r,i){var s=e.Marionette.CollectionView.extend({itemView:r.extend({className:"ui overview piled segment",template:n}),collectionEvents:{"change sort":"render"}});return s}),define("Controller",["backbone","marionette"],function(e){var t=e.Marionette.Controller.extend({initialize:function(e){this.vent=e.vent,this.collection=e.collection},overview:function(){this.vent.trigger("display:overview",this.collection)},details:function(){this.vent.trigger("display:details",this.collection)}});return t}),define("data",["backbone","underscore","Settings","io"],function(e,t,n,r){return function(e){var i=r.connect(n.APP_URL),s=n.APP_URL+"/rrd/";e.on("InfoDataFetchBehavior",function(e,t){$.when($.getJSON(s+e+"/dv")).then(function(e){t({name:e.field.field,data:e.data})})}),e.on("InfoDataFetchBehavior",function(e,n){$.when($.getJSON(s+e+"/da")).then(function(e){e.data=t.map(e.data,function(e){return[e[0],e[1]*100]}),n({name:"da (x100)",data:e.data})})}),e.on("InfoDataFetchBehavior",function(e,t){$.when($.getJSON(s+e+"/dt")).then(function(e){t({name:e.field.field,data:e.data})})}),e.on("FieldDataFetchBehavior",function(e,t,n){$.when($.getJSON(s+e+"/"+t)).then(function(e){n({name:e.field.field,data:e.data})})}),i.on("die",function(){e.trigger("flash",{message:n.RRD_ERR_MSG,type:"error",method:"keep"}),i.once("live",function(){e.trigger("flash",{message:n.RRD_OK_MSG,type:"success"})})}),i.on("data",function(t){e.trigger("data",t)}),i.on("error",function(t){e.trigger("error",t),e.trigger("flash",{message:t,type:"error"})})}}),define("app",["backbone","Collection","Views/TableView","Views/Modal","Views/Menu","Router","Views/Messages","Views/Overview","Controller","Settings","data","marionette"],function(e,t,n,r,i,s,o,u,a,f,l){var c=new e.Marionette.Application;c.addRegions({messageRegion:"#message-region",dataRegion:"#region-data",optionsRegion:"#region-options",modalRegion:"#graph-modal"}),c.modalRegion.on("show",function(e){c.modalRegion.$el.modal("setting",{onHide:function(){c.modalRegion.close()}}),c.modalRegion.$el.modal("show")}),l(c.vent),c.addInitializer(function(){c.vent.on("flash",function(e){c.messageRegion.timeout&&clearTimeout(c.messageRegion.timeout),c.messageRegion.show(new o(e)),e.method!=="keep"&&(c.messageRegion.timeout=setTimeout(function(){c.messageRegion.close()},f.MESSAGE_TIMEOUT))})}),c.addInitializer(function(){var e=new t([],{vent:c.vent}),n=new a({collection:e,vent:c.vent}),r=new s({controller:n}),o=new i({vent:c.vent,model:e.deadCounter});c.vent.on({"select:details":function(){r.navigate("/details",{replace:!0}),n.details()},"select:overview":function(){r.navigate("/overview",{replace:!0}),n.overview()}}),c.vent.on({"display:overview":function(){o.select("overview")},"display:details":function(){o.select("details")}})}),c.addInitializer(function(){var e=new r;c.vent.on({"display:overview":function(e){c.dataRegion.show(new u({collection:e}))},"display:details":function(e){c.dataRegion.show(new n({collection:e}))},"display:modal":function(e){c.modalRegion.show(e)},"display:spinner":function(e){},"display:modal:inject":function(e){},"hide:spinner":function(){}})}),c.on("initialize:after",function(){e.history.start()}),c.start()}),require.config({paths:{jquery:"../bower_components/jquery/jquery",backbone:"../bower_components/backbone/backbone",underscore:"../bower_components/underscore/underscore",io:"http://webdlmon.nees.ucsb.edu:8888/socket.io/socket.io",marionette:"../bower_components/marionette/lib/backbone.marionette",semantic:"../bower_components/semantic/build/packaged/javascript/semantic.min",highcharts:"../bower_components/highstock/js/highstock.src",tpl:"../bower_components/requirejs-tpl/tpl",spin:"../bower_components/spin.js/spin"},shim:{backbone:{exports:"Backbone",deps:["underscore","jquery"]},marionette:{exports:"Marionette",deps:["backbone"]},jquery:{exports:"jQuery"},underscore:{exports:"_"},io:{exports:"io"},semantic:["jquery"],highcharts:{deps:["jquery"],exports:"Highcharts"}}}),require(["app"]),define("main",function(){});